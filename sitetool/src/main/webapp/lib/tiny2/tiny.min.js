/**
 * Description: TinyUI2.0 components
 * Version: 2.3.0
 */

define("components/common/service/service",[],function(){"use strict";function t(){this.contains=function(e,t){return angular.isArray(e)?_.contains(e,t):!1},this.add=function(e,t){return e=angular.isArray(e)?e:[],_.contains(e,t)||e.push(t),e},this.remove=function(e,t){if(angular.isArray(e))for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}return e}}var e=angular.module("tiny.service",[]);return e.service("tiService",t),e.name}),define("components/common/utils/browser",[],function(){function e(){var e={},t=navigator.userAgent.toLowerCase(),n;return(n=t.match(/rv:([\d.]+)\) like gecko/))?e.ie=!0:(n=t.match(/msie ([\d.]+)/))?e.ie=!0:(n=t.match(/firefox\/([\d.]+)/))?e.firefox=!0:(n=t.match(/chrome\/([\d.]+)/))?e.chrome=!0:(n=t.match(/opera.([\d.]+)/))?e.opera=!0:(n=t.match(/version\/([\d.]+).*safari/))?e.safari=!0:0,_.isArray(n)&&(e.version=n[1]),e}return!window.tiny&&(window.tiny={}),!tiny.utils&&(tiny.utils={}),tiny.utils.browser=e(),tiny.utils.browser}),define("components/common/utils/placeholder",["components/common/utils/browser"],function(e){"use strict";function r(e,t){if(typeof t!="string")return;var n=$(e),r=n[0];n.attr("tiPlaceholder",t),_.isString(n.data("defaultType"))||n.data("defaultType",r.type),n.val()===""&&s(r),r.onfocus=function(){n.hasClass("ti-placeholder")&&i(r)},r.onblur=function(){r.value===""&&s(r)}}function i(e){var t=$(e);e.value="",t.removeClass("ti-placeholder"),t.data("defaultType")==="password"&&(e.type="password")}function s(e){var t=$(e);e.value=t.attr("tiPlaceholder"),t.addClass("ti-placeholder"),t.data("defaultType")==="password"&&(e.type="text")}function o(e){var t=$(e);return t.hasClass("ti-placeholder")?"":e.value}function u(e,t){var n=$(e);return n.attr("tiPlaceholder")===undefined?(e.value=t,n):(t===""?(e.value="",e!==document.activeElement&&s(e)):(i(e),e.value=t),n)}!window.tiny&&(window.tiny={}),!tiny.utils&&(tiny.utils={}),tiny.utils.placeholder={};var t=tiny.utils.placeholder;if(!window.tiny.utils.browser.ie&&"placeholder"in document.createElement("input"))t.setPlaceholder=function(e,t){typeof t=="string"&&$(e).attr("placeholder",t)};else{t.setPlaceholder=r;var n={get:o,set:u};$.valHooks.input=n,$.valHooks.textarea=n,$.propHooks.value=n}return t}),define("components/common/utils/utils",["components/common/utils/placeholder","components/common/utils/browser"],function(e,t){"use strict";var n=window.tiny.utils?window.tiny.utils:{};return n.isDate=function(e){return Object.prototype.toString.call(e)==="[object Date]"&&e!="Invalid Date"?!0:!1},n}),define("i18n/zh-cn/tiny2Language",{more_title:"更多",ok_btn:"确认",cancel_btn:"取消",actionmenu_operate_title:"操作",msg_prompt_title:"提示",msg_warn_title:"警告",msg_confirm_title:"确认",msg_error_title:"错误",date_format:"yyyy-MM-dd",time_format:"HH:mm",date_clear_btn:"清除",date_today_btn:"今天",date_prev_month_title:"上月",date_next_month_title:"下月",date_week_start_value:1,date_week_names_abb:["日","一","二","三","四","五","六"],date_week_names_title:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],date_month_names_abb:["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],date_year_suffix_label:"年",date_range_begin_label:"开始日期",date_range_end_label:"结束日期",datetime_range_time_label:"时间：",date_range_to_label:" 至 ",page_goto_label:"跳转",page_prev_title:"上一页",page_next_title:"下一页",page_total_label:"总条数:",upload_add_file_btn:"添加文件",upload_wait_info:"等待上传",upload_success_info:"上传成功",upload_error_info:"上传失败",valid_required_info:"输入不能为空。",valid_maxSize_info:"输入长度不能超过{0}。",valid_minSize_info:"输入长度不能小于{0}。",valid_rangeSize_info:"输入长度范围为{0}到{1}。",valid_maxValue_info:"输入值不能超过{0}。",valid_minValue_info:"输入值不能小于{0}。",valid_rangeValue_info:"输入值必须在{0}到{1}之间。",valid_regularCheck_info:"输入值无效。",valid_contains_info:"输入值必须包含有字符{0}。",valid_notContains_info:"输入值不能含有非法字符{0}。",valid_checkScriptInfo_info:"输入值不能含有script标签。",valid_equal_info:"输入值必须等于{0}。",valid_notEqual_info:"输入值不能等于{0}。",valid_port_info:"端口号为0到65535的整数。",valid_path_info:"输入值未满足路径格式要求。",valid_email_info:"输入email地址无效。",valid_date_info:"输入日期无效。",valid_url_info:"输入URL无效。",valid_integer_info:"输入值不是有效整数。",valid_number_info:"输入值不是有效数字。",valid_digits_info:"输入值不是有效数字字符。",valid_ipv4_info:"输入值不是有效IPV4地址。",valid_ipv6_info:"输入值不是有效IPV6地址。",loadingText:"数据加载中..."}),define("components/module",["components/common/service/service","components/common/utils/utils","i18n/zh-cn/tiny2Language"],function(e,t,n){"use strict";!window.tiny&&(window.tiny={}),!tiny.language&&(tiny.language=n);var r=angular.module("tiny",[e]);return r.config(["$sceProvider",function(e){e.enabled(!1)}]),r}),define("components/accordion/accordion",["components/module"],function(e){"use strict";function t(e,t,n){var r=e.accordionItems=[];this.headClass=e.$eval(t.headClass),this.bodyClass=e.$eval(t.bodyClass),this.closeOthers=function(i){var s=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;s&&angular.forEach(r,function(e){e.open&&e!==i&&(e.open=!1)})},this.addItem=function(e){r.push(e)},this.removeItem=function(e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)}}function n(e){this.setHead=function(e){this.head=e}}function r(e){return{require:"^tiAccordion",transclude:!0,restrict:"E",replace:!0,templateUrl:"/tiny-components/src/components/accordion/accordion-item.html",scope:{open:"=?",disable:"=?",clickToggle:"=?",headClick:"&"},controller:n,link:function(t,n,r,i){i.addItem(t),t.headClass=i.headClass?i.headClass:"",t.bodyClass=i.bodyClass?i.bodyClass:"",t.$watch("open",function(e){e&&i.closeOthers(t)});var s=angular.isDefined(r.clickToggle)?t.$eval(r.clickToggle):e.clickToggle;t.toggleOpen=function(){!t.disable&&s&&(t.open=!t.open),typeof t.headClick()=="function"&&t.headClick()(t.open)},t.$on("$destroy",function(){i.removeItem(t)})}}}return e.constant("tiAccordionConfig",{closeOthers:!0,clickToggle:!0}),e.controller("tiAccordionController",t),t.$inject=["$scope","$attrs","tiAccordionConfig"],e.directive("tiAccordion",function(){return{restrict:"E",controller:t,controllerAs:"accordion",transclude:!0,replace:!0,templateUrl:"/tiny-components/src/components/accordion/accordion.html"}}),e.controller("tiAccordionItemController",n),n.$inject=["$scope"],e.directive("tiAccordionItem",r),r.$inject=["tiAccordionConfig"],e.directive("tiAccordionHead",function(){return{transclude:!0,template:"",replace:!0,restrict:"E",require:"^tiAccordionItem",link:function(e,t,n,r,i){r.setHead(i(e,angular.noop))}}}),e.directive("tiAccordionTransclude",function(){return{require:"^tiAccordionItem",link:function(e,t,n,r){e.$watch(function(){return r[n.tiAccordionTransclude]},function(e){if(e){var n=$(t.find("[ti-accordion-header]")[0]);n.html(""),n.append(e)}})}}}),e.name}),define("components/button/button",["components/module"],function(e){"use strict";function t(){var e={restrict:"A",link:function(e,t,n){var r=window.tiny.utils;t.attr("autofocus")!==undefined&&r.browser.ie&&r.browser.version<10&&t[0].focus()}};return e}return e.directive("tiButton",t),e.name}),define("components/checkbox/checkbox",["components/module"],function(e){"use strict";function t(e){function n(t,n,r,i){var s=n.attr("id");s||(s=_.uniqueId("ti_checkbox_"),n.attr("id",s));var o="<label class='ti-checkbox' for='<%= id %>'><span class='ti-checkbox-skin ti-icon ti-icon-checkmark' for='<%= id %>'></span><label class='ti-checkbox-label' for='<%= id %>'></label></label>",u=_.template(o)({id:s});n.after(u),n.attr("tabindex","-1");var a=n.next();t.$watch(e(r.tiCheckbox),function(e){var t=a.find(".ti-checkbox-label");_.isUndefined(e)?t.html(""):t.html(e)});var f=a.find(".ti-checkbox-skin");n.on("click",function(){f.focus()}),t.$watch(function(){return n.attr("disabled")},function(e){e?f.removeAttr("tabindex"):f.attr("tabindex","0")}),f.on("keydown",function(e){if(n.attr("disabled"))return;var t=e.which||e.keyCode;(t===13||t===108||t===32)&&e.preventDefault()}),f.on("keyup",function(e){if(n.attr("disabled"))return;var t=e.which||e.keyCode;if(t===13||t===108||t===32)n[0].checked=!n[0].checked,i&&i.$setViewValue(n[0].checked),n.trigger("change")})}var t={restrict:"A",priority:598,require:"?ngModel",link:n};return t}return e.directive("tiCheckbox",t),t.$inject=["$parse"],e.name}),define("components/collapse/collapse",["components/module"],function(e){"use strict";function t(e,t,n){return{link:function(e,t,r){function o(){i={height:""},s={height:"0"},e.$eval(r.tiCollapse)?t.addClass("ti-collapse").css(s):t.addClass("ti-in").addClass("ti-collapse").css(i)}function u(e){return{height:e.scrollHeight+"px"}}function a(){t.removeClass("ti-collapse").addClass("ti-collapsing"),n.addClass(t,"ti-in",{css:{overflow:"hidden"},to:u(t[0])}).then(f)}function f(){t.removeClass("ti-collapsing").addClass("ti-collapse").css(i)}function l(){t.css(u(t[0])).removeClass("ti-collapse").addClass("ti-collapsing"),n.removeClass(t,"ti-in",{to:s}).then(c)}function c(){t.css(s),t.removeClass("ti-collapsing").addClass("ti-collapse")}var i={},s={};o(),e.$watch(r.tiCollapse,function(e,t){if(e===t)return;e?l():a()})}}}return e.directive("tiCollapse",t),t.$inject=["$parse","$injector","$animate"],e.name}),define("components/formfield/formfield",["components/module"],function(e){"use strict";function t(){return{restrict:"E",transclude:!0,scope:!0,replace:!0,controller:n,templateUrl:"/tiny-components/src/components/formfield/formfield.html",link:function(e,t,n){setTimeout(function(){t.find("#"+e.fieldId).remove()},0)}}}function n(e,t,n){var l=this;e.items=[],e.groupedItems=[],e.btnItems=[];var c=e.$eval(t.cols);i(e,c),s(e,c,n.colsGap),u(e,e.$eval(t.verticalAlign),n),f(e),l.addCntItem=function(i){a(i,i.verticalAlign,n),i.colsGap=e.colsGap,e.items.push(i),e.groupedItems=r(e.items,e.colsNumber)},l.addBtnItem=function(r){a(r,r.verticalAlign,n),o(r,e.colsNumber,n),e.btnItems.push(r)}}function r(e,t){function o(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var s=Array(i);while(++r<i)s[r]=e[r+t];return s}var n=e?e.length:0;if(!n||t<1)return[];var r=0,i=-1,s=new Array(Math.ceil(n/t));while(r<n)s[++i]=o(e,r,r+=t);return s}function i(e,t){var n=parseInt(t&&t.number);e.colsNumber=_.isNaN(n)||n<1?1:n}function s(e,t,n){var r=t&&t.gap,i=e.colsNumber;e.colsGap=[];for(var s=0;s<i;s++)s<i-1?e.colsGap.push({width:n}):e.colsGap.push({width:"0px"});if(_.isArray(r)){var o=_.min([r.length,i]);for(var u=0;u<o;u++)r[u]!==""&&(e.colsGap[u]={width:r[u]})}}function o(e,t,n){var r=n.tdNumPerItem,i=e.alignOpts=n.horizontalAlignOpts;_.has(i,e.horizontalAlign)||(e.horizontalAlign=t===1?i.content:i.label);switch(e.horizontalAlign){case i.required:e.btnColspan=r*t;break;case i.label:e.btnColspan=r*t-1;break;default:e.btnColspan=r*t-2}}function u(e,t,n){var r=angular.isDefined(t)?t:n.verticalAlign;e.verticalAlign={"vertical-align":r}}function a(e,t,n){if(!angular.isDefined(t))return;e.verticalAlign={"vertical-align":t}}function f(e){e.fieldId="ti-field-"+e.$id+"-"+_.uniqueId()}function l(){return{require:"^tiFormfield",restrict:"E",replace:!0,template:"",transclude:!0,scope:{label:"=?",required:"=?",verticalAlign:"=?"},controller:c,link:function(e,t,n,r,i){e.setHasLabel(e,!0),r.addCntItem(e),e.$transcludeFn=i}}}function c(e){e.setHasLabel=function(e,t){t?(e.hasLabel=!0,e.cntColspan=1):(e.hasLabel=!1,e.cntColspan=2)}}function h(){return{require:"^tiFormfield",restrict:"E",replace:!0,scope:{horizontalAlign:"=?",verticalAlign:"=?"},template:"",transclude:!0,link:function(e,t,n,r,i){r.addBtnItem(e),e.$transcludeFn=i}}}return e.constant("tiFormConst",{tdNumPerItem:4,colsGap:"70px",horizontalAlignOpts:{required:"required",label:"label",content:"content"},verticalAlign:"middle"}),e.directive("tiFormfield",t),n.$inject=["$scope","$attrs","tiFormConst"],e.directive("tiItem",l),c.$inject=["$scope"],e.directive("tiBtnItem",h),e.directive("itemLabelTransclude",function(){return{restrict:"A",require:"^tiFormfield",link:function(e,t,n){var r=e.$eval(n.itemLabelTransclude);r.$watch("label",function(n){_.isUndefined(n)?r.setHasLabel(r,!1):(r.setHasLabel(r,!0),t.html(""),t.append(n))})}}}),e.directive("itemContentTransclude",function(){return{restrict:"A",require:"^tiFormfield",link:function(e,t,n){var r=e.$eval(n.itemContentTransclude);r.$transcludeFn(r.$parent,function(e){var n=e.filter("ti-item-label");n.length>0&&(r.label=n),r.content=e.filter(function(){return n[0]!==this}),t.html(""),t.append(r.content)})}}}),e.directive("fieldBtnTransclude",function(){return{restrict:"A",require:"^tiFormfield",link:function(e,t,n){var r=e.$eval(n.fieldBtnTransclude);r.$transcludeFn(r.$parent,function(e){t.html(""),t.append(e)})}}}),e.name}),define("components/radio/radio",["components/module"],function(e){"use strict";function t(e){function n(t,n,r,i){var s=n.attr("id");s||(s=_.uniqueId("ti_radio_"),n.attr("id",s));var o="<label class='ti-radio' for='<%= id %>'><span class='ti-radio-skin' for='<%= id %>'></span><label class='ti-radio-label' for='<%= id %>'></label></label>",u=_.template(o)({id:s});n.after(u),n.attr("tabindex","-1");var a=n.next();t.$watch(e(r.tiRadio),function(e){var t=a.find(".ti-radio-label");_.isUndefined(e)?t.html(""):t.html(e)});var f=a.find(".ti-radio-skin");n.on("click",function(){f.focus()}),t.$watch(function(){return n.attr("disabled")},function(e){e?f.removeAttr("tabindex"):f.attr("tabindex","0")});var l=function(e){return e===13||e===108||e===32};f.on("keydown",function(e){if(n.attr("disabled"))return;var t=e.which||e.keyCode;l(t)&&e.preventDefault()}),f.on("keyup",function(e){if(n.attr("disabled"))return;var t=e.which||e.keyCode;l(t)&&(n[0].checked||(n[0].checked=!0,n.trigger("change")),i&&i.$setViewValue(r.value))})}var t={restrict:"A",priority:598,require:"?ngModel",link:n};return t}return e.directive("tiRadio",t),t.$inject=["$parse"],e.name}),define("components/tip/tip",["components/module"],function(e){"use strict";function n(){function n(e){return e.length<1||$.isPlainObject(e[0].tiTip)?!1:!0}function i(e,t){s(e,t),o(e,t),$(document).on("mousewheel.tiTip DOMMouseScroll.tiTip",e[0].tiTip.hideTooltip(e)),$(window).on("resize.tiTip",e[0].tiTip.hideTooltip(e)),e.on("$destroy",function(){if(e[0].tiTip===null)return;$(document).off("mousewheel.tiTip DOMMouseScroll.tiTip",e[0].tiTip.hideTooltip(e)),$(window).off("resize.tiTip",e[0].tiTip.hideTooltip(e)),e[0].tiTip.tooltipDom.remove(),e[0].tiTip=null}),e.scope().$on("elementHide",function(){e[0].tiTip.hideTooltip(e)()})}function s(e,t){e[0].tiTip={tooltipModel:t,hasShown:!1,isPrevented:!1,hideTooltip:function(e){return function(t){if(angular.isUndefined(e[0].tiTip)||e[0].tiTip===null||!e[0].tiTip.hasShown)return;var n={duration:0,complete:function(){e[0].tiTip.tooltipDom.remove(),e[0].tiTip.hasShown=!1}};angular.isUndefined(t)?angular.extend(n,e[0].tiTip.tooltipModel.hideEffect):angular.extend(n,t),e[0].tiTip.tooltipDom.hide(n)}}}}function o(e,n){var i=r(n,t.EVENT_MAP);i.showEvt==="click"?e.on("click",function(){e[0].tiTip.hasShown===!0?e[0].tiTip.hideTooltip(e)():u(e,n)}):(e.on(i.showEvt,function(){u(e,n)}),e.on(i.hideEvt,function(){i.hideEvt==="mouseleave"?setTimeout(function(){e[0].tiTip.isPrevented===!1&&e[0].tiTip.hideTooltip(e)()},0):e[0].tiTip.hideTooltip(e)()}))}function u(e,t){if(angular.isUndefined(e[0].tiTip)||e[0].tiTip===null)return;e[0].tiTip.hideTooltip(e)({duration:0});if(t.content==="")return;var n=a(e,t),r=m(e,n,t);g(n,r);var i={duration:0};angular.extend(i,t.showEffect),n.show(i),e[0].tiTip.hasShown=!0}function a(e,t){var n=$('<div class="ti-tooltip ti-tooltip-'+t.position+'"></div>');return n.html(t.content),n.addClass(t.customClass),e[0].tiTip.tooltipDom=n,t.triggerEvent==="mouseenter"&&(n.on("mouseenter",function(){e[0].tiTip.isPrevented=!0}),n.on("mouseleave",function(){e[0].tiTip.hideTooltip(e)(),e[0].tiTip.isPrevented=!1})),n}var e={triggerEvent:"mouseenter",show:!1,position:"top",content:"Welcome to use Tiny tooltip."};this.setDefaults=function(t){angular.extend(e,t)},this.getDefaults=function(){return e},this.createTip=function(t,r){function o(e){if(angular.isUndefined(t)||t.length<1)return;$.isPlainObject(e)&&angular.extend(t[0].tiTip.tooltipModel,e),u(t,t[0].tiTip.tooltipModel)}function a(){if(angular.isUndefined(t)||angular.isUndefined(t[0].tiTip)||t.tiTip===null)return;t[0].tiTip.hideTooltip(t)()}if(angular.isUndefined(t)||!n(t))return;var s=angular.extend({},e,r);i(t,s);var f={show:o,hide:a};return f},this.setTooltip=function(e,t){if(angular.isUndefined(e)||e.length<1)return;e.removeAttr("title");var n=parseFloat(getComputedStyle(e[0],null).width),r=e.clone();r.css({overflow:"visible",position:"absolute",visibility:"hidden"}),$("body").append(r);var i=parseFloat(getComputedStyle(r[0],null).width);r.remove(),i>n&&e.attr("title",t.content)},this.$get=function(){return{getDefaults:this.getDefaults,setDefaults:this.setDefaults,createTip:this.createTip,setTooltip:this.setTooltip}}}function r(e,t){return{showEvt:e.triggerEvent,hideEvt:t[e.triggerEvent]}}function i(e,n,r){var i=y(e),s=n.clone();s.css({position:"absolute",left:i.left+"px"}).appendTo($("body")).show();var o=b(s,r.maxWidth),u=s[0].offsetHeight,a=i.top-u-t.ARROW_HEIGHT,f=(s[0].offsetWidth-e[0].offsetWidth)/2,l=i.left-f;return s.remove(),{left:l,top:a,width:o}}function s(e,n,r){var i=y(e),s=n.clone();s.css({position:"absolute",left:i.left+"px"}).appendTo($("body")).show();var o=b(s,r.maxWidth),u=s[0].offsetHeight,a=i.top-u-t.ARROW_HEIGHT,f=i.left;return s.remove(),{left:f,top:a,width:o}}function o(e,n,r){var i=y(e),s=n.clone(),o=document.documentElement.clientWidth-i.left-i.width+"px";s.css({position:"absolute",right:o}).appendTo($("body")).show();var u=b(s,r.maxWidth),a=s[0].offsetHeight,f=i.top-a-t.ARROW_HEIGHT;return s.remove(),{right:o,top:f,width:u}}function u(e,n,r){var i=y(e),s=n.clone();s.css({position:"absolute",left:i.left+"px"}).appendTo($("body")).show();var o=b(s,r.maxWidth),u=i.top+i.height+t.ARROW_HEIGHT,a=(s[0].offsetWidth-e[0].offsetWidth)/2,f=i.left-a;return s.remove(),{left:f,top:u,width:o}}function a(e,n,r){var i=y(e),s=n.clone();s.css({position:"absolute",left:i.left+"px"}).appendTo($("body")).show();var o=b(s,r.maxWidth),u=i.top+i.height+t.ARROW_HEIGHT,a=i.left;return s.remove(),{left:a,top:u,width:o}}function f(e,n,r){var i=y(e),s=n.clone(),o=document.documentElement.clientWidth-i.left-i.width+"px";s.css({position:"absolute",right:o}).appendTo($("body")).show();var u=b(s,r.maxWidth),a=i.top+i.height+t.ARROW_HEIGHT;return s.remove(),{right:o,top:a,width:u}}function l(e,n,r){var i=y(e),s=n.clone(),o=document.documentElement.clientWidth-i.left+t.ARROW_HEIGHT+"px";s.css({position:"absolute",right:o}).appendTo($("body")).show();var u=b(s,r.maxWidth),a=(s[0].offsetHeight-i.height)/2,f=i.top-a;return s.remove(),{right:o,top:f,width:u}}function c(e,n,r){var i=y(e),s=n.clone(),o=document.documentElement.clientWidth-i.left+t.ARROW_HEIGHT+"px";s.css({position:"absolute",right:o}).appendTo($("body")).show();var u=b(s,r.maxWidth),a=i.top;return s.remove(),{right:o,top:a,width:u}}function h(e,n,r){var i=y(e),s=n.clone(),o=document.documentElement.clientWidth-i.left+t.ARROW_HEIGHT+"px";s.css({position:"absolute",right:o}).appendTo($("body")).show();var u=b(s,r.maxWidth),a=document.documentElement.clientHeight-i.top-i.height;return s.remove(),{right:o,bottom:a,width:u}}function p(e,n,r){var i=y(e),s=n.clone(),o=i.left+i.width+t.ARROW_HEIGHT+"px";s.css({position:"absolute",left:o}).appendTo($("body")).show();var u=b(s,r.maxWidth),a=(s[0].offsetHeight-i.height)/2,f=i.top-a;return s.remove(),{left:o,top:f,width:u}}function d(e,n,r){var i=y(e),s=n.clone(),o=i.left+i.width+t.ARROW_HEIGHT+"px";s.css({position:"absolute",left:o}).appendTo($("body")).show();var u=b(s,r.maxWidth),a=i.top;return s.remove(),{left:o,top:a,width:u}}function v(e,n,r){var i=y(e),s=n.clone(),o=i.left+i.width+t.ARROW_HEIGHT+"px";s.css({position:"absolute",left:o}).appendTo($("body")).show();var u=b(s,r.maxWidth),a=document.documentElement.clientHeight-i.top-i.height;return s.remove(),{left:o,bottom:a,width:u}}function m(e,t,n){var r={};switch(n.position){case"top":r=i(e,t,n);break;case"top-left":r=s(e,t,n);break;case"top-right":r=o(e,t,n);break;case"bottom":r=u(e,t,n);break;case"bottom-right":r=f(e,t,n);break;case"bottom-left":r=a(e,t,n);break;case"left":r=l(e,t,n);break;case"left-top":r=c(e,t,n);break;case"left-bottom":r=h(e,t,n);break;case"right":r=p(e,t,n);break;case"right-top":r=d(e,t,n);break;case"right-bottom":r=v(e,t,n);break;default:}return r}function g(e,t){e.css({left:parseInt(t.left,10)+"px",top:parseInt(t.top,10)+"px",right:parseInt(t.right,10)+"px",bottom:parseInt(t.bottom,10)+"px",width:parseInt(t.width,10)+"px"}),e.appendTo($("body"))}function y(e){return{top:e.offset().top,left:e.offset().left,width:e[0].offsetWidth,height:e[0].offsetHeight}}function b(e,n){var r;return angular.isDefined(n)?r=n:e[0].offsetWidth>parseInt(t.WIDTH,10)&&(r=t.WIDTH),e.css("width",r),r}var t={WIDTH:"276px",EVENT_MAP:{mouseenter:"mouseleave",focus:"blur",click:"click",none:"none"},ARROW_HEIGHT:9};return e.provider("tiTipService",n),e.directive("tiTip",["tiTipService",function(e){function n(t,n){var r=angular.extend({},e.getDefaults(),t.tooltipModel);t.isPrevented=!1,i(n,r,t),t.$watchCollection("tooltipModel",function(r,i){if(r===i)return;u(t,{duration:0});if(r.show===!0&&r.content!==""){var o=angular.extend({},e.getDefaults(),r);s(n,o,t)}})}function i(e,n,i){var s=r(n,t.EVENT_MAP);s.showEvt==="click"?e.on("click",function(){i.tooltipModel.show=!i.tooltipModel.show,i.$evalAsync()}):(e.on(s.showEvt,function(){i.tooltipModel.show=!0,i.$evalAsync()}),e.on(s.hideEvt,function(){s.hideEvt==="mouseleave"?setTimeout(function(){i.isPrevented===!1&&(i.tooltipModel.show=!1,i.$evalAsync())},0):(i.tooltipModel.show=!1,i.$evalAsync())})),e.on("$destroy",i.hideTooltip),e.scope().$on("elementHide",i.hideTooltip)}function s(e,t,n){var r=$('<div class="ti-tooltip ti-tooltip-'+t.position+'"></div>');r.html(t.content),r.addClass(t.customClass),n.$tooltipElem=r,o(n,r,t);var i=m(e,r,t);g(r,i);var s={duration:0};angular.extend(s,n.tooltipModel.showEffect),r.show(s)}function o(e,t,n){n.triggerEvent==="mouseenter"&&(t.on("mouseenter",function(){e.isPrevented=!0}),t.on("mouseleave",function(){e.tooltipModel.show=!1,e.isPrevented=!1,e.$evalAsync()})),e.hideTooltip=function(){e.tooltipModel.show=!1,e.$evalAsync()},$(document).on("mousewheel.tiTip DOMMouseScroll.tiTip",e.hideTooltip),$(window).on("resize.tiTip",e.hideTooltip)}function u(e,t){if(!e.$tooltipElem)return;$(document).off("mousewheel.tiTip DOMMouseScroll.tiTip",e.hideTooltip),$(window).off("resize.tiTip",e.hideTooltip);var n={duration:0,complete:function(){if(e.$tooltipElem===null)return;e.$tooltipElem.remove(),e.$tooltipElem=null}};angular.isUndefined(t)?angular.extend(n,e.tooltipModel.hideEffect):angular.extend(n,t),e.$tooltipElem.hide(n)}return{restrict:"A",replace:!1,scope:{tooltipModel:"=tiTip"},link:n}}]),e.name}),define("components/dropdown/dropdown",["components/module","components/tip/tip"],function(e){"use strict";function t(e){function t(t,r,o){n(t,r,o),i(t,r,e),s(t,r)}return{restrict:"E",replace:!0,scope:{options:"=?",selectedId:"=?",selectedArray:"=?",showStyle:"=?",maxHeight:"=?",panelWidth:"=?",noDataText:"=?",dominator:"=?",show:"=?",select:"&",change:"&"},templateUrl:function(e,t){return _.has(t,"multi")?"/tiny-components/src/components/dropdown/dropdownMulti.html":"/tiny-components/src/components/dropdown/dropdownSingle.html"},link:t}}function n(e,t,n){e.maxHeight=_.isUndefined(e.maxHeight)?"9999px":e.maxHeight,r(e),e.isMulti=_.has(n,"multi"),e.show===!0?y(e,t):T(e,t)}function r(e){if(e.panelWidth==="auto"||e.panelWidth==="justified"||!_.isNaN(parseInt(e.panelWidth,10)))return;e.panelWidth="justified"}function i(e,t,n){e.panelMousedown=function(t){t.preventDefault(),window.tiny.utils.browser.ie===!0&&(e.dominator[0].isPrevented=!0,t.stopPropagation())},e.groupMousedown=function(e){e.preventDefault(),e.stopPropagation()},e.mousedown=function(t,n){t.preventDefault(),window.tiny.utils.browser.ie===!0&&t.stopPropagation();if(e.isMulti===!0)_.indexOf(e.selectedArray,n.id)===-1?c(e,angular.copy(n)):h(e,angular.copy(n));else{var r=angular.copy(n);e.selectedId=r.id,e.show=!1,_.isFunction(e.select())&&e.select()(r)}},e.mouseenter=function(e){var t=$(e.currentTarget),r={content:t.scope().option.label,position:"top-left"};n.setTooltip(t,r)},t.on("mousewheel DOMMouseScroll",function(e){e.stopPropagation(),e.preventDefault(),window.tiny.utils.browser.firefox?t[0].scrollTop+=e.originalEvent.detail>0?120:-120:t[0].scrollTop+=e.originalEvent.wheelDelta>0?-120:120}),e.keydown=function(n){if(!e.show)return;var r=n.keyCode;switch(r){case 38:o(e,t,n);break;case 40:u(e,t,n);break;case 27:a(e,n);break;case 13:case 108:f(e,t,n);break;default:}},$(document).on("keydown",e.keydown),e.hiddenPanel=function(){e.show=!1,e.$evalAsync()},$(document).on("mousewheel DOMMouseScroll",e.hiddenPanel),$(window).on("resize",e.hiddenPanel)}function s(e,t){e.$watch("show",function(n,r){if(n===r)return;n===!0?(y(e,t),e.oldSelectedId=e.selectedId):(T(e,t),e.oldSelectedId!==e.selectedId&&e.isMulti===!1&&_.isFunction(e.change())&&e.change()(e.selectedId))}),e.$watch("options",function(){if(e.show===!1)return;var n=e.dominator,r=n.offset(),i=n[0].offsetHeight,s=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,o;if(e.showStyle==="down"){var u=s+$(document).scrollTop()-r.top-i;o=u>parseInt(e.maxHeight,10)?e.maxHeight:u}else if(e.showStyle==="up"){var a=r.top-$(document).scrollTop();o=a>parseInt(e.maxHeight,10)?e.maxHeight:a}t.css("max-height",o+"px")},!0),e.$watch("dominator",function(n){if(_.isUndefined(n))return;var r=e.dominator;t.css("line-height",r.outerHeight()+"px"),t.appendTo($("body")),e.dominator.on("$destroy",function(){t.remove(),e.$destroy(),$(document).off("keydown",e.keydown),$(window).off("resize",e.hiddenPanel),$(document).off("mousewheel DOMMouseScroll",e.hiddenPanel)})})}function o(e,t,n){n.preventDefault(),e.isMulti===!0?p(t):d(e,t)}function u(e,t,n){n.preventDefault(),e.isMulti===!0?v(t):m(e,t)}function a(e,t){t.preventDefault(),e.show=!1,e.$evalAsync()}function f(e,t){e.isMulti===!0?l(e,t):e.show=!1,e.$evalAsync()}function l(e,t){var n=t.find(".ti-dropdown-option-hover");n.length<1?e.show=!1:n.hasClass("ti-dropdown-option-selected")?h(e,angular.copy(n.scope().option)):c(e,angular.copy(n.scope().option))}function c(e,t){e.selectedArray.push(t.id),_.isFunction(e.select())&&e.select()(t),_.isFunction(e.change())&&e.change()(e.selectedArray)}function h(e,t){e.selectedArray=_.without(e.selectedArray,t.id),_.isFunction(e.select())&&e.select()(t),_.isFunction(e.change())&&e.change()(e.selectedArray)}function p(e){var t=e.find(".ti-dropdown-option");if(t.length<1)return;var n=t.filter(".ti-dropdown-option-hover"),r,i;n.length<1&&(n=t.filter(".ti-dropdown-option-selected").first()),n.length>0&&(i=g(n,t)),i>0?r=$(t[i-1]):r=t.last(),n.removeClass("ti-dropdown-option-hover"),r.addClass("ti-dropdown-option-hover"),e.scrollTop(r[0].offsetTop)}function d(e,t){var n=t.find(".ti-dropdown-option");if(n.length<1)return;var r=n.filter(".ti-dropdown-option-selected"),i,s;r.length>0&&(s=g(r,n)),s>0?i=$(n[s-1]):i=n.last();var o=angular.copy(i.scope().option);e.selectedId=o.id,e.$evalAsync(),t.scrollTop(i[0].offsetTop),_.isFunction(e.select())&&e.select()(o)}function v(e){var t=e.find(".ti-dropdown-option");if(t.length<1)return;var n=t.filter(".ti-dropdown-option-hover"),r,i;n.length<1&&(n=t.filter(".ti-dropdown-option-selected").first()),n.length>0&&(i=g(n,t)),i<t.length-1?r=$(t[i+1]):r=t.first(),n.removeClass("ti-dropdown-option-hover"),r.addClass("ti-dropdown-option-hover"),e.scrollTop(r[0].offsetTop)}function m(e,t){var n=t.find(".ti-dropdown-option");if(n.length<1)return;var r=n.filter(".ti-dropdown-option-selected"),i,s;r.length>0&&(s=g(r,n)),s<n.length-1?i=$(n[s+1]):i=n.first();var o=angular.copy(i.scope().option);e.selectedId=o.id,e.$evalAsync(),t.scrollTop(i[0].offsetTop),_.isFunction(e.select())&&e.select()(o)}function g(e,t){if(e.length<1||t.length<1)return-1;for(var n=0;n<t.length;n++)if(e[0]===t[n])return n;return-1}function y(e,t){b(e,t),w(e,t),t.show(),x(e,t),S(e,t)}function b(e,t){var n=e.dominator,r=n.outerHeight();t.css({"line-height":r+"px","min-width":n.outerWidth()-2+"px","max-height":e.maxHeight})}function w(e,t){var n=e.dominator,r=n.outerHeight(),i=n.offset(),s=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,o=s+$(document).scrollTop()-i.top-r,u=i.top-$(document).scrollTop(),a=E(t);a<=o?(t.css({bottom:"",top:i.top+r+"px",left:i.left+"px","max-height":a+2+"px"}),e.showStyle="down"):a<=u?(t.css({top:"",bottom:s-i.top+"px",left:i.left+"px","max-height":a+2+"px"}),e.showStyle="up"):u>o?(t.css({top:"",bottom:s-i.top-1+"px",left:i.left+"px","max-height":u-1}),e.showStyle="up"):(t.css({bottom:"",top:i.top+r-1+"px",left:i.left+"px","max-height":o-1}),e.showStyle="down")}function E(e){var t=e.clone();t.css({display:"block",visibility:"hidden",left:"-9999px",position:"absolute"}).appendTo($("body"));var n=t.outerHeight();return t.remove(),n}function S(e,t){var n=t.find(".ti-dropdown-option");if(n.length<1)return;var r={};for(var i=0;i<n.length;i++){r=$(n[i]).scope().option;if(e.isMulti===!0){if(_.indexOf(e.selectedArray,r.id)!==-1){t.scrollTop(n[i].offsetTop);return}}else if(r.id===e.selectedId){t.scrollTop(n[i].offsetTop);return}}t.scrollTop(n[0].offsetTop)}function x(e,t){var n=parseInt(e.panelWidth,10);if(!isNaN(n))t.css("width",parseInt(e.panelWidth,10)-2+"px");else if(e.panelWidth==="auto"){t.css("width","auto");if(!window.tiny.utils.browser.ie){t[0].style.width=null;var r=t[0].clientWidth,i=t[0].offsetWidth,s=i-r;i>r+2&&t.outerWidth()<t.outerWidth()+s&&t.css("width",t.outerWidth()+s-2)}}else{var o=e.dominator;t.css("width",parseInt(o[0].offsetWidth,10)-2+"px")}}function T(e,t){t.hide()}return e.directive("tiDropdown",t),t.$inject=["tiTipService"],e.name}),define("components/select/select",["components/module","components/dropdown/dropdown"],function(e){function t(e){return{restrict:"E",replace:!0,scope:{placeholderText:"=?",disable:"=?",focused:"=?",panelMaxHeight:"=?",panelWidth:"=?",selectedId:"=?",options:"=?",noDataText:"=?",change:"&",blur:"&",focus:"&",beforeOpen:"&"},templateUrl:"/tiny-components/src/components/select/select.html",link:function(t,s,o){n(t,s,o),r(t,s,e),i(t,s)}}}function n(e,t){e.isOpen=!1,e.isFocused=!1,e.suggestions=_.isUndefined(e.options)?[]:angular.copy(e.options),e.selectedId=_.isUndefined(e.selectedId)?"":e.selectedId,e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.dominator=t}function r(e,t,n){e.focusFn=function(n){if(e.disable===!0){n.preventDefault();return}if(window.tiny.utils.browser.ie===!0)if(e.isFocused===!0){if(t[0].isPrevented===!0||e.isInner===!0){t[0].isPrevented=!1,e.isInner=!1;return}}else t[0].isPrevented=!1,e.isInner=!1;e.isFocused=!0,e.focused=!0,_.isFunction(e.focus())&&e.focus()(e.selectedOption),t.trigger("tiFocus")},e.selectMousedownFn=function(n){if(e.disable===!0){n.preventDefault();return}window.tiny.utils.browser.ie===!0&&e.isFocused!==!0&&(n.preventDefault(),e.isInner=!0,t.focus()),_.isFunction(e.beforeOpen())&&e.isOpen===!1?s(e):e.isOpen=!e.isOpen},e.blurFn=function(){if(!(!window.tiny.utils.browser.ie||t[0].isPrevented!==!0&&e.isInner!==!0)){t.focus();return}e.isFocused=!1,e.focused=!1,e.isOpen=!1,_.isFunction(e.blur())&&e.blur()(e.selectedOption),t.trigger("tiBlur")},e.changeFn=function(r){var i=l(e.options,r);t[0].tiValue=i.label,t.trigger("contentChange"),_.isFunction(e.change())&&n(function(){e.change()(i)},0)},e.menuMousedownFn=function(e){window.tiny.utils.browser.ie===!0&&e.preventDefault()},e.keydownFn=function(t){if(e.disable)return;var n=t.keyCode;switch(n){case 9:o(e,t);break;case 13:case 108:u(e);break;case 32:a(e,t);break;default:}},$(document).on("keydown.tiSelect",e.keydownFn),t.on("$destroy",function(){$(document).off("keydown.tiSelect",e.keydownFn)})}function i(e,t){e.$watch("options",function(t,n){if(t===n)return;e.suggestions=angular.copy(t),e.selectedOption=l(t,e.selectedId)},!0),e.$watch("selectedId",function(t){e.selectedOption=l(e.options,t)}),e.$watch("placeholderText",function(){f(e,t)}),e.$watch("selectedOption",function(e){t[0].tiValue=e.label}),e.$watch("focused",function(n){n===!0&&e.isFocused===!1?t.find(".ti-select-text").trigger("focus"):n===!1&&e.isFocused===!0&&t.find(".ti-select-text").trigger("blur")})}function s(e){var t=e.beforeOpen()();!_.isUndefined(t)&&_.isFunction(t.then)?t.then(function(){e.isOpen=!0,e.$evalAsync()}):e.isOpen=!0}function o(e,t){e.isOpen?(t.preventDefault(),e.isOpen=!1,window.tiny.utils.browser.ie===!0&&(e.isInner=!1)):e.isFocused&&(e.isFocused=!1),e.$evalAsync()}function u(e){e.isOpen?e.isOpen=!1:e.isFocused&&(_.isFunction(e.beforeOpen())?s(e):e.isOpen=!0),e.$evalAsync()}function a(e,t){if(!e.isFocused)return;t.preventDefault(),_.isFunction(e.beforeOpen())?s(e):e.isOpen=!0,e.$evalAsync()}function f(e,t){t.find(".ti-select-text").attr("placeholder",e.placeholderText)}function l(e,t){if(_.isUndefined(e)||e.length<1)return{};var n;if(_.has(e[0],"children")){var r=[];for(n=0;n<e.length;n++){r=e[n].children;for(var i=0;i<r.length;i++)if(t===r[i].id)return r[i]}}else for(n=0;n<e.length;n++)if(t===e[n].id)return e[n];return{}}return e.directive("tiSelect",t),t.$inject=["$timeout"],e.name}),define("components/multiSelect/multiSelect",["components/module","components/dropdown/dropdown"],function(e){function t(e,t){n(e,t),r(e,t),i(e,t)}function n(e,t){e.isOpen=!1,e.isFocused=!1,e.suggestions=_.isUndefined(e.options)?[]:angular.copy(e.options),e.selectedId=_.isArray(e.selectedId)?e.selectedId:[],e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.dominator=t}function r(e,t){e.focusFn=function(n){if(e.disable===!0){n.preventDefault();return}if(window.tiny.utils.browser.ie===!0)if(e.isFocused===!0){if(t[0].isPrevented===!0||e.isInner===!0){t[0].isPrevented=!1,e.isInner=!1;return}}else t[0].isPrevented=!1,e.isInner=!1;e.isFocused=!0,e.focused=!0,_.isFunction(e.focus())&&e.focus()(e.selectedOption),t.trigger("tiFocus")},e.selectMousedownFn=function(n){if(e.disable===!0){n.preventDefault();return}window.tiny.utils.browser.ie===!0&&e.isFocused!==!0&&(n.preventDefault(),e.isInner=!0,t.focus()),_.isFunction(e.beforeOpen())&&e.isOpen===!1?s(e):e.isOpen=!e.isOpen},e.blurFn=function(){if(!(!window.tiny.utils.browser.ie||t[0].isPrevented!==!0&&e.isInner!==!0)){t.focus();return}e.isFocused=!1,e.focused=!1,e.isOpen=!1,_.isFunction(e.blur())&&e.blur()(e.selectedOption),t.trigger("tiBlur")},e.changeFn=function(n){t[0].tiValue=l(e.options,n),t.trigger("contentChange"),_.isFunction(e.change())&&e.change()(n)},e.menuMousedownFn=function(e){window.tiny.utils.browser.ie===!0&&e.preventDefault()},e.keydownFn=function(t){if(e.disable)return;var n=t.keyCode;switch(n){case 9:o(e,t);break;case 13:case 108:u(e);break;case 32:a(e,t);break;default:}},$(document).on("keydown.tiSelect",e.keydownFn),t.on("$destroy",function(){$(document).off("keydown.tiSelect",e.keydownFn)})}function i(e,t){e.$watch("options",function(n,r){if(n===r)return;e.suggestions=angular.copy(n),e.content=l(n,e.selectedId),t[0].tiValue=e.content},!0),e.$watchCollection("selectedId",function(n){e.content=l(e.options,n),t[0].tiValue=e.content}),e.$watch("placeholderText",function(){f(e,t)}),e.$watch("focused",function(n){n===!0&&e.isFocused===!1?t.find(".ti-select-text").trigger("focus"):n===!1&&e.isFocused===!0&&t.find(".ti-select-text").trigger("blur")})}function s(e){var t=e.beforeOpen()();!_.isUndefined(t)&&_.isFunction(t.then)?t.then(function(){e.isOpen=!0,e.$evalAsync()}):e.isOpen=!0}function o(e,t){e.isOpen?(t.preventDefault(),e.isOpen=!1,window.tiny.utils.browser.ie===!0&&(e.isInner=!1)):e.isFocused&&(e.isFocused=!1),e.$evalAsync()}function u(e){!e.isOpen&&e.isFocused&&(_.isFunction(e.beforeOpen())?s(e):e.isOpen=!0),e.$evalAsync()}function a(e,t){if(!e.isFocused)return;t.preventDefault(),_.isFunction(e.beforeOpen())?s(e):e.isOpen=!0,e.$evalAsync()}function f(e,t){t.find(".ti-select-text").attr("placeholder",e.placeholderText)}function l(e,t){if(_.isUndefined(e)||e.length<1||t.length<1)return"";var n=[],r;if(_.has(e[0],"children")){var i=[];for(r=0;r<e.length;r++){i=e[r].children;for(var s=0;s<i.length;s++)_.indexOf(t,i[s].id)!==-1&&n.push(i[s].label)}}else for(r=0;r<e.length;r++)_.indexOf(t,e[r].id)!==-1&&n.push(e[r].label);return n.join(",")}return e.directive("tiMultiSelect",function(){return{restrict:"E",replace:!0,scope:{placeholderText:"=?",disable:"=?",focused:"=?",panelMaxHeight:"=?",panelWidth:"=?",selectedId:"=?",options:"=?",noDataText:"=?",change:"&",blur:"&",focus:"&",beforeOpen:"&"},templateUrl:"/tiny-components/src/components/multiSelect/multiSelect.html",link:t}}),e.name}),define("components/combobox/combobox",["components/module","components/dropdown/dropdown"],function(e){"use strict";function t(){return{restrict:"E",replace:!0,scope:{placeholderText:"=?",disable:"=?",focused:"=?",panelMaxHeight:"=?",panelWidth:"=?",change:"&",blur:"&",focus:"&",select:"&",selectedId:"=?",match:"=?",options:"=?",noMatched:"=?"},templateUrl:"/tiny-components/src/components/combobox/Datemodel",link:n}}function n(e,t,n){r(e,t,n),i(e,t),s(e,t)}function r(e,t,n){e.isFocused=!1,e.isOpen=!1,e.match=_.isUndefined(e.match)?"any-nocap":e.match,e.panelWidth=_.isUndefined(e.panelWidth)?"justified":e.panelWidth,e.suggestions=_.isUndefined(e.options)?[]:angular.copy(e.options),e.selectedId=_.isUndefined(e.selectedId)?"":e.selectedId,e.selectedOption=u(e.suggestions,e.selectedId),e.content=e.selectedOption.label,t[0].tiValue=e.content,e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.dominator=t}function i(e,t){e.focusFn=function(n){if(e.disable===!0){n.preventDefault();return}if(window.tiny.utils.browser.ie&&t[0].isPrevented===!0){t[0].isPrevented=!1;return}e.isFocused=!0,e.focused=!0,_.isFunction(e.focus())&&e.focus()(e.selectedOption,n),t.trigger("tiFocus")},e.blurFn=function(n){if(window.tiny.utils.browser.ie&&t[0].isPrevented===!0){t.find(".ti-combobox-text").focus();return}e.isFocused=!1,e.focused=!1,e.isOpen=!1,o(e,t),_.isFunction(e.blur())&&e.blur()(e.selectedOption,n),t.trigger("tiBlur")},e.keydownFn=function(t){if(e.disable===!0){t.preventDefault();return}},e.menuMousedownFn=function(n){if(e.disable===!0)return;n.preventDefault(),e.isFocused||t.find(".ti-combobox-text").trigger("focus"),e.suggestions=angular.copy(e.options),e.isOpen=!e.isOpen},e.changeFn=function(n){t[0].tiValue=n,t.trigger("contentChange");if(!_.isFunction(e.change())){a(e,n);return}var r=e.change()(e.selectedOption);!_.isUndefined(r)&&_.isFunction(r.then)?r.then(function(){e.isOpen=!0,e.$evalAsync()}):r===!0?e.isOpen=!0:a(e,n)},e.selectFn=function(n){t[0].tiValue=n.label,t.trigger("contentChange"),_.isFunction(e.select())&&e.select()(n)},t.on("$destroy",function(){e.$destroy()})}function s(e,t){e.$watch("options",function(t,n){if(t===n)return;e.suggestions=angular.copy(t)},!0),e.$watch("selectedId",function(t,n){if(t===n)return;e.selectedOption=u(e.options,t),e.content=e.selectedOption.label}),e.$watch("placeholderText",function(e,n){var r=window.tiny.utils;r.placeholder.setPlaceholder(t.find(".ti-combobox-text")[0],e)}),e.$watch("selectedOption",function(n,r){if(n===r)return;e.content=n.label,e.selectedId=n.id,t[0].tiValue=n.label}),e.$watch("focused",function(n,r){n===!0&&e.isFocused===!1?t.find(".ti-combobox-text").trigger("focus"):n===!1&&e.isFocused===!0&&t.find(".ti-combobox-text").trigger("blur")})}function o(e,t){if(e.content==="")return;var n=e.options,r=[],i=!1;for(var s=0,o=n.length;s<o;s++){if(_.isUndefined(n[s].children))n[s].label===e.content&&(i=!0);else{r=n[s].children;for(var u=0;u<r.length;u++)if(r[u].label===e.content){i=!0;break}}if(i)break}i===!1&&(e.selectedOption={id:"",label:""},t[0].tiValue="")}function u(e,t){if(e.length<1)return{};if(_.has(e[0],"children")){var n=[];for(var r=0;r<e.length;r++){n=e[r].children;for(var i=0;i<n.length;i++)if(t===n[i].id)return n[i]}}else for(var r=0;r<e.length;r++)if(t===e[r].id)return e[r];return{}}function a(e,t){var n=e.options,r=[];if(t==="")r=n;else for(var i=0,s=n.length;i<s;i++)if(_.isUndefined(n[i].children))f(t,n[i].label,e.match)&&r.push(n[i]);else{var o=angular.copy(n[i]),u=o.children,a=[];for(var l=0;l<u.length;l++)f(t,u[l].label,e.match)&&a.push(u[l]);a.length>0&&(o.children=a,r.push(o))}e.suggestions=r,e.isOpen=!0}function f(e,t,n){if(_.isFunction(n))return n(e,t);var r=!1;switch(n){case"head":t.indexOf(e)===0&&(r=!0);break;case"any":t.indexOf(e)>=0&&(r=!0);break;case"head-nocap":t.toLowerCase().indexOf(e.toLowerCase())===0&&(r=!0);break;default:t.toLowerCase().indexOf(e.toLowerCase())>=0&&(r=!0)}return r}return e.directive("tiCombobox",t),e.name}),define("components/searchbox/searchbox",["components/module","components/dropdown/dropdown"],function(e){"use strict";function t(e){function t(e,t,s){n(e,t,s),r(e,t),i(e,t)}function n(e,t,n){e.isFocused=!1,e.isOpen=!1,e.value=_.isString(e.value)?e.value:"",e.isShowClear=e.value!=="",e.suggestion=_.isUndefined(e.suggestion)?[]:angular.copy(e.suggestion),e.selectedId=_.isUndefined(e.selectedId)?"":e.selectedId,e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.dominator=t,isNaN(e.maxlength)||t.find(".ti-searchbox-input").attr("maxlength",e.maxlength),_.has(n,"autofocus")&&s(e,t)}function r(t,n){t.focusFn=function(e){t.isFocused=!0},t.blurFn=function(){t.isFocused=!1,t.isOpen=!1},t.inputKeydown=function(e){switch(e.keyCode){case 13:case 108:setTimeout(function(){t.searchFn(t.value),t.isFocused===!0&&n.find(".ti-searchbox-input").trigger("blur")},0);break;default:}},t.searchFn=function(e){if(t.disable===!0)return;_.isFunction(t.search())&&t.search()(e)},t.changeFn=function(n){function r(){var e=t.change()(n);if(_.isUndefined(e)||!_.isFunction(e.then)){i();return}e.then(function(){i()})}function i(){e(function(){t.suggestion.length?t.isOpen=!0:t.isOpen=!1},0)}t.selectedId="",_.isFunction(t.change())&&r()},t.select=function(e){t.value=e.label},t.clear=function(e){if(t.disable===!0)return;t.value="",t.changeFn(""),n.find(".ti-searchbox-input").trigger("focus")},n.on("$destroy",function(){t.$destroy()})}function i(e,t){e.$watch("suggestion",function(t,n){if(!_.isArray(t))return;e.dropList=angular.copy(t)},!0),e.$watch("placeholderText",function(e){var n=window.tiny.utils;n.placeholder.setPlaceholder(t.find(".ti-searchbox-input")[0],e)}),e.$watch("value",function(t,n){if(t===n)return;if(!_.isString(t)){e.value=n;return}t===""?e.isShowClear=!1:e.isShowClear=!0})}function s(e,t){if(e.disable===!0)return;t.find(".ti-searchbox-input").trigger("focus")}return{restrict:"E",replace:!0,scope:{placeholderText:"=?",disable:"=?",maxlength:"=?",suggestion:"=?",value:"=?",change:"&",search:"&"},templateUrl:"/tiny-components/src/components/searchbox/searchbox.html",link:t}}return e.directive("tiSearchbox",t),t.$inject=["$timeout"],e.name}),define("components/tab/tab",["components/module"],function(e){"use strict";function t(){return{restrict:"EA",transclude:!0,scope:!0,replace:!0,controller:n,templateUrl:"/tiny-components/src/components/tab/tabset.html",link:function(e,t,n){}}}function n(e){function i(e,t){angular.forEach(e,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect()&&e.onDeselect()(),t.selectCalled=!1)})}var t=this,n=t.tabs=e.tabs=[];t.activeTab=function(e){i(n,e),e.active=!0,e.selectCalled||(e.onSelect()&&e.onSelect()(),e.selectCalled=!0)},t.addTab=function(t){n.push(t),n.length===1&&t.active!==!1||t.active?t.active=!0:t.active=!1},t.removeTab=function(i){var s=n.indexOf(i);if(i.active&&n.length>1&&!r){var o=s==n.length-1?s-1:s+1;t.activeTab(n[o])}n.splice(s,1)};var r;e.$on("$destroy",function(){r=!0})}function r(){function e(e,t,n,r,i){e.$watch("active",function(t){t&&r.activeTab(e)}),e.select=function(){e.disable||(e.active=!0)},r.addTab(e),e.$on("$destroy",function(){r.removeTab(e)}),e.$transcludeFn=i}return{require:"^tiTabs",restrict:"EA",replace:!0,templateUrl:"/tiny-components/src/components/tab/tab.html",transclude:!0,scope:{active:"=?",disable:"=?",onSelect:"&",onDeselect:"&"},controller:function(){},link:e}}function i(){return{restrict:"A",require:"?^tiTab",link:function(e,t){e.$watch("headElement",function(n){n&&(t.html(""),t.append(n))})}}}function s(){function e(e,t,n){var r=e.$eval(n.tiTabBodyHtml);r.$transcludeFn(r.$parent,function(e){var n=e.filter("ti-tab-head"),i=e.not("ti-tab-head");r.headElement=n,t.append(i)})}return{restrict:"A",require:"?^tiTab",link:e}}return e.directive("tiTabs",t),n.$inject=["$scope"],e.directive("tiTab",r),e.directive("tiTabHeadHtml",i),e.directive("tiTabBodyHtml",s),e.name}),define("components/text/text",["components/module"],function(e){"use strict";function t(e){function t(e,t,s){n(e,t,s),r(e,t,s),i(e,t,s)}function n(e,t,n){e.tiIsFocused=!1,n.type==="password"&&t.attr("autocomplete","off"),s(t)&&o(e,t,n)}function r(t,n,r){function i(){n.trigger("contentChange")}n.on("focus",function(){n.trigger("tiFocus"),t.tiIsFocused=!0,_.isUndefined(r.focused)||e(r.focused).assign(t,!0)}),n.on("blur",function(){n.trigger("tiBlur"),t.tiIsFocused=!1,_.isUndefined(r.focused)||e(r.focused).assign(t,!1)}),s(n)&&$(".ti-text-clear",n.parent()).on("mousedown",function(){if(!_.isUndefined(n.attr("disabled")))return;n.val(""),_.isUndefined(r.ngModel)||e(r.ngModel).assign(t,""),t.$evalAsync(),i(),setTimeout(function(){n.trigger("focus")},0)}),n.on("input",function(e){i()});var o=window.tiny.utils;o.browser.ie&&o.browser.version<10&&(n.on("cut",function(e){setTimeout(function(){i()},0)}),n.on("keyup",function(e){(8==e.keyCode||46==e.keyCode)&&i()}));if(o.browser.ie&&r.type==="password"){var u=function(e){e.keyCode===9&&n[0]===document.activeElement&&n[0].select()},a=angular.element(document);a.bind("keyup",u),n.on("$destroy",function(){a.unbind("keyup",u)})}}function i(e,t,n){_.isUndefined(n.placeholderText)||e.$watch(n.placeholderText,function(e){window.tiny.utils.placeholder.setPlaceholder(t[0],e)}),_.isUndefined(n.focused)||e.$watch(n.focused,function(n){n===!0&&e.tiIsFocused===!1?t.trigger("focus"):n===!1&&e.tiIsFocused===!0&&t.trigger("blur")})}function s(e){return!_.isUndefined(e.parent().attr("ti-clear"))}function o(e,t,n){var r=t.parent();r.addClass("ti-text-clear-container");var i=$('<div class="ti-text-clear ti-icon ti-icon-clear"></div>');r.append(i),e.$watch(function(){return t.val()},function(e){_.isString(e)&&e!==""?(i.css("display","block"),t.addClass("ti-text-input-show-clear")):(i.css("display","none"),t.removeClass("ti-text-input-show-clear"))})}return{restrict:"A",link:t}}return e.directive("tiText",t),t.$inject=["$parse"],e.name}),define("components/textarea/textarea",["components/module"],function(e){"use strict";function t(){var e={restrict:"A",link:function(e,t,n){function i(e){t.trigger("contentChange")}var r=window.tiny.utils;r.browser.ie&&r.browser.version<10&&n.autofocus!==undefined&&t[0].focus(),e.$watch(function(){return e.$eval(n.placeholderText)},function(e){r.placeholder.setPlaceholder(t[0],e)}),t.on("focus",function(){t.trigger("tiFocus")}),t.on("blur",function(){t.trigger("tiBlur")}),t.on("input",function(e){i(e)}),r.browser.ie&&r.browser.version<10&&(t.on("cut",function(e){setTimeout(function(){i(e)},0)}),t.on("keyup",function(e){(8==e.keyCode||46==e.keyCode)&&i(e)}))}};return e}return e.directive("tiTextarea",t),e.name}),define("components/time/time",["components/module"],function(e){"use strict";function t(){this.constant={UP_DOWN_TRIANGLE_HEIGHT:5},this.defaultValue={format:"HH:mm:ss",maxValue:"23:59:59",minValue:"0:0:0"},this.$get=function(){var e={constant:this.constant,defaultValue:this.defaultValue};return e}}function n(e,t){function n(e,t,n){r(e,t),f(e,t),v(e,t)}function r(e,t){i(e),s(e),O(e,t),o(e),u(e),a(e)}function i(e){e.format=_.isString(e.format)?e.format:t.defaultValue.format}function s(e){e.showValue={hour:"00",minute:"00",second:"00",ampm:"AM"};var t=e.format.split(":");e.formats={hour:t[0],minute:t[1],second:t[2]},e.show={minute:e.formats.minute==="m"||e.formats.minute==="mm",second:e.formats.second==="s"||e.formats.second==="ss",ampm:e.formats.hour==="hh"||e.formats.hour==="h"}}function o(e){e.maxValue=C(e.maxValue)?e.maxValue:t.defaultValue.maxValue,e.minValue=C(e.minValue)?e.minValue:t.defaultValue.minValue,m(e.maxValue,e.minValue)&&(e.maxValue=t.defaultValue.maxValue,e.minValue=t.defaultValue.minValue)}function u(t){C(t.value)||(t.value=e("date")(new Date,w(t))),m(t.value,t.minValue)&&(t.value=t.minValue),g(t.value,t.maxValue)&&(t.value=t.maxValue)}function a(t){var n=new Date("2015/2/14 "+A(t.value));t.value=e("date")(n,w(t)),t.showValue.hour=e("date")(n,t.formats.hour),t.show.minute&&(t.showValue.minute=e("date")(n,t.formats.minute)),t.show.second&&(t.showValue.second=e("date")(n,t.formats.second)),t.show.ampm&&(t.showValue.ampm=e("date")(n,"a"))}function f(e,t){l(e,t),c(e),h(e),p(e),d(e,t)}function l(e,t){e.focusedTime="hour",e.btnUpMousedown=function(){if(e.disable)return;var n={keyCode:38,target:$("[ng-model='showValue."+e.focusedTime+"']",t)[0]};e[e.focusedTime+"Keyup"](n)},e.btnDownMousedown=function(){if(e.disable)return;var n={keyCode:40,target:$("[ng-model='showValue."+e.focusedTime+"']",t)[0]};e[e.focusedTime+"Keyup"](n)}}function c(e){e.hourKeyup=function(t){var n,r=e.formats.hour;if(38===t.keyCode){n=+e.showValue.hour,k(r)?n>=12?n=1:n+=1:n>=23?n=0:n+=1,e.showValue.hour=r==="hh"||r==="HH"?L(n,2):n,e.value=E(e),T(t.target);return}40===t.keyCode&&(n=+e.showValue.hour,k(r)?n<=1||n>12?n=12:n-=1:n===0||n>23?n=23:n-=1,e.showValue.hour=r==="hh"||r==="HH"?L(n,2):n,e.value=E(e),T(t.target))},e.minuteKeyup=function(t){var n,r=e.formats.minute;if(38===t.keyCode){n=+e.showValue.minute,n>=59?n=0:n+=1,e.showValue.minute=r==="mm"?L(n,2):n,e.value=E(e),T(t.target);return}40===t.keyCode&&(n=+e.showValue.minute,n===0||n>59?n=59:n-=1,e.showValue.minute=r==="mm"?L(n,2):n,e.value=E(e),T(t.target))},e.secondKeyup=function(t){var n,r=e.formats.second;if(38===t.keyCode){n=+e.showValue.second,n>=59?n=0:n+=1,e.showValue.second=r==="ss"?L(n,2):n,e.value=E(e),T(t.target);return}40===t.keyCode&&(n=+e.showValue.second,n===0||n>59?n=59:n-=1,e.showValue.second=r==="ss"?L(n,2):n,e.value=E(e),T(t.target))},e.ampmKeyup=function(t){if(38===t.keyCode||40===t.keyCode){var n;n=e.showValue.ampm,e.showValue.ampm=n==="AM"?"PM":"AM",e.value=E(e),T(t.target)}}}function h(e){e.hourFocus=function(t){e.focusedTime="hour",t.target.select()},e.minuteFocus=function(t){e.focusedTime="minute",t.target.select()},e.secondFocus=function(t){e.focusedTime="second",t.target.select()},e.ampmFocus=function(t){e.focusedTime="ampm",t.target.select()}}function p(e){e.hourChange=function(){e.showValue.hour=S(e.showValue.hour),e.value=E(e)},e.minuteChange=function(){e.showValue.minute=S(e.showValue.minute),e.value=E(e)},e.secondChange=function(){e.showValue.second=S(e.showValue.second),e.value=E(e)},e.ampmChange=function(){e.value=E(e)}}function d(e,t){e.hourBlur=function(){N(e,t)},e.minuteBlur=function(){N(e,t)},e.secondBlur=function(){N(e,t)},e.ampmBlur=function(){N(e,t)}}function v(e,t){e.$watch("value",function(t,n){if(t===n)return;if(e.value===E(e)){D(e);return}if(!M(e)){e.value=n;return}a(e),D(e)}),e.$watch("minValue",function(t,n){if(t===n)return;if(!P(e)){e.minValue=n;return}C(e.value)&&m(e.value,e.minValue)&&(e.value=e.minValue)}),e.$watch("maxValue",function(t,n){if(t===n)return;if(!H(e)){e.maxValue=n;return}C(e.value)&&g(e.value,e.maxValue)&&(e.value=e.maxValue)}),e.$watch("format",function(n,r){if(n===r)return;if(!B(e)){e.format=r;return}var i=e.format.split(":");e.formats={hour:i[0],minute:i[1],second:i[2]},e.show={minute:e.formats.minute==="m"||e.formats.minute==="mm",second:e.formats.second==="s"||e.formats.second==="ss",ampm:e.formats.hour==="hh"||e.formats.hour==="h"},O(e,t),C(e.value)&&a(e)})}function m(e,t){return Date.parse("2015/2/14 "+A(e))<Date.parse("2015/2/14 "+A(t))}function g(e,t){return Date.parse("2015/2/14 "+A(e))>Date.parse("2015/2/14 "+A(t))}function y(e,t){return Date.parse("2015/2/14 "+A(e))<=Date.parse("2015/2/14 "+A(t))}function b(e,t){return Date.parse("2015/2/14 "+A(e))>=Date.parse("2015/2/14 "+A(t))}function w(e){return k(e.formats.hour)?e.format+" a":e.format}function E(e){var t=e.showValue,n=(t.hour+"").trim(),r=n+(e.show.minute?":"+t.minute:"")+(e.show.second?":"+t.second:"")+(e.show.ampm?" "+t.ampm:"");return r}function S(e){var t=(e+"").split(""),n="";return _.each(t,function(e){e.match(/[0-9]/)&&(n+=e)}),n}function x(e){var t=!1,n=$("input",e);for(var r=0;r<n.length;r++)if(n[r]===document.activeElement){t=!0;break}return t}function T(e){setTimeout(function(){e.select()},0)}function N(e,t){setTimeout(function(){if(x(t))return;e.$evalAsync(function(){u(e),a(e),setTimeout(function(){_.isFunction(e.blur())&&e.blur()(e.value)},0)})},0)}function C(e){if(!_.isString(e)||e.trim()==="")return!1;var t=new Date("2015/2/14 "+A(e));return t!="Invalid Date"}function k(e){return e==="hh"||e==="h"}function L(e,t){var n="00"+e;return n.substr(n.length-t,t)}function A(e){if(e.match(/:/))return e;var t=e.match(/am|AM|pm|PM/);return t=t?t:"",parseInt(e,10)+": "+t}function O(e,t){var n=49;n=n+(e.show.minute?23:0)+(e.show.second?23:0)+(e.show.ampm?20:0),t.css("min-width",n+"px")}function M(e){var t=e.value;return C(t)&&b(t,e.minValue)&&y(t,e.maxValue)}function D(e){_.isFunction(e.change())&&e.change()(e.value)}function P(e){var t=e.minValue;return C(t)&&y(t,e.maxValue)}function H(e){var t=e.maxValue;return C(t)&&b(t,e.minValue)}function B(e){return _.isString(e.format)}return{restrict:"E",priority:999,scope:{format:"=",value:"=",maxValue:"=",minValue:"=",disable:"=",change:"&",blur:"&"},templateUrl:"/tiny-components/src/components/time/time.html",replace:!0,link:n}}return e.provider("timeService",t),e.directive("tiTime",n),n.$inject=["$filter","timeService"],e.name}),define("components/modal/modal",["components/module"],function(e){"use strict";function t(e,t,n,r,i,s,o){function h(e,n){f.add(e,{deferred:n.deferred,renderDeferred:n.renderDeferred,closedDeferred:n.closedDeferred,modalScope:n.modalScope,backdrop:n.backdrop,closeOnEsc:n.closeOnEsc,animation:n.animation,appendTo:n.appendTo,draggable:n.draggable,modalClass:n.modalClass}),M(n);var r=_(n);f.top().value.modalDomEl=r,f.top().value.preActiveElement=t[0].activeElement,c.clearFocusListCache()}function p(e,t){var n=f.get(e);return n&&O(n,t,!0)?(n.value.modalScope.isDestroyed=!0,n.value.deferred.resolve(t),C(e,n.value.preActiveElement),!0):!n}function d(e,t){var n=f.get(e);return n&&O(n,t,!1)?(n.value.modalScope.isDestroyed=!0,n.value.deferred.reject(t),C(e,n.value.preActiveElement),!0):!n}function v(e){var t=c.getTop();while(t&&c.dismiss(t.key,e))t=c.getTop()}function m(){return f.top()}function g(e){var t=f.get(e);t&&t.value.renderDeferred.resolve()}function y(){return l.length>0?(l[0].focus(),!0):!1}function b(){return l.length>0?(l[l.length-1].focus(),!0):!1}function w(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1}function E(e){return l.length>0?(e.target||e.srcElement)===l[0]:!1}function S(e){return l.length>0?(e.target||e.srcElement)===l[l.length-1]:!1}function x(){l=[]}function T(e){if(l===undefined||!l.length)if(e){var t=e.value.modalDomEl;t&&t.length&&(l=t[0].querySelectorAll(o.tababbleSelector))}}function N(){var e=-1,t=f.keys();for(var n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function C(t,n){var r=f.get(t).value,i=r.appendTo;f.remove(t),L(r.modalDomEl,r.modalScope,function(){e.removeClass(i,o.modalOpenedClass)},r.closedDeferred),u&&N()===-1&&k(),n&&n.focus?n.focus():i.focus&&i.focus()}function k(){L(u,a,function(){a=null}),u=undefined,a=undefined}function L(t,n,r,s){function a(){return o||(o=i.defer(),u=o.promise),function(){o.resolve()}}function f(){if(f.done)return;f.done=!0,e.leave(t).then(function(){s&&s.resolve()}),n.$destroy(),r&&r()}var o,u=null;return n.$broadcast(c.NOW_CLOSING,a),i.when(u).then(f)}function A(e){if(e.isDefaultPrevented())return e;var t=f.top();if(t)switch(e.which){case 27:t.value.closeOnEsc&&(e.preventDefault(),r.$evalAsync(function(){c.dismiss(t.key,"escape key press")}));break;case 9:c.getFocusElementList(t);var n=!1;if(e.shiftKey){if(c.isFocusInFirstItem(e)||c.isModalFocused(e,t))n=c.focusLastFocusableElement()}else c.isFocusInLastItem(e)&&(n=c.focusFirstFocusableElement());n&&(e.preventDefault(),e.stopPropagation());break;default:}return e}function O(e,t,n){var r=e.value.modalScope.$broadcast(o.onClosing,t,n);return!r.defaultPrevented}function M(t){var i=t.appendTo,s=N();s>=0&&!u&&(a=r.$new(!0),a.modalOptions=t,a.index=s,u=angular.element("<div ti-modal-backdrop></div>"),t.animation&&u.attr("ti-animation","true"),n(u)(a),e.enter(u,i))}function _(t){var r=t.appendTo,i=angular.element("<div ti-modal-window></div>");return i.attr({"template-url":t.modalTemplateUrl,index:f.length()-1}).html(t.content),t.animation&&i.attr("ti-animation","true"),e.enter(n(i)(t.modalScope),r).then(function(){e.addClass(r,o.modalOpenedClass)}),i}var u,a,f=s.initCache(),l,c={NOW_CLOSING:o.nowClosing,open:h,close:p,dismiss:d,dismissAll:v,getTop:m,modalRendered:g,focusFirstFocusableElement:y,focusLastFocusableElement:b,isModalFocused:w,isFocusInFirstItem:E,isFocusInLastItem:S,clearFocusListCache:x,getFocusElementList:T};return r.$watch(N,function(e){a&&(a.index=e)}),t.on("keydown",A),r.$on("$destroy",function(){t.off("keydown",A)}),c}function n(e,t,n,r){function s(i,s,o){i.close=function(t){var n=e.getTop(),r=n&&n.value.backdrop&&n.value.backdrop!=="static"&&t.target===t.currentTarget;r&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",i.close),i.$isRendered=!0;var u=t.defer();o.$observe("modalRender",function(e){e==="true"&&u.resolve()}),u.promise.then(function(){var u=e.getTop();u&&u.value.draggable&&($(u.value.modalDomEl.find(".ti-modal-content")[0]).draggable({handle:".ti-modal-header",containment:"document"}),u.value.modalDomEl.find(".ti-modal-header").css("cursor","Move")),u.value.modalDomEl.find(".ti-modal-header .ti-close").addClass("ti-icon ti-icon-close"),u&&u.value.modalClass&&s.children().addClass(u.value.modalClass);var a=null;o.modalInClass&&(a=n.addClass(s,o.modalInClass),i.$on(e.NOW_CLOSING,function(e,t){var r=t();n.removeClass(s,o.modalInClass).then(r)})),t.when(a).then(function(){var t=r[0].activeElement&&s[0].contains(r[0].activeElement);if(!t){var n=s[0].querySelector("[autofocus]");n?n.focus():s[0].focus()}u&&e.modalRendered(u.key)})})}var i={scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"/tiny-components/src/components/modal/window.html"},link:s};return i}function r(e,t){function n(n,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),n.$on(t.NOW_CLOSING,function(t,s){var o=s();n.modalOptions.animation?e.removeClass(r,i.modalInClass).then(o):o()}))}return{replace:!0,templateUrl:"/tiny-components/src/components/modal/backdrop.html",link:n}}return e.constant("tiModalConst",{modalOpenedClass:"ti-modal-open",nowClosing:"tiModal.nowClosing",tababbleSelector:"a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]",onClosing:"tiModal.onClosing"}),e.provider("tiModal",function(){var e=this.defaults={animation:!0,backdrop:"static",closeOnEsc:!0,draggable:!0};this.setDefaults=function(t){angular.extend(e,t)},this.$get=["$rootScope","$q","$injector","$document","$templateRequest","$controller","tiModalProcessor",function(t,n,r,i,s,o,u){function f(e){function g(){return m}function b(){var e=r.scope||t,n=e.$new();return n.closeTiDialog=v.close,n.dismissTiDialog=v.dismiss,n.$on("$destroy",function(){n.isDestroyed||n.dismissTiDialog("forced to destroyed")}),n}function w(e,t){if(r.controller){var n,i={},s=1;i.tiModalInstance=v,i.$scope=t,angular.forEach(r.resolve,function(t,n){i[n]=e[s++]}),n=o(r.controller,i),r.controllerAs&&(t[r.controllerAs]=n)}}var r=p(e);h(r);var i=n.defer(),s=n.defer(),f=n.defer(),d=n.defer(),v={resultPromise:i.promise,openedPromise:s.promise,closedPromise:f.promise,renderedPromise:d.promise,close:function(e){return u.close(v,e)},dismiss:function(e){return u.dismiss(v,e)}},m=n.all([l(r)].concat(c(r.resolve))),y;return y=a=n.all([a]).then(g,g).then(function(t){var n=b();w(t,n),u.open(v,{modalScope:n,deferred:i,renderDeferred:d,closedDeferred:f,content:t[0],animation:r.animation,backdrop:r.backdrop,closeOnEsc:r.closeOnEsc,modalClass:r.modalClass,modalTemplateUrl:r.modalTemplateUrl,appendTo:r.appendTo,showCloseIcon:r.showCloseIcon,draggable:r.draggable}),s.resolve(!0)},function(t){s.reject(t),i.reject(t)}).finally(function(){a===y&&(a=null)}),v}function l(e){var t=n.defer(),r=e.template,i=e.templateUrl;return r?t.resolve(r):i&&s(i,!0).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}function c(e){var t=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?t.push(n.when(r.invoke(e))):angular.isString(e)?t.push(n.when(r.get(e))):t.push(n.when(e))}),t}function h(e){if(!e.template&&!e.templateUrl)throw new Error("No template or templateUrl has been specified.");if(angular.element(e.appendTo).length===0)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.")}function p(t){var n=angular.extend({},e,t);return n.resolve=t.resolve||{},n.appendTo=t.appendTo||i.find("body").eq(0),n}var a=null;return{open:f}}]}),e.factory("tiModalProcessor",t),t.$inject=["$animate","$document","$compile","$rootScope","$q","tiModalCache","tiModalConst"],e.directive("tiModalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}),e.directive("tiModalAnimationClass",function(){return{compile:function(e,t){t.tiAnimation&&e.addClass(t.tiModalAnimationClass)}}}),e.directive("tiModalWindow",n),n.$inject=["tiModalProcessor","$q","$animate","$document"],e.directive("tiModalBackdrop",r),r.$inject=["$animate","tiModalProcessor"],e.service("tiModalCache",function(){this.initCache=function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){return _.find(e,function(e){return t===e.key})},keys:function(){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){var n=-1;for(var r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}),e.name}),define("components/message/message",["components/module","components/modal/modal"],function(e){"use strict";function t(e){var t=this.defaults={type:e.confirm,content:"",okBtn:!0,cancelBtn:!0,templateUrl:"/tiny-components/src/components/message/message.html",controller:"tiMessageCtrl",modalClass:"ti-msg-default-width"};this.setDefaults=function(e){angular.extend(t,e)},this.$get=["tiModal",function(e){function n(t){var n=r(t),i=e.open(n);return i}function r(e){var n=angular.extend({},t,e);return n.resolve={tiMsgOpts:n},n}return{open:n}}]}function n(e,t,n,r){function u(e,t){return $.isPlainObject(e)?angular.extend({},t,e):e?angular.extend({},t):angular.extend({},t,{show:!1})}function a(e){var t="";switch(e){case r.prompt:t=i.msg_prompt_title;break;case r.warn:t=i.msg_warn_title;break;case r.error:t=i.msg_error_title;break;default:t=i.msg_confirm_title}return t}var i=tiny.language||{},s={show:!0,text:i.ok_btn||"",click:function(){t.close()}},o={show:!0,text:i.cancel_btn||"",click:function(){t.dismiss()}};e.tiMsgModel={tiMsgOpts:n,type:n.type,okBtn:u(n.okBtn,s),cancelBtn:u(n.cancelBtn,o),title:a(n.type),dismiss:function(){t.dismiss()}},t.setBtn=function(t,n){t==="ok"&&(e.tiMsgModel.okBtn=u(n,e.tiMsgModel.okBtn)),e.tiMsgModel.cancelBtn=u(n,e.tiMsgModel.cancelBtn)},e.$on("tiModal.onClosing",function(){typeof n.beforeClose=="function"&&n.beforeClose.apply(null,arguments)})}function r(e){return{link:function(t,n){var r=t.tiMsgModel.tiMsgOpts,i=$("<div></div>").html(r.content);r.scope&&(i=e(i)(r.scope)),n.empty(),n.append(i)}}}return e.constant("tiMsgType",{prompt:"prompt",error:"error",warn:"warn",confirm:"confirm"}),e.provider("tiMessage",t),t.$inject=["tiMsgType"],e.controller("tiMessageCtrl",n),n.$inject=["$scope","tiModalInstance","tiMsgOpts","tiMsgType"],e.directive("tiMsgTransclude",r),r.$inject=["$compile"],e.name}),define("components/pagination/pagination",["components/module"],function(e){"use strict";function n(e,n){function r(e,t,n,r){a(e),i(e,t,r),u(e,t,r),s(e)}function i(e,t,n){if(e.autoHide&&!b(e)){e.showPage=!1;return}e.totalPageNum=v(e),e.currentPage>e.totalPageNum&&(e.currentPage=e.totalPageNum),e.gotoPage={page:e.currentPage},e.pages=m(e),E(t,n)&&n.updatePagination(e.currentPage,d(e),e.totalItems),_.isFunction(e.pageUpdate())&&e.pageUpdate()(e.currentPage,d(e),e.totalItems)}function s(e){e.selectPage=function(t,n){n.preventDefault();var r=parseInt(t,10);r!==e.currentPage&&(e.currentPage=r,o(e))},e.enterPageHandler=function(){event.keyCode===13&&e.gotoPageHandler(event)},e.gotoPageHandler=function(){e.currentPage=e.gotoPage.page,o(e)}}function o(e){_.isFunction(e.pageNumChange())&&e.pageNumChange()(e.currentPage,d(e),e.totalItems)}function u(e,n,r){e.$watch("currentPage",function(t,s){e.$evalAsync(function(){var o=c(t,s,e);e.currentPage=o,o!==s&&i(e,n,r)})}),e.$watch("pageSize.size",function(t,n){if(parseInt(t,10)===parseInt(n,10))return;_.each(e.itemsPerPage.options,function(n,r){parseInt(n.label,10)===parseInt(t,10)&&(e.itemsPerPage.selectedId=r+"")})}),e.$watch("itemsPerPage.selectedId",function(s,o){if(s===o)return;e.currentPage=t,f(e),i(e,n,r)}),e.$watch("totalItems",function(t,s){var o=l(t,s);e.totalItems=o,o!==s&&i(e,n,r)}),e.$watch("gotoPage.page",function(t,n){var r=parseInt(t,10);isNaN(r)?e.gotoPage.page=n:e.gotoPage.page=r})}function a(n){n.tinyLanguage=window.tiny.language,n.totalItems=h(n.totalItems),n.currentPage=p(n.currentPage),n.itemsPerPage=w(n),f(n);var r=n.hideTotalItems,i=e.hideTotalItems;n.hideTotalItems=_.isUndefined(r)?i:r;var s=n.hideGotoLink;n.hideGotoLink=_.isUndefined(s)?e.hideGotoLink:s,n.autoHide=_.isUndefined(n.autoHide)?e.autoHide:n.autoHide,n.noPrevious=function(){return n.currentPage===t},n.noNext=function(){return n.currentPage===n.totalPageNum},n.isEllipse=function(e){return e.key==="..."}}function f(e){_.isObject(e.pageSize)&&(e.pageSize.size=d(e))}function l(e,t){var n=parseInt(e,10);return isNaN(n)||n<0?t:n}function c(e,n,r){var i=parseInt(e,10);if(!i)return n;var s=r.totalPageNum;return i>s?s:i<t?t:i}function h(t){var n=parseInt(t,10),r=isNaN(n)||n<0;return r?e.totalItems:n}function p(t){var n=parseInt(t,10),r=isNaN(n)||n<=0;return r?e.currentPage:n}function d(e){var t=_.find(e.itemsPerPage.options,function(t){return t.id===e.itemsPerPage.selectedId});return parseInt(t.label,10)}function v(e){var t=d(e),n=Math.ceil(parseInt(e.totalItems,10)/t);return Math.max(n||0,1)}function m(e){var t=e.currentPage,n=e.totalPageNum,r=y(e),i=r[0],s=r[1],o=[];if(n===1)return o.push(g(1,!0)),o;i>2&&n>8&&(o.push(g(1,t===1)),o.push(g("...",!1)));for(var u=i;u<=s;u++)o.push(g(u,t===u));return s<n&&n>8&&(o.push(g("...",!1)),o.push(g(n,t===n))),o}function g(e,t){return{key:e,active:t}}function y(e){var t,n,r=e.currentPage;return e.totalPageNum<=8?(t=1,n=e.totalPageNum,[t,n]):r<=3?(t=1,n=5,[t,n]):r>e.totalPageNum-3?(t=e.totalPageNum-4,n=e.totalPageNum,[t,n]):(t=r-1,n=r+2,[t,n])}function b(e){var t=_.pluck(e.itemsPerPage.options,"label"),n=t.sort(function(e,t){return+e- +t})[0];return+n<e.totalItems}function w(t){function i(e){function i(e){var t={sizeId:"0",options:[]};return _.each(e.options,function(n,r){parseInt(e.size,10)===parseInt(n,10)&&(t.sizeId=r+""),t.options.push({id:r+"",label:n})}),t}function s(){if(!_.isFunction(e.change))return;n(function(){e.change(t.currentPage,d(t),t.totalItems)},0)}var r=i(e);return{selectedId:r.sizeId,options:r.options,change:s,hide:e.hide,style:{width:e.width}}}function s(t){return _.isObject(t)?angular.extend({},e.pageSize,t):e.pageSize}var r=s(t.pageSize);return i(r)}function E(e,t){var n=t&&_.isFunction(t.updatePagination)&&e.parent(".ti-table").length>0;return n}return{restrict:"E",require:"?^^tiTable",replace:!0,scope:{currentPage:"=?",totalItems:"=?",pageSize:"=?",hideTotalItems:"=?",hideGotoLink:"=?",autoHide:"=?",pageNumChange:"&",pageUpdate:"&"},templateUrl:function(t,n){return n.templateUrl||e.template},link:r}}var t=1;return e.provider("tiPageConfig",function(){var e=this.defaults={template:"/tiny-components/src/components/pagination/pagination.html",currentPage:t,totalItems:0,pageSize:{options:[20,40,60,80,100],size:20,width:"70px",change:null,hide:!1},hideTotalItems:!1,hideGotoLink:!1,autoHide:!1};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return e}}),e.directive("tiPagination",n),n.$inject=["tiPageConfig","$timeout"],e.name}),define("components/datePanel/datePanel",["components/module"],function(e){"use strict";function n(){var e=this.constant={pickerMaxYear:2099,pickerMinYear:1970,tababbleSelector:"a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"};this.setPanelPosition=function(e){function t(){var t=$(".ti-date-icon-container",e),n=t.outerHeight(),r=$(".ti-date-range-picker, .ti-date-picker",e),i=r.outerHeight(),s=t.offset(),o=s.top-$(document).scrollTop(),u=window.innerHeight-o-n,a;if(u>=i){var f=5;u>=i+f?a=n+f:a=n+(u-i)}else a=-Math.min(o,i);r.css("top",a+"px")}function n(){var t=$(".ti-date-range-picker, .ti-date-picker",e),n=t.outerWidth(),r=$(".ti-date-icon-container",e).offset(),i=r.left-$(document).scrollLeft(),s=window.innerWidth-i;s>=n||s>=i?(t.css("left","0px"),t.css("right","auto")):(t.css("left","auto"),t.css("right","0px"))}t(),n()},this.changeMaxTime=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59)},this.changeMinTime=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)},this.tabKeydownFn=function(t,n,r){function o(){return n&&n.length?n[0].querySelectorAll(e.tababbleSelector):[]}function u(){return r&&n&&n.length?(r.target||r.srcElement)===n[0]:!1}function a(){return(r.target||r.srcElement)===i[0]}function f(){return(r.target||r.srcElement)===i[i.length-1]}if(!t.isOpenPicker)return;var i=o();if(i.length===0)return;var s=!1;if(r.shiftKey){if(a()||u())s=!0,i[i.length-1].focus()}else f()&&(s=!0,i[0].focus());s&&(r.preventDefault(),r.stopPropagation())},this.isClickYearMonthPicker=function(e,t){var n=e.target;return n===$(".ti-header-year-month-picker",t)[0]||$(n).parents(".ti-header-year-month-picker").length!==0?!0:!1},this.$get=function(){var e={constant:this.constant,setPanelPosition:this.setPanelPosition,tabKeydownFn:this.tabKeydownFn,changeMaxTime:this.changeMaxTime,changeMinTime:this.changeMinTime,isClickYearMonthPicker:this.isClickYearMonthPicker};return e}}function r(e,t){var n={restrict:"E",scope:{value:"=?",maxValue:"=?",minValue:"=?",type:"=?",isOpenYearMonthPicker:"=?",dayClick:"&"},templateUrl:"/tiny-components/src/components/datePanel/datePanel.html",replace:!0,link:function(e){i(e),s(e),o(e,t),u(e)}};return n}function i(e){var t=window.tiny.language,n=t.date_week_start_value,r=t.date_week_names_abb;e.weekArr=_.last(r,r.length-n).concat(_.first(r,n));var i=t.date_week_names_title,s=i.length-n;e.weekTitleArr=_.last(i,s).concat(_.first(i,n)),e.prevText=t.date_prev_month_title,e.nextText=t.date_next_month_title}function s(e){var n;if($.isPlainObject(e.value)&&t.isDate(e.value[e.type]))n=e.value[e.type];else{var r=new Date,i=r.getFullYear(),s=r.getMonth()+1,o=r.getDate();!h(e,i,s,o)&&!p(e,i,s,o)?n=r:t.isDate(e.minValue)?n=e.minValue:n=e.maxValue}e.date={year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()},f(e),m(e,e.date.year,e.date.month),a(e)}function o(e,t){e.preClickFn=function(t){if(t)return;var n,r;e.date.month===1?(n=12,r=e.date.year-1):(n=e.date.month-1,r=e.date.year),v(e,r,n)||(e.date.month=n,e.date.year=r,f(e),a(e),m(e,r,n))},e.nextClickFn=function(t){if(t)return;var n,r;e.date.month===12?(n=1,r=e.date.year+1):(n=e.date.month+1,r=e.date.year),d(e,r,n)||(e.date.month=n,e.date.year=r,f(e),a(e),m(e,r,n))},e.dayClickFn=function(t){if(t.state==="disable")return;e.date.day=t.value,e.value=$.isPlainObject(e.value)?e.value:{},e.value[e.type]=new Date(e.date.year,e.date.month-1,t.value),_.isFunction(e.dayClick())&&e.dayClick()()},e.yearClickFn=function(t,n){e.date.year=t,e.yearSelectedIndex=n,f(e),l(e),a(e),m(e,e.date.year,e.date.month)},e.monthClickFn=function(t,n){var r=window.tiny.language;e.date.month=_.indexOf(r.date_month_names_abb,t)+1,e.monthSelectedIndex=n,f(e),a(e),m(e,e.date.year,e.date.month)},e.monthYearClickFn=function(){e.isOpenYearMonthPicker=!e.isOpenYearMonthPicker,e.isOpenYearMonthPicker&&(l(e),c(e,t))}}function u(e){e.$watch("value",function(t,n){if(t===n)return;s(e)},!0)}function a(e){var t=parseInt(e.date.year,10),n=parseInt(e.date.month,10),r,i=(new Date(t,n-1,1)).getDay(),s=window.tiny.language;s.date_week_start_value===0?r=i:i===0?r=6:r=i-1;var o=[],u=n===1?12:n-1,a=(new Date(t,u,0)).getDate(),f=a-r+1;for(var l=0;l<r;l++)o[l]={value:f+l,state:"disable"};var c=1,d=(new Date(t,n,0)).getDate(),v=r+d,m="";for(var g=r;g<v;g++)h(e,t,n,c)||p(e,t,n,c)?m="disable":b(e,t,n,c)?m="current":w(e,t,n,c)?m="select":m="default",o[g]={value:c,state:m},c++;c=1;for(var y=o.length;y<42;y++)o[y]={value:c,state:"disable"},c++;e.dayArr=[];for(var E=0;E<o.length/7;E++){e.dayArr[E]=[];for(var S=0;S<7;S++)e.dayArr[E].push(o[S+E*7])}}function f(e){var t=window.tiny.language;e.picker=_.isObject(e.picker)?e.picker:{},e.picker.year=e.date.year+" "+t.date_year_suffix_label,e.picker.month=t.date_month_names_abb[e.date.month-1]}function l(e){var t=window.tiny.language,n=e.date.year;e.monthArr=[],e.monthSelectedIndex=-1;for(var r=1;r<=12;r++){if(v(e,n,r))continue;if(d(e,n,r))break;e.monthArr.push(t.date_month_names_abb[r-1]),e.date.month===r&&(e.monthSelectedIndex=e.monthArr.length-1)}}function c(e,n){var r=n.constant,i=e.maxValue.getFullYear(),s=t.isDate(e.maxValue)?i:r.pickerMaxYear,o=e.minValue.getFullYear(),u=t.isDate(e.minValue)?o:r.pickerMinYear;e.yearArr=[],e.yearSelectedIndex=-1;for(var a=u;a<=s;a++)e.yearArr.push(a),e.date.year===a&&(e.yearSelectedIndex=e.yearArr.length-1)}function h(e,n,r,i){if(!t.isDate(e.maxValue))return!1;var s=e.maxValue;return s=new Date(s.getFullYear(),s.getMonth(),s.getDate()),Date.parse(s)<Date.parse(new Date(n,r-1,i))?!0:!1}function p(e,n,r,i){if(!t.isDate(e.minValue))return!1;var s=e.minValue;return s=new Date(s.getFullYear(),s.getMonth(),s.getDate()),Date.parse(s)>Date.parse(new Date(n,r-1,i))?!0:!1}function d(e,n,r){if(!t.isDate(e.maxValue))return!1;var i=e.maxValue;return i=new Date(i.getFullYear(),i.getMonth(),1),Date.parse(i)<Date.parse(new Date(n,r-1,1))?!0:!1}function v(e,n,r){if(!t.isDate(e.minValue))return!1;var i=e.minValue;return i=new Date(i.getFullYear(),i.getMonth(),1),Date.parse(i)>Date.parse(new Date(n,r-1,1))?!0:!1}function m(e,t,n){y(e,t,n)?e.isMaxMonth=!0:e.isMaxMonth=!1,g(e,t,n)?e.isMinMonth=!0:e.isMinMonth=!1}function g(e,n,r){if(!t.isDate(e.minValue))return!1;var i=e.minValue;return i=new Date(i.getFullYear(),i.getMonth(),1),Date.parse(i)===Date.parse(new Date(n,r-1,1))?!0:!1}function y(e,n,r){if(!t.isDate(e.maxValue))return!1;var i=e.maxValue;return i=new Date(i.getFullYear(),i.getMonth(),1),Date.parse(i)===Date.parse(new Date(n,r-1,1))?!0:!1}function b(e,n,r,i){var s=$.isPlainObject(e.value)?e.value[e.type]:null;return t.isDate(s)?(s=new Date(s.getFullYear(),s.getMonth(),s.getDate()),Date.parse(s)===Date.parse(new Date(n,r-1,i))?!0:!1):!1}function w(e,n,r,i){var s=e.value;if(!$.isPlainObject(s)||!t.isDate(s.begin)||!t.isDate(s.end))return!1;var o=s.begin;o=new Date(o.getFullYear(),o.getMonth(),o.getDate()),o=Date.parse(o);var u=s.end;u=new Date(u.getFullYear(),u.getMonth(),u.getDate()),u=Date.parse(u);var a=Date.parse(new Date(n,r-1,i));return e.type==="begin"&&o<a&&a<=u||e.type==="end"&&o<=a&&a<u?!0:!1}var t=window.tiny.utils;return e.provider("datePanelService",n),e.directive("tiDatePanel",r),r.$inject=["$filter","datePanelService"],e.name}),define("components/date/date",["components/module","components/datePanel/datePanel"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0),clearBtn:!0,todayBtn:!1,okBtn:!0};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){var e={defaultValue:this.defaultValue};return e}}function r(e,n,r){function s(e,t){o(e),p(e,t),g(e)}function o(e){u(e),a(e),f(e),l(e),c(e)}function u(e){if(_.isString(e.format))return;e.format=window.tiny.language.date_format}function a(e){var i=n.defaultValue,s=r.changeMaxTime(e.maxValue);e.maxValue=t.isDate(e.maxValue)?s:i.maxValue;var o=r.changeMinTime(e.minValue);e.minValue=t.isDate(e.minValue)?o:i.minValue,Date.parse(e.maxValue)<Date.parse(e.minValue)&&(e.maxValue=i.maxValue,e.minValue=i.minValue)}function f(e){if(e.value===null)return;t.isDate(e.value)||(e.value=new Date),E(e)&&(e.value=e.maxValue),S(e)&&(e.value=e.minValue)}function l(t){t.value===null?t.formatValue="":t.formatValue=e("date")(t.value,t.format)}function c(e){h(e);var t=n.defaultValue;_.isUndefined(e.todayBtn)&&(e.todayBtn=t.todayBtn),_.isUndefined(e.okBtn)&&(e.okBtn=t.okBtn),_.isUndefined(e.clearBtn)&&(e.clearBtn=t.clearBtn)}function h(e){var t=window.tiny.language;e.btnLanguage={today:t.date_today_btn,clear:t.date_clear_btn,ok:t.ok_btn}}function p(e,t){e.isInnerClick=!1,e.showClickFn=function(){if(e.disable)return;e.isInnerClick=!0,e.isOpenPicker=!e.isOpenPicker,e.isOpenPicker?(m(e),setTimeout(function(){r.setPanelPosition(t)},0)):v(e)},e.keydownFn=function(n){function i(){if(e.disable||e.isOpenPicker)return;e.isOpenPicker=!0,m(e),setTimeout(function(){r.setPanelPosition(t)},0)}function s(){e.isOpenPicker&&d(e)}switch(n.keyCode){case 9:s();break;case 13:case 108:i();break;default:}},e.pickerClickFn=function(n){r.isClickYearMonthPicker(n,t)||(e.datePanel.isOpenYearMonthPicker=!1),n.stopPropagation()},e.okClickFn=function(){d(e)},e.clearClickFn=function(){e.value=null,d(e)},e.todayClickFn=function(){e.value=new Date,E(e)&&(e.value=e.maxValue),S(e)&&(e.value=e.minValue),d(e)},e.documentClickFn=function(){if(e.disable||!e.isOpenPicker)return;if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){d(e)})},$(document).on("click",e.documentClickFn),e.documentKeydownFn=function(n){n.keyCode===27&&e.isOpenPicker&&e.$evalAsync(function(){d(e)}),n.keyCode===9&&r.tabKeydownFn(e,$(".ti-date-picker",t),n)},$(document).on("keydown",e.documentKeydownFn),t.on("$destroy",function(){$(document).off("click",e.documentClickFn),$(document).off("keydown",e.documentKeydownFn)})}function d(e){e.isOpenPicker=!1,v(e)}function v(e){_.isFunction(e.close())&&e.close()(e.value)}function m(e){e.datePanel={type:"begin",maxValue:e.maxValue,minValue:e.minValue,isOpenYearMonthPicker:!1,value:{begin:e.value,end:null},dayClick:function(){e.value=e.datePanel.value.begin,d(e)}}}function g(e){e.$watch("value",function(t,n){if(N(t,n))return;if(!y(e)){e.value=n;return}l(e)}),e.$watch("maxValue",function(t,n){if(N(t,n))return;if(!b(e)){e.maxValue=n;return}e.maxValue=r.changeMaxTime(e.maxValue);if(e.value===null)return;E(e)&&(e.value=e.maxValue)}),e.$watch("minValue",function(t,n){if(N(t,n))return;if(!w(e)){e.minValue=n;return}e.minValue=r.changeMinTime(e.minValue);if(e.value===null)return;S(e)&&(e.value=e.minValue)}),e.$watch("format",function(t,n){if(t===n)return;if(!_.isString(t)){e.format=n;return}l(e)})}function y(e){return e.value===null?!0:t.isDate(e.value)&&x(e)&&T(e)?!0:!1}function b(e){return t.isDate(e.maxValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function w(e){return t.isDate(e.minValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function E(e){return Date.parse(e.value)>Date.parse(e.maxValue)}function S(e){return Date.parse(e.value)<Date.parse(e.minValue)}function x(e){return Date.parse(e.value)<=Date.parse(e.maxValue)}function T(e){return Date.parse(e.value)>=Date.parse(e.minValue)}function N(e,n){if(e===n)return!0;if(t.isDate(e)&&t.isDate(n)){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(Date.parse(r)===Date.parse(i))return!0}return!1}var i={restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",minValue:"=?",disable:"=?",okBtn:"=?",clearBtn:"=?",todayBtn:"=?",close:"&"},templateUrl:"/tiny-components/src/components/date/date.html",replace:!0,link:s};return i}var t=window.tiny.utils;return e.provider("dateService",n),e.directive("tiDate",r),r.$inject=["$filter","dateService","datePanelService"],e.name}),define("components/datetime/datetime",["components/module","components/time/time","components/datePanel/datePanel","components/button/button"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0),clearBtn:!0,okBtn:!0};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return{defaultValue:this.defaultValue}}}function r(e,n,r){function i(e,t){s(e),c(e,t),b(e)}function s(e){o(e),u(e),a(e),f(e),l(e)}function o(e){var t=window.tiny.language;if(!$.isPlainObject(e.format)){e.format={date:t.date_format,time:t.time_format};return}_.isString(e.format.date)||(e.format.date=t.date_format),_.isString(e.format.time)||(e.format.time=t.time_format)}function u(e){var r=n.defaultValue;e.maxValue=t.isDate(e.maxValue)?e.maxValue:r.maxValue,e.minValue=t.isDate(e.minValue)?e.minValue:r.minValue,A(e.maxValue,e.minValue)&&(e.maxValue=r.maxValue,e.minValue=r.minValue)}function a(e){if(e.value===null)return;t.isDate(e.value)||(e.value=new Date),L(e.value,e.maxValue)&&(e.value=e.maxValue),A(e.value,e.minValue)&&(e.value=e.minValue)}function f(t){if(t.value===null){t.showValue="";return}var n=t.format.date+" "+k(t.format.time);t.showValue=e("date")(t.value,n)}function l(e){var t=n.defaultValue;_.isUndefined(e.okBtn)&&(e.okBtn=t.okBtn),_.isUndefined(e.clearBtn)&&(e.clearBtn=t.clearBtn);var r=window.tiny.language;e.btnLanguage={clear:r.date_clear_btn,ok:r.ok_btn}}function c(e,n){e.isInnerClick=!1,e.showClickFn=function(){if(e.disable)return;e.isInnerClick=!0,e.isOpenPicker=!e.isOpenPicker,e.isOpenPicker?(p(e),setTimeout(function(){r.setPanelPosition(n)},0)):h(e)},e.keydownFn=function(t){function i(){if(e.disable||e.isOpenPicker)return;e.isOpenPicker=!0,p(e),setTimeout(function(){r.setPanelPosition(n)},0)}function s(){e.isOpenPicker&&h(e)}switch(t.keyCode){case 9:s();break;case 13:case 108:i();break;default:}},e.pickerClickFn=function(t){r.isClickYearMonthPicker(t,n)||(e.datePanel.isOpenYearMonthPicker=!1),t.stopPropagation()},e.timeKeydownFn=function(e){if(!window.tiny.utils.browser.ie)return;(e.keyCode===13||e.keyCode===108)&&e.preventDefault()},e.okClickFn=function(){h(e)},e.clearClickFn=function(){e.value=null,h(e)},e.documentClickFn=function(){if(e.disable)return;if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){e.isOpenPicker&&h(e)})},$(document).on("click",e.documentClickFn),e.documentKeydownFn=function(i){i.keyCode===27&&e.isOpenPicker&&e.$evalAsync(function(){var n=e.value;t.isDate(n)&&(n=new Date(N(n)+" "+C(e.timeOptions.value)),e.value=t.isDate(n)?n:null),h(e)}),i.keyCode===9&&r.tabKeydownFn(e,$(".ti-date-picker",n),i)},$(document).on("keydown",e.documentKeydownFn),n.on("$destroy",function(){$(document).off("click",e.documentClickFn),$(document).off("keydown",e.documentKeydownFn)})}function h(e){e.isOpenPicker=!1,_.isFunction(e.close())&&e.close()(e.value)}function p(e){d(e),v(e)}function d(e){e.datePanel={type:"begin",maxValue:e.maxValue,minValue:e.minValue,isOpenYearMonthPicker:!1,value:{begin:e.value,end:null},dayClick:function(){var t=N(e.datePanel.value.begin);e.value=new Date(t+" "+C(e.timeOptions.value)),L(e.value,e.maxValue)&&(e.value=e.maxValue,e.timeOptions.value=T(e.value)),A(e.value,e.minValue)&&(e.value=e.minValue,e.timeOptions.value=T(e.value)),g(e),y(e)}}}function v(n){n.timeOptions={},m(n),g(n),y(n),n.timeOptions.blur=function(e){var r=n.value;if(!t.isDate(r))return;n.value=new Date(N(r)+" "+C(e))},n.timeOptions.change=function(r){if(!t.isDate(n.value))return;var i=e("date")(n.value,n.format.date);n.showValue=i+" "+r}}function m(e){t.isDate(e.value)?e.timeOptions.value=T(e.value):e.timeOptions.value=""}function g(e){if(!t.isDate(e.value))return;D(e.value,e.maxValue)?e.timeOptions.maxValue=T(e.maxValue):e.timeOptions.maxValue="23:59:59"}function y(e){if(!t.isDate(e.value))return;D(e.value,e.minValue)?e.timeOptions.minValue=T(e.minValue):e.timeOptions.minValue="00:00:00"}function b(e){e.$watch("value",function(t,n){if(t===n)return;if(!w(e)){e.value=n;return}f(e)}),e.$watch("maxValue",function(t,n){if(t===n)return;if(!E(e)){e.maxValue=n;return}if(e.value===null)return;L(e.value,e.maxValue)&&(e.value=e.maxValue)}),e.$watch("minValue",function(t,n){if(t===n)return;if(!S(e)){e.minValue=n;return}if(e.value===null)return;A(e.value,e.minValue)&&(e.value=e.minValue)}),e.$watch("format",function(t,n){if(t===n)return;if(!x(t)){e.format=n;return}f(e)},!0)}function w(e){return e.value===null?!0:t.isDate(e.value)&&O(e.value,e.minValue)&&M(e.value,e.maxValue)?!0:!1}function E(e){return t.isDate(e.maxValue)&&O(e.maxValue,e.minValue)}function S(e){return t.isDate(e.minValue)&&O(e.maxValue,e.minValue)}function x(e){return $.isPlainObject(e)&&_.isString(e.date)&&_.isString(e.time)}function T(e){return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}function N(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}function C(e){if(e.match(/:/))return e;var t=e.match(/am|AM|pm|PM/)||"";return parseInt(e,10)+": "+t}function k(e){return e.match(/h/)?e+" a":e}function L(e,t){return Date.parse(e)>Date.parse(t)}function A(e,t){return Date.parse(e)<Date.parse(t)}function O(e,t){return Date.parse(e)>=Date.parse(t)}function M(e,t){return Date.parse(e)<=Date.parse(t)}function D(e,t){var n=new Date(e.getFullYear(),e.getFullYear(),e.getDate()),r=new Date(t.getFullYear(),t.getFullYear(),t.getDate());return Date.parse(n)===Date.parse(r)?!0:!1}return{restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",minValue:"=?",disable:"=?",okBtn:"=?",clearBtn:"=?",close:"&"},templateUrl:"/tiny-components/src/components/datetime/datetime.html",replace:!0,link:i}}var t=window.tiny.utils;return e.provider("datetimeService",n),e.directive("tiDatetime",r),r.$inject=["$filter","datetimeService","datePanelService"],e.name}),define("components/dateRange/dateRange",["components/module","components/datePanel/datePanel","components/button/button"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0)};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return{defaultValue:this.defaultValue}}}function r(e,n,r){function i(e,t){s(e),p(e,t),d(e,t)}function s(e){o(e),u(e),a(e),f(e),h(e)}function o(e){var t=window.tiny.language;e.btnLanguage={cancel:t.cancel_btn,clear:t.date_clear_btn,ok:t.ok_btn},e.beginText=t.date_range_begin_label,e.endText=t.date_range_end_label}function u(e){if(_.isString(e.format))return;e.format=window.tiny.language.date_format}function a(e){var i=n.defaultValue,s=r.changeMaxTime(e.maxValue);e.maxValue=t.isDate(e.maxValue)?s:i.maxValue;var o=r.changeMinTime(e.minValue);e.minValue=t.isDate(e.minValue)?o:i.minValue,Date.parse(e.maxValue)<Date.parse(e.minValue)&&(e.maxValue=i.maxValue,e.minValue=i.minValue)}function f(e){if(!$.isPlainObject(e.value)){e.value=null;return}l(e),c(e),E(e.value.begin,e.value.end)&&(e.value.begin=e.minValue,e.value.end=e.maxValue)}function l(e){if(!t.isDate(e.value.begin)){e.value.begin=e.minValue;return}E(e.value.begin,e.maxValue)&&(e.value.begin=e.maxValue),S(e.value.begin,e.minValue)&&(e.value.begin=e.minValue)}function c(e){if(!t.isDate(e.value.end)){e.value.end=e.maxValue;return}E(e.value.end,e.maxValue)&&(e.value.end=e.maxValue),S(e.value.end,e.minValue)&&(e.value.end=e.minValue)}function h(t){if(t.value===null){t.showValue="";return}var n=e("date")(t.value.begin,t.format),r=e("date")(t.value.end,t.format);t.showValue=n+window.tiny.language.date_range_to_label+r}function p(e,t){e.isInnerClick=!1,e.showClickFn=function(){if(e.disable)return;e.isInnerClick=!0,e.isOpenPicker=!e.isOpenPicker,e.isOpenPicker&&(w(e,t),setTimeout(function(){r.setPanelPosition(t)},0))},e.keydownFn=function(n){function i(){if(e.disable||e.isOpenPicker)return;e.isOpenPicker=!0,w(e,t),setTimeout(function(){r.setPanelPosition(t)},0)}function s(){e.isOpenPicker&&(e.isOpenPicker=!1)}switch(n.keyCode){case 9:s();break;case 13:case 108:i();break;default:}},e.pickerClickFn=function(t){var n=$(t.target).parents(".ti-date-range-begin-container");if(n.length===0||!r.isClickYearMonthPicker(t,n))e.begin.isOpenYearMonthPicker=!1;var i=$(t.target).parents(".ti-date-range-end-container");if(i.length===0||!r.isClickYearMonthPicker(t,i))e.end.isOpenYearMonthPicker=!1;t.stopPropagation()},e.okClickFn=function(){if($("[ng-bind='btnLanguage.ok']",t).attr("disabled")==="disabled")return;e.value={},$.isPlainObject(e.begin.value)&&$.isPlainObject(e.end.value)?(e.value.begin=e.begin.value.begin,e.value.end=e.end.value.end):e.value=null,e.isOpenPicker=!1},e.clearClickFn=function(){e.value=null,e.begin.value=null,e.end.value=null},e.cancelClickFn=function(){e.isOpenPicker=!1},e.documentClickFn=function(){if(e.disable)return;if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){e.isOpenPicker&&(e.isOpenPicker=!1)})},$(document).on("click",e.documentClickFn),e.documentKeydownFn=function(n){n.keyCode===27&&e.isOpenPicker&&e.$evalAsync(function(){e.isOpenPicker=!1}),n.keyCode===9&&r.tabKeydownFn(e,$(".ti-date-range-picker",t),n)},$(document).on("keydown",e.documentKeydownFn),t.on("$destroy",function(){$(document).off("click",e.documentClickFn),$(document).off("keydown",e.documentKeydownFn)})}function d(e,t){e.$watch("value",function(n,r){if(n===r)return;if(!v(e)){e.value=r;return}h(e),e.isOpenPicker&&w(e,t)},!0),e.$watch("maxValue",function(t,n){if(m(t,n))return;if(!g(e)){e.maxValue=n;return}e.maxValue=r.changeMaxTime(e.maxValue);if(e.value===null)return;E(e.value.begin,e.maxValue)&&(e.value.begin=e.maxValue),E(e.value.end,e.maxValue)&&(e.value.end=e.maxValue)}),e.$watch("minValue",function(t,n){if(m(t,n))return;if(!y(e)){e.minValue=n;return}e.minValue=r.changeMinTime(e.minValue);if(e.value===null)return;S(e.value.begin,e.minValue)&&(e.value.begin=e.minValue),S(e.value.end,e.minValue)&&(e.value.end=e.minValue)}),e.$watch("format",function(t,n){if(t===n)return;if(!_.isString(t)){e.format=n;return}h(e)}),e.$watch("begin.value",function(n,r){if(n===r)return;e.end.value=n,b(n,t)},!0),e.$watch("end.value",function(n,r){if(n===r)return;e.begin.value=n,b(n,t)},!0)}function v(e){function i(t){return Date.parse(t)<=Date.parse(e.maxValue)&&Date.parse(t)>=Date.parse(e.minValue)}var n=e.value;if(n===null)return!0;var r=$.isPlainObject(n)&&t.isDate(n.begin)&&t.isDate(n.end)&&Date.parse(n.begin)<=Date.parse(n.end)&&i(n.begin)&&i(n.end);return r?!0:!1}function m(e,n){if(e===n)return!0;if(t.isDate(e)&&t.isDate(n)){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(Date.parse(r)===Date.parse(i))return!0}return!1}function g(e){return t.isDate(e.maxValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function y(e){return t.isDate(e.minValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function b(e,n){setTimeout(function(){var r=$("[ng-bind='btnLanguage.ok']",n);!$.isPlainObject(e)||!t.isDate(e.begin)||!t.isDate(e.end)||E(e.begin,e.end)?r.attr("disabled",!0):(r.attr("disabled",!1),r[0].focus())},0)}function w(e,t){var n=e.value;n=$.isPlainObject(n)?$.extend(!0,{},n):null,e.begin={value:n,isOpenYearMonthPicker:!1,maxValue:e.maxValue,minValue:e.minValue,type:"begin"},e.end={value:n,isOpenYearMonthPicker:!1,maxValue:e.maxValue,minValue:e.minValue,type:"end"},b(e.value,t)}function E(e,t){return Date.parse(e)>Date.parse(t)}function S(e,t){return Date.parse(e)<Date.parse(t)}return{restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",minValue:"=?",disable:"=?"},templateUrl:"/tiny-components/src/components/dateRange/dateRange.html",replace:!0,link:i}}var t=window.tiny.utils;return e.provider("dateRangeService",n),e.directive("tiDateRange",r),r.$inject=["$filter","dateRangeService","datePanelService"],e.name}),define("components/datetimeRange/datetimeRange",["components/module","components/time/time","components/datePanel/datePanel","components/button/button"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0)};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){var e={constant:this.constant,defaultValue:this.defaultValue};return e}}function r(e,n,r){function i(e,t){s(e),m(e,t),L(e,t)}function s(e){o(e),u(e),a(e),f(e),d(e)}function o(e){var t=window.tiny.language;e.btnLanguage={cancel:t.cancel_btn,clear:t.date_clear_btn,ok:t.ok_btn},e.beginText=t.date_range_begin_label,e.endText=t.date_range_end_label,e.timeText=t.datetime_range_time_label}function u(e){var t=window.tiny.language;if(!$.isPlainObject(e.format)){e.format={date:t.date_format,time:t.time_format};return}_.isString(e.format.date)||(e.format.date=t.date_format),_.isString(e.format.time)||(e.format.time=t.time_format)}function a(e){var r=n.defaultValue;e.maxValue=t.isDate(e.maxValue)?e.maxValue:r.maxValue,e.minValue=t.isDate(e.minValue)?e.minValue:r.minValue,Date.parse(e.maxValue)<Date.parse(e.minValue)&&(e.maxValue=r.maxValue,e.minValue=r.minValue)}function f(e){if(!$.isPlainObject(e.value)){e.value=null;return}l(e),c(e),h(e.value.begin,e.value.end)&&(e.value.begin=e.minValue,e.value.end=e.maxValue)}function l(e){if(!t.isDate(e.value.begin)){e.value.begin=e.minValue;return}h(e.value.begin,e.maxValue)&&(e.value.begin=e.maxValue),p(e.value.begin,e.minValue)&&(e.value.begin=e.minValue)}function c(e){if(!t.isDate(e.value.end)){e.value.end=e.maxValue;return}h(e.value.end,e.maxValue)&&(e.value.end=e.maxValue),p(e.value.end,e.minValue)&&(e.value.end=e.minValue)}function h(e,t){return Date.parse(e)>Date.parse(t)}function p(e,t){return Date.parse(e)<Date.parse(t)}function d(t){if(t.value===null){t.showValue="";return}var n=t.format.date+" "+v(t.format.time),r=e("date")(t.value.begin,n),i=e("date")(t.value.end,n);t.showValue=r+window.tiny.language.date_range_to_label+i}function v(e){return e.match(/h/)?e+" a":e}function m(e,t){e.isInnerClick=!1,e.showClickFn=function(){if(e.disable)return;e.isInnerClick=!0,e.isOpenPicker=!e.isOpenPicker,e.isOpenPicker&&(g(e),setTimeout(function(){r.setPanelPosition(t)},0))},e.keydownFn=function(n){function i(){if(e.disable||e.isOpenPicker)return;e.isOpenPicker=!0,g(e),setTimeout(function(){r.setPanelPosition(t)},0)}function s(){e.isOpenPicker&&(e.isOpenPicker=!1)}switch(n.keyCode){case 9:s();break;case 13:case 108:i();break;default:}},e.pickerClickFn=function(t){var n=$(t.target).parents(".ti-date-range-begin-container");if(n.length===0||!r.isClickYearMonthPicker(t,n))e.beginDate.isOpenYearMonthPicker=!1;var i=$(t.target).parents(".ti-date-range-end-container");if(i.length===0||!r.isClickYearMonthPicker(t,i))e.endDate.isOpenYearMonthPicker=!1;t.stopPropagation()},e.timeKeydownFn=function(e){if(!window.tiny.utils.browser.ie)return;(e.keyCode===13||e.keyCode===108)&&e.preventDefault()},e.okClickFn=function(){if(e.isOkDisabled)return;e.value=$.isPlainObject(e.value)?e.value:{};var t=j(e.beginDate.value.begin);e.value.begin=new Date(t+" "+I(e.beginTime.value));var n=j(e.endDate.value.end);e.value.end=new Date(n+" "+I(e.endTime.value)),e.isOpenPicker=!1},e.clearClickFn=function(){e.value=null,e.beginDate.value=null,e.endDate.value=null,e.beginTime.value="",e.endTime.value=""},e.cancelClickFn=function(){e.isOpenPicker=!1},e.documentClickFn=function(){if(e.disable)return;if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){e.isOpenPicker&&(e.isOpenPicker=!1)})},$(document).on("click",e.documentClickFn),e.documentKeydownFn=function(n){n.keyCode===27&&e.isOpenPicker&&e.$evalAsync(function(){e.isOpenPicker=!1}),n.keyCode===9&&r.tabKeydownFn(e,$(".ti-date-range-picker",t),n)},$(document).on("keydown",e.documentKeydownFn),t.on("$destroy",function(){$(document).off("click",e.documentClickFn),$(document).off("keydown",e.documentKeydownFn)})}function g(e){y(e),b(e),H(e)}function y(e){var t=e.value;t=$.isPlainObject(t)?$.extend(!0,{},t):null,e.beginDate={value:t,maxValue:e.maxValue,minValue:e.minValue,isOpenYearMonthPicker:!1,type:"begin"},e.endDate={value:t,maxValue:e.maxValue,minValue:e.minValue,isOpenYearMonthPicker:!1,type:"end"}}function b(e){w(e),T(e)}function w(e){e.beginTime={},E(e),x(e),S(e),e.beginTime.blur=function(){H(e)}}function E(e){if(e.value===null){e.beginTime.value="";return}e.beginTime.value=B(e.value.begin)}function S(e){var t=e.beginDate.value;$.isPlainObject(t)&&F(e.minValue,t.begin)?e.beginTime.minValue=B(e.minValue):e.beginTime.minValue="00:00:00"}function x(e){var t=e.beginDate.value;$.isPlainObject(t)&&F(e.maxValue,t.begin)?e.beginTime.maxValue=B(e.maxValue):e.beginTime.maxValue="23:59:59"}function T(e){e.endTime={},N(e),k(e),C(e),e.endTime.blur=function(){H(e)}}function N(e){if(e.value===null){e.endTime.value="";return}e.endTime.value=B(e.value.end)}function C(e){var t=e.endDate.value;$.isPlainObject(t)&&F(e.minValue,t.end)?e.endTime.minValue=B(e.minValue):e.endTime.minValue="00:00:00"}function k(e){var t=e.endDate.value;$.isPlainObject(t)&&F(e.maxValue,t.end)?e.endTime.maxValue=B(e.maxValue):e.endTime.maxValue="23:59:59"}function L(e,t){e.$watch("value",function(n,r){if(n===r)return;if(!A(e)){e.value=r;return}d(e),e.isOpenPicker&&g(e,t)},!0),e.$watch("maxValue",function(t,n){if(O(t,n))return;if(!M(e)){e.maxValue=n;return}if(e.value===null)return;h(e.value.begin,e.maxValue)&&(e.value.begin=e.maxValue),h(e.value.end,e.maxValue)&&(e.value.end=e.maxValue)}),e.$watch("minValue",function(t,n){if(O(t,n))return;if(!D(e)){e.minValue=n;return}if(e.value===null)return;p(e.value.begin,e.minValue)&&(e.value.begin=e.minValue),p(e.value.end,e.minValue)&&(e.value.end=e.minValue)}),e.$watch("format",function(t,n){if(t===n)return;if(!P(t)){e.format=n;return}d(e)}),e.$watch("beginDate.value",function(t,n){if(t===n)return;x(e),S(e),e.endDate.value=t,H(e)},!0),e.$watch("endDate.value",function(t,n){if(t===n)return;k(e),C(e),e.beginDate.value=t,H(e)},!0)}function A(e){function i(t){return Date.parse(t)<=Date.parse(e.maxValue)&&Date.parse(t)>=Date.parse(e.minValue)}var n=e.value;if(n===null)return!0;var r=$.isPlainObject(n)&&t.isDate(n.begin)&&t.isDate(n.end)&&Date.parse(n.begin)<=Date.parse(n.end)&&i(n.begin)&&i(n.end);return r?!0:!1}function O(e,n){return e===n?!0:t.isDate(e)&&t.isDate(n)&&Date.parse(e)===Date.parse(n)?!0:!1}function M(e){return t.isDate(e.maxValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function D(e){return t.isDate(e.minValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function P(e){return $.isPlainObject(e)&&_.isString(e.date)&&_.isString(e.time)}function H(e){function n(){var n=e.beginDate.value;return $.isPlainObject(n)&&t.isDate(n.begin)&&t.isDate(n.end)&&r(e)}function r(){var t=new Date(j(e.beginDate.value.begin)+" "+I(e.beginTime.value)),n=new Date(j(e.endDate.value.end)+" "+I(e.endTime.value));return Date.parse(n)>=Date.parse(t)}e.$evalAsync(function(){n(e)?e.isOkDisabled=!1:e.isOkDisabled=!0})}function B(e){return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}function j(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}function F(e,n){if(!t.isDate(e)||!t.isDate(n))return!1;var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(n.getFullYear(),n.getMonth(),n.getDate());return Date.parse(r)===Date.parse(i)}function I(e){if(e.match(/:/))return e;var t=e.match(/am|AM|pm|PM/)||"";return parseInt(e,10)+": "+t}return{restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",minValue:"=?",disable:"=?"},templateUrl:"/tiny-components/src/components/datetimeRange/datetimeRange.html",replace:!0,link:i}}var t=window.tiny.utils;return e.provider("datetimeRangeService",n),e.directive("tiDatetimeRange",r),r.$inject=["$filter","datetimeRangeService","datePanelService"],e.name}),define("components/menu/menu",["components/module","components/tip/tip"],function(e){"use strict";function t(){var e=this.defaultValue={panelAlign:"right"};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return{defaultValue:this.defaultValue}}}function n(e){function n(t,n,r){function i(){t.panelAlign=u(),t.toggleElement=n,t.panelItems=angular.copy(t.items),t.isInnerClick=!1}function s(){t.toggleClickFn=function(){t.isInnerClick=!0;if(_.isFunction(t.beforeClick())&&t.beforeClick()()===!1)return;t.show=!t.show},t.documentClickFn=function(){if(t.isInnerClick){t.isInnerClick=!1;return}t.$evalAsync(function(){t.show=!1})},$(document).on("click",t.documentClickFn),n.on("$destroy",function(){$(document).off("click",t.documentClickFn)})}function o(){t.$watch("items",function(e,n){if(e===n)return;t.panelItems=angular.copy(t.items)},!0)}function u(){return t.panelAlign==="right"||t.panelAlign==="left"?t.panelAlign:e.defaultValue.panelAlign}i(t),s(t),o(t)}var t={restrict:"E",scope:{panelAlign:"=?",show:"=?",items:"=?",panelMaxWidth:"=?",beforeClick:"&"},templateUrl:"/tiny-components/src/components/menu/menu.html",replace:!0,transclude:!0,link:n};return t}function r(e){function n(t,n,s){function o(){$("body").append(n),t.hasChildren=function(e){return _.isArray(e)&&e.length?!0:!1},t.tooltipConfig={content:"",triggerEvent:"trigger by menu",position:"top-left"}}function a(){t.mouseenterFn=function(e,n){if(!t.hasChildren(e.childrens)||e.disable)return;e.showChildrens=!0,r(t,$($(".ti-menu-panel-container",$(n.currentTarget))[0])),u(t,n)},t.mouseleaveFn=function(e,n){if(!t.hasChildren(e.childrens)||e.disable)return;e.showChildrens=!1},t.mouseenterFn1=function(t,n){_.isString(t.tip)&&t.tip!==""&&e.show($($("div[ti-tooltip]",$(n.currentTarget).closest(".ti-menu-panel-list"))[0]),{content:t.tip})},t.mouseleaveFn1=function(t,n){e.hide($($("div[ti-tooltip]",$(n.currentTarget).closest(".ti-menu-panel-list"))[0]))},t.clickFn=function(e,n){n.stopPropagation();if(e.disable||t.hasChildren(e.childrens))return;_.isFunction(e.click)&&e.click(e),t.show=!1}}function f(){t.$watch("show",function(e,s){if(!t.show)return;r(t,n),i(t,n)})}o(),a(t),f(t,n)}function r(e,t){var n=parseInt(e.panelMaxWidth,10);if(_.isNaN(n))return;setTimeout(function(){t.css({maxWidth:n+"px",wordWrap:"break-word",whiteSpace:"normal",width:t.outerWidth()+"px"})},0)}function i(e,t){setTimeout(function(){s(e,t),o(e,t),t.css("display","block")},0)}function s(e,t){var n=$(".ti-menu-toggle",e.toggleElement),r=n.offset(),i=n.outerWidth(),s=t.outerWidth(),o;e.panelAlign==="left"?o=r.left:o=r.left+i-s,t.css({left:o+"px"})}function o(e,t){var n=$(".ti-menu-toggle",e.toggleElement),r=n.outerHeight(),i=t.outerHeight(),s=n.offset(),o=s.top-$(document).scrollTop(),u=window.innerHeight-o-r,a;u>=i||o<=u?a=r+s.top:a=s.top-i,t.css("top",a+"px")}function u(e,t){setTimeout(function(){var n=$(t.currentTarget),r=$($(".ti-menu-panel-container",n)[0]);a(e,n,r),f(n,r),r.css("display","block")},0)}function a(e,t,n){var r=t.outerWidth()+"px",i,s;e.panelAlign==="left"?(i=r,s="auto"):(i="auto",s=r),n.css({left:i,right:s})}function f(e,t){var n=t.outerHeight(),r=e.offset(),i=r.top-$(document).scrollTop(),s=window.innerHeight-i,o;s>=n?o=0:o=s-n,t.css("top",o+"px")}var t={restrict:"E",templateUrl:"/tiny-components/src/components/menu/menuPanel.html",replace:!0,scope:{panelAlign:"=?",show:"=?",toggleElement:"=?",items:"=?",panelMaxWidth:"=?"},link:n};return t}e.provider("menuService",t),e.directive("tiMenu",n),n.$inject=["menuService"],e.directive("tiMenuPanel",r),r.$inject=["tiTipService"]}),define("components/checkboxGroup/checkGroup",["components/module"],function(e){"use strict";function t(e,t,n){function i(r,i,s){function d(e){e===!0?v():m()}function v(){var e=f(p),t=u(p)?u(p):[];_.each(t,function(t){n.add(e,t.id)}),l(p,e)}function m(){var e=f(p),t=u(p)?u(p):[];_.each(t,function(t){n.remove(e,t.id)}),l(p,e)}function g(){var e=u(p)?u(p):[],t=_.pluck(e,"id"),r=f(p),i=0;for(var s=0;s<t.length;s++)n.contains(r,t[s])&&i++;return i>0&&i<t.length}function y(){var e=u(p)?u(p):[],t=_.pluck(e,"id"),r=f(p);if(r.length===0||t.length===0)return!1;for(var i=0;i<t.length;i++)if(!n.contains(r,t[i]))return!1;return!0}var o=s.tiCheckGroup,u=e(o);s.$set("tiCheckGroup",null),t(i)(r),s.$set("tiCheckGroup",o);var a=s.checkedId,f=e(a),l=f.assign,c=e(s.ngModel),h=c.assign,p=r.$parent;r.$watch(s.ngModel,function(e,t){if(e===t)return;if(e===!1&&g())return;d(e)}),r.$watch(function(){return y()},function(e){h(r,e)})}var r={restrict:"A",priority:599,terminal:!0,scope:!0,compile:function(e,t){return t.ngModel||t.$set("ngModel","tiAllChecked"),i}};return r}return e.directive("tiCheckGroup",t),t.$inject=["$parse","$compile","tiService"],e.name}),define("components/checkboxGroup/checkItem",["components/module"],function(e){"use strict";function t(e,t,n){function i(r,i,s){function v(e,t){var r=f(p);t===!0?l(p,n.add(r,e)):l(p,n.remove(r,e))}var o=s.tiCheckItem,u=e(o);s.$set("tiCheckItem",null),t(i)(r),s.$set("tiCheckItem",o);var a=s.checkedId,f=e(a),l=f.assign,c=e(s.ngModel),h=c.assign,p=r.$parent,d=u(p)?u(p).id:undefined;r.$watch(s.ngModel,function(e,t){if(e===t)return;v(d,e)}),p.$watchCollection(a,function(e,t){h(r,n.contains(e,d))})}var r={restrict:"A",priority:599,terminal:!0,scope:!0,compile:function(e,t){return t.ngModel||t.$set("ngModel","tiChecked"),i}};return r}return e.directive("tiCheckItem",t),t.$inject=["$parse","$compile","tiService"],e.name}),define("components/table/colspan",["components/module"],function(e){"use strict";function t(){return{restrict:"A",require:"^tiTable",link:function(e,t,n,r){e.$watch(function(){return r.getTableState()},function(e,n){var r=0;_.each(e.columns,function(e){e.show!==!1&&r++}),t.attr("colspan",r)},!0)}}}return e.directive("tiColspan",t),e.name}),define("components/table/colsResizable",["components/module"],function(e){"use strict";function t(e){return{restrict:"AE",require:"^tiTable",link:function(t,n,r,i){function o(e,t){var r=n.children("table"),i=v(r);_.each(i,function(e,n){var r=$(e);t&&t[n]&&t[n].width?r.css("width",t[n].width):r.css("width","")}),e&&r.css("width",e)}function u(e){var t=y(e);return{$table:t,$ths:v(t,!0),$wrap:e,mouseXPosition:0,$target:null,$next:null,storedSizes:[]}}function a(t){var n=t.$table,r="tiTable",i=e.colsResizable;n.on("mousemove",">thead>tr>th:not(."+i.notResizableClass+")",function(e){var t=l(e),r=t.offset(),s=t.outerWidth(),o=Math.abs(e.pageX-Math.round(r.left+s))<=i.colBorderRange;o?c(t,n):h(t,n)}),n.on("mouseleave",">thead>tr>th:not(."+i.notResizableClass+")",function(e){var t=l(e);h(t,n)}),n.on("mousedown",">thead>tr>th:not(."+i.notResizableClass+")",function(e){var n=l(e);n.hasClass("col-resize-active")&&(t.$target=n,t.$next=n.nextAll(":not(."+i.notResizableClass+"):visible").eq(0),t.mouseXPosition=e.pageX,w(t),E(t,!0))}),$(document).on("mousemove."+e.nameSpace,S).on("mouseup."+e.nameSpace,x)}function f(){t.$on("$destroy",function(){$(document).off("mousemove."+e.nameSpace,S).off("mouseup."+e.nameSpace,x)})}function l(e){return $(e.target.nodeName==="TH"?e.target:$(e.target).parents("TH")[0])}function c(e,t){p(e,t)}function h(e,t){d(e,t)}function p(e,t){var n=e.index(),r=t.find(">tbody>tr:not(.ti-details-tr)");e.addClass("col-resize-active"),_.each(r,function(e){$(e.children[n]).addClass("col-resize-active")})}function d(e,t){var n=t.find(">thead>tr>th"),r=t.find(">tbody>tr:not(.ti-details-tr)");n.removeClass("col-resize-active"),r.children("td").removeClass("col-resize-active")}function v(e,t){var n=e.find(">thead>tr>th");return t&&(n=n.filter(":visible")),n}function m(e){var t=e.$table;if(t.length&&e.$ths&&e.$ths.length){var n,r;for(var i=0;i<e.$ths.length;i++)n=$(e.$ths[i]),r=n.outerWidth(),g(n,r);var s=t.outerWidth();g(e.$table,s)}}function g(e,t){e.css("width",t)}function y(e){var t=e.children("table");return t.length===0&&(t=e.children(".ti-table-container").children("table")),t}function b(e){var t;e.storedSizes=[],_.each(e.$ths,function(n,r){t=$(n),t.attr("ti-visible-index",r),e.storedSizes[r]=t.outerWidth()})}function w(e){e.$ths=v(e.$table,!0),b(e),m(e)}function E(t,n){var r=$("body"),i=e.colsResizable;r.toggleClass(i.unselectableClass,n),n?r.attr("unselectable","on"):r.removeAttr("unselectable")}function S(e){if(s.mouseXPosition===0||!s.$target)return;N(e,s)}function x(){try{E(s,!1),T(s)}catch(e){}}function T(e){var t=e.$table;b(e),e.mouseXPosition=0,setTimeout(function(){i.setDragState(!1)},0),e.$target=e.$next=null}function N(e,t){i.setDragState(!0);var n=t.$table,r=0,s=t.$next,o=parseInt(t.$target.attr("ti-visible-index"),10),u=t.storedSizes[o],a=e.pageX-t.mouseXPosition;if(u+a>0){t.storedSizes[o]+=a,g(t.$target,t.storedSizes[o]);for(var f=0;f<t.$ths.length;f++)r+=t.storedSizes[f];g(n,r)}s.length||(t.$wrap[0].scrollLeft=n.outerWidth()),t.mouseXPosition=e.pageX}var s=u(n);a(s),f(),t.$watch(function(){return i.getTableState()},function(e,t){var n=_.reduce(t.columns,function(e,t){return e+t.show},""),r=_.reduce(e.columns,function(e,t){return e+t.show},"");n!==r&&o(e.width,e.columns)},!0)}}}return e.directive("colsResizable",t),t.$inject=["tiTableConfig"],e.name}),define("components/table/colsToggle",["components/module"],function(e){"use strict";function t(e){return{restrict:"AE",replace:!0,require:"^tiTable",link:function(t,n,r,i){function u(){var n=document.createElement("div");return n.className=e.toggleCols.backgroundClass,$(n).click(function(){t.showPanel=!1,a(),t.$digest()}),n}function a(){if(t.showPanel)return;try{document.body.removeChild(o)}catch(e){}}function f(){document.body.appendChild(o)}t.hiddenColumns=[],t.showPanel=!1;var s=t.$eval(r.panelClass);s&&n.find(".ti-toggle-cols-dropdown").addClass(s);var o=u();t.togglePanel=function(e){e.preventDefault(),e.stopPropagation(),t.showPanel=!t.showPanel,t.showPanel?f():a()},t.toggleColumn=function(e){return e.show=!e.show,i.pipe()},t.$on("$destroy",function(){a()}),t.$watch(function(){return i.getTableState()},function(e){var n=e.columns;t.hiddenColumns!==n&&(t.hiddenColumns=n)},!0)},templateUrl:e.toggleCols.template}}return e.directive("tiColsToggle",t),t.$inject=["tiTableConfig"],e.name}),define("components/table/filter",["components/module"],function(e){"use strict";function t(e,t){return{require:"^tiTable",link:function(n,r,i,s){var o=s,u=null,a=e.search.delay;n.$watch(function(){return n.$eval(i.filterKeywords)},function(e,n){s.getTableState().filter={},u!==null&&t.cancel(u),u=t(function(){o.search(e),u=null},a)},!0)}}}return e.directive("filterKeywords",t),t.$inject=["tiTableConfig","$timeout"],e.name}),define("components/table/sort",["components/module"],function(e){"use strict";function t(e,t,n){return{restrict:"A",require:"^tiTable",link:function(r,i,s,o){function g(){f++,l=i.index();var e=o.sortBy.bind(o,a,f%2===0,l);v!==null&&n.cancel(v),v=n(e,m)}function y(){return o.getDragState()}var u=t(s.tiSort),a=u(r)!==undefined?u(r):s.tiSort,f=0,l,c=e.sort.ascentClass,h=e.sort.descentClass,p=[c,h],d,v=null,m=e.sort.delay;s.defaultSort&&(d=r.$eval(s.defaultSort)!==undefined?r.$eval(s.defaultSort):s.defaultSort),i.bind("click",function(t){if(y()||!a)return!1;r.$apply(g)}),d&&(f=d==="desc"?1:0,g()),r.$watch(function(){return o.getTableState().sort},function(e,t){e.predicate!==a||e.colIndex!==l?(f=0,i.removeClass(c).removeClass(h).removeAttr("unselectable")):(f=e.reverse===!0?2:1,i.removeClass(p[f%2]).addClass(p[f-1]).attr("unselectable","on"))},!0)}}}return e.directive("tiSort",t),t.$inject=["tiTableConfig","$parse","$timeout"],e.name}),define("components/table/details",["components/module"],function(e){"use strict";function t(){return{restrict:"E",require:"^tiTable",templateUrl:"/tiny-components/src/components/table/details-icon.html",scope:{row:"=?",beforeToggle:"&"},replace:!0,link:function(e,t,n,r){e.row=_.isObject(e.row)?e.row:{},e.row.showDetails=_.isUndefined(e.row.showDetails)?!1:e.row.showDetails,t.on("click",function(){var t=e.beforeToggle(),n=!0;_.isFunction(t)&&(n=t(e.row)),n!==!1&&(e.row.showDetails=!e.row.showDetails),e.$evalAsync()});var i=t.closest("tr"),s=i.scope().$index,o=s%2===0?"ti-odd-tr":"ti-even-tr";i.addClass(o)}}}function n(e){function t(e){var t=e[0],n=e[e.length-1],r;for(var i=1;t!==n&&(t=t.nextSibling);i++)if(r||e[i]!==t)r||(r=jqLite(slice.call(e,0,i))),r.push(t);return r||e}return{multiElement:!0,transclude:"element",priority:599,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,s,o){var u,a,f;n.$watch(function(){var e=n.$eval(i.tiDetailsTr);return e?e.showDetails:!1},function(n){n?a||o(function(t,n){a=n,t[t.length++]=document.createComment(" end tiDetailsTr: "+i.tiDetailsTr+" "),u={clone:t},t.addClass("ti-details-tr"),e.enter(t,r.parent(),r)}):(f&&(f.remove(),f=null),a&&(a.$destroy(),a=null),u&&(f=t(u.clone),e.leave(f).then(function(){f=null}),u=null))})}}}return e.directive("tiDetailsIcon",t),e.directive("tiDetailsTr",n),n.$inject=["$animate"],e.name}),define("components/table/table",["components/module"],function(e){"use strict";function t(e){return{restrict:"E",transclude:!0,replace:!0,template:'<div class="ti-table"></div>',controller:n,link:function(t,n,i,s,o){i.filterFn&&s.setFilterFunction(t.$eval(i.filterFn)),i.sortFn&&s.setSortFunction(t.$eval(i.sortFn)),o(t,function(e){n.append(e)}),(!_.has(i,"autoTip")||t[i.autoTip]!==!1)&&r(n,e)}}}function n(e,t,n,r,i){function h(e){return e?[].concat(e):[]}function p(){var t=e.$eval(r.columns),n=e.$eval(r.tableWidth)||"100%",s={width:n,columns:t,sort:{},filter:{},pagination:{currentPage:0,itemsPerPage:0},toggleCols:{background:null},resizable:{isDragging:!1}},o=e.$eval(r.id);return o&&(i.tiTableState||(i.tiTableState={}),i.tiTableState[o]=s),s}function d(){var t=u(e);a=h(t&&t.data?t.data:[])}function v(){var t=u(e);return t&&t.state?t.state:undefined}function m(){var t=c.pagination,n=h(a),r=v();c.filter.predicate&&(!r||!r.filter)&&(n=l(n,c.filter.predicate)),c.sort.predicate&&(!r||!r.sort)&&(n=f(n,c.sort.predicate,c.sort.reverse));if(t.currentPage>0&&(!r||!r.pagination)){var i=(t.currentPage-1)*t.itemsPerPage;n=n.slice(i,i+parseInt(t.itemsPerPage,10))}o(e,n||a)}function g(t){var n=!1,i=e.$eval(r.tableStateUpdate);typeof i=="function"&&(n=i(t)),n||m()}function y(){if(r.srcData){var t=[];e.$watch(function(){var n=u(e);return n&&n.data?n.data:t},function(){d(),m()},!0)}}var s=t(r.displayedData),o=s.assign,u=t(r.srcData),a=[];y();var f=n("orderBy"),l=n("filter"),c=p();this.sortBy=function(t,n,r){c.sort.predicate=t,c.sort.reverse=n===!0,c.sort.colIndex=r,g(c)},this.search=function(t){c.filter.predicate=t||"",c.pagination.start=0,g(c)},this.updatePagination=function(t,n){c.pagination.currentPage=t,c.pagination.itemsPerPage=n,g(c)},this.setDragState=function(e){c.resizable.isDragging=e},this.getDragState=function(){return c.resizable.isDragging},this.getTableState=function(){return c},this.setFilterFunction=function(t){typeof t=="function"&&(l=t)},this.setSortFunction=function(t){typeof t=="function"&&(f=t)}}function r(e){var t=$($("table",e)[0]),n=">thead>tr>th:not(.no-auto-tip),>tbody>tr:not(.ti-details-tr)>td:not(.no-auto-tip)";t.on("mouseenter",n,function(e){var t=$(e.currentTarget),n="input,button,select,textarea, iframe, object, embed, *[tabindex], *[contenteditable=true]",r=t.find(n);if(r.length>0)return;t.removeAttr("title");var i=$(t[0].cloneNode(!0)).css({"font-size":t.css("font-size"),"font-weight":t.css("font-weight"),"font-family":t.css("font-family"),"padding-right":t.css("paddingRight"),"padding-left":t.css("paddingLeft"),"border-right":t.css("borderRightWidth")+" dotted transparent","border-left":t.css("borderLeftWidth")+" dotted transparent",height:t.height()});i.addClass("ti-table-cell-clone"),$("body").append(i);var s=$(".ti-sort",t);s.length&&$(".ti-sort",i).css({"font-weight":s.css("font-weight"),"padding-right":s.css("paddingRight"),"padding-left":s.css("paddingLeft")});var o=parseFloat(getComputedStyle(t[0],null).width,10),u=parseFloat(getComputedStyle(i[0],null).width,10);u>o&&t.attr("title",t.text()),i.remove()})}return e.directive("tiTable",t),t.$inject=["tiTipService"],n.$inject=["$scope","$parse","$filter","$attrs","$rootScope"],e.name}),define("components/table/tableConfig",["components/module"],function(e){"use strict";e.constant("tiTableConfig",{nameSpace:"tiTable",pagination:{template:"/tiny-components/src/components/table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:0,inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"ti-sort-ascent",descentClass:"ti-sort-descent",delay:50},toggleCols:{template:"/tiny-components/src/components/table/cols-toggle.html",backgroundClass:"ti-toggle-cols-background"},colsResizable:{notResizableClass:"ti-resizable-false",unselectableClass:"ti-unselectable",colBorderRange:8},pipe:{delay:100}})}),define("components/unifyValid/unifyValid",["components/module","components/tip/tip"],function(e){function n(e,t){if(arguments.length===1)return function(){var t=$.makeArray(arguments);return t.unshift(e),n.apply(this,t)};var r=e;return $.each(t,function(e,t){r=r.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),r}function i(e){function i(){var e={required:tiny.language.valid_required_info,maxSize:n(tiny.language.valid_maxSize_info),minSize:n(tiny.language.valid_minSize_info),rangeSize:n(tiny.language.valid_rangeSize_info),maxValue:n(tiny.language.valid_maxValue_info),minValue:n(tiny.language.valid_minValue_info),rangeValue:n(tiny.language.valid_rangeValue_info),regularCheck:tiny.language.valid_regularCheck_info,contains:n(tiny.language.valid_contains_info),notContains:n(tiny.language.valid_notContains_info),checkScriptInfo:tiny.language.valid_checkScriptInfo_info,equal:n(tiny.language.valid_equal_info),notEqual:n(tiny.language.valid_notEqual_info),port:tiny.language.valid_port_info,email:tiny.language.valid_email_info,date:tiny.language.valid_date_info,url:tiny.language.valid_url_info,integer:tiny.language.valid_integer_info,number:tiny.language.valid_number_info,digits:tiny.language.valid_digits_info,ipv4:tiny.language.valid_ipv4_info,ipv6:tiny.language.valid_ipv6_info};angular.extend(t.errorMsg,e)}function s(e,t,n){var r=e.validator;if(!_.isArray(r)||r.length===0)return c(t),n&&l(t,e.tip,e.position),!0;var i=!0,s,u,h,p="",d=[];for(var v=0,m=r.length;v<m;v++)s=o(t,r[v]),u=s.isValid,h=s.msg,d.push({isvalid:u,msg:h}),!u&&i===!0&&(i=!1,p=h);if(i)a(t,e,n);else{var g={validInfo:d,errMsg:p};f(t,e,g,n)}return i}function o(e,t){var n=t.rule,r=t.param||[],i=_.isString(n)?h(n):n;if(!_.isFunction(i))return{isValid:!0};var s=_.isUndefined(e[0].tiValue)?e.val():e[0].tiValue,o=i.call(e,s,r),a=!1,f="";return o===!0||o===""?a=!0:o===!1?f=t.errorMsg?t.errorMsg:u(n,r):f=o,{isValid:a,msg:f}}function u(e,n){i();var r=t.errorMsg[e];return _.isFunction(r)&&(r=r.call(null,n)),r}function a(e,t,n){c(e);var r=t.validCallback,i;_.isFunction(r)&&(i=r());if(n){var s=i||t.tip;l(e,s,t.position)}}function f(e,t,n,i){c(e);var s=t.invalidCallback,o;_.isFunction(s)&&(o=s(n));if(i){var u=o||n.errMsg;u&&(_.isString(u)&&(u='<span class="ti-validate-icon ti-icon ti-icon-exclamation-circle"></span><span>'+u+"</span>"),l(e,u,t.position)),r.focusCleanup||e.addClass("ti-validate-error")}else e.addClass("ti-validate-error")}function l(t,n,i){if(!n)return;t[0].tiTooltip||(t[0].tiTooltip=e.createTip(t,{position:i||r.position,triggerEvent:"none",content:n})),t[0].tiTooltip.show({content:n})}function c(e){e[0].tiTooltip&&e[0].tiTooltip.hide(),e.removeClass("ti-validate-error")}function h(e){return t.rulesFn[e]}return{clearSingleInvalid:c,checkValidation:s,getRuleFn:h,setErrMsg:i}}function s(){this.setDefaults=function(e){angular.extend(r,e)},this.addRules=function(e){var n,r;for(var i=0,s=e.length;i<s;i++)n=e[i],r=n.ruleKey,t.rulesFn[r]=n.ruleFn,t.errorMsg[r]=n.errorMsg},this.$get=["$tinyValidCommon",function(e){function t(t){var r=n(t);for(var i=0,s=r.length;i<s;i++)e.clearSingleInvalid($(r[i]))}function n(e){var t=$(e);return t.length===0?[]:t.filter("[ti-validation]").add(t.find("[ti-validation]"))}function i(t,i){var s=n(t),o=r.ignore,u=r.focusFirstInvalid;_.isObject(i)&&(o=_.isUndefined(i.ignore)?o:i.ignore,u=_.isUndefined(i.focusFirstInvalid)?u:i.focusFirstInvalid);var a,f=!0,l=!0;for(var c=0,h=s.length;c<h;c++){a=angular.element(s[c]);if(a.is(o)||a[0].tiDisable)continue;f=e.checkValidation(a.scope().$eval(a.attr("ti-validation")),a,!1),!f&&l===!0&&(l=!1,u&&a.focus())}return l}return{clearInValid:t,getRuleFn:e.getRuleFn,check:i}}]}function o(e){var t={restrict:"A",link:function(t,n,r){t.$watch(function(){return t.$eval(r.disable)||n.attr("disabled")||t.$eval(r.ngDisabled)},function(t){t?(n[0].tiDisable=!0,e.clearSingleInvalid(n)):n[0].tiDisable=!1}),n.on("tiFocus contentChange",function(){e.checkValidation(t.$eval(r.tiValidation),n,!0)}),n.on("tiBlur",function(){e.checkValidation(t.$eval(r.tiValidation),n,!1)})}};return t}var t={rulesFn:{required:function(e){return e!==""},maxSize:function(e,t){var n=e.length;return e===""||n<=parseInt(t[0],10)},minSize:function(e,t){var n=e.length;return e===""||n>=parseInt(t[0],10)},rangeSize:function(e,t){var n=e.length;return e===""||n>=parseInt(t[0],10)&&n<=parseInt(t[1],10)},maxValue:function(e,t){return e===""||parseFloat(e)<=parseFloat(t[0])},minValue:function(e,t){return e===""||parseFloat(e)>=parseFloat(t[0])},rangeValue:function(e,t){return e===""||parseFloat(e)>=parseFloat(t[0])&&parseFloat(e)<=parseFloat(t[1])},regularCheck:function(e,t){if(e==="")return!0;var n=t[0];return typeof n=="string"&&(n=new RegExp("^(?:"+n+")$")),n.test(e)},contains:function(e,t){return e===""||e.indexOf(t[0])!==-1},notContains:function(e,t){return e===""||e.indexOf(t[0])===-1},equal:function(e,t){return e===""||e===t[0]},notEqual:function(e,t){return e===""||e!==t[0]},checkScriptInfo:function(e){var t=new RegExp("<+/?[Ss][Cc][Rr][Ii][Pp][Tt] *.*>*");return e===""||!t.test(e)},port:function(e){return e===""||/^\d+$/.test(e)&&e>=0&&e<=65535},email:function(e){return e===""||/^((([A-Za-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([A-Za-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([A-Za-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([A-Za-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/.test(e)},date:function(e){return e===""||!/Invalid|NaN/.test((new Date(e)).toString())},url:function(e){return e===""||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},integer:function(e){return e===""||/^-?\d+$/.test(e)},number:function(e){return e===""||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e){return e===""||/^\d+$/.test(e)},ipv4:function(e){return e===""||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},ipv6:function(e){return e===""||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)}},errorMsg:{}},r={position:"right",ignore:":hidden",focusFirstInvalid:!0,focusCleanup:!0};e.factory("$tinyValidCommon",["tiTipService",i]),e.provider("tiValid",s),e.directive("tiValidation",["$tinyValidCommon",o])}),define("components/switch/switch",["components/module"],function(e){"use strict";function t(e,t){function n(t,n,r){t.onLabel=_.isUndefined(t.onLabel)?e.onLabel:t.onLabel,t.offLabel=_.isUndefined(t.offLabel)?e.offLabel:t.offLabel;var i=n.outerHeight();if(i&&e.height!==i){var s=i-e.borderWidth*2+"px";n.find(".ti-switch-knob").css({"line-height":s}),n.find(".ti-switch-left").css({"line-height":s}),n.find(".ti-switch-right").css({"line-height":s})}t.toggleSwitch=function(){if(t.disable)return;var e=t.beforeChange();if(_.isFunction(e)&&e()===!1)return;t.state=!t.state}}return{restrict:"E",replace:!0,scope:{state:"=?",disable:"=?",onLabel:"=?",offLabel:"=?",beforeChange:"&"},templateUrl:"/tiny-components/src/components/switch/switch.html",link:n}}return e.constant("tiSwitchConfig",{offLabel:"OFF",onLabel:"ON",knobLabel:"",height:20,borderWidth:1}),e.directive("tiSwitch",t),t.$inject=["tiSwitchConfig","$timeout"],e.name}),define("components/progressbar/progressbar",["components/module"],function(e){"use strict";function t(e){function t(e,t,i){n(e,t),r(e)}function n(t,n){i(t,n),t.maxValue=o(t.maxValue,e.max),t.value=o(t.value,e.value),u(t)}function r(e){e.$watch("value",function(t,n){t=o(t,n);if(t===n)return;e.value=t,u(e)}),e.$watch("maxValue",function(t,n){t=o(t,n);if(t===n)return;e.maxValue=t,u(e)})}function i(e,t){var n=t.children(".progress-bar");e.animate=s(e),e.animate||n.addClass("no-transition")}function s(t){return angular.isDefined(t.animate)?t.animate:e.animate}function o(e,t){var n=+e;return _.isNaN(n)?t:n}function u(e){if(e.maxValue===0){e.percent=0;return}e.percent=+(100*e.value/e.maxValue).toFixed(2),e.percent>100&&(e.percent=100),e.percent<0&&(e.percent=0)}return{restrict:"E",replace:!0,transclude:!0,scope:{value:"=?",maxValue:"=?",progressClass:"=?",animate:"=?"},templateUrl:"/tiny-components/src/components/progressbar/progressbar.html",link:t}}return e.constant("tiProgressConfig",{animate:!0,max:100,value:0}),e.directive("tiProgressbar",t),t.$inject=["tiProgressConfig"],e.name}),define("components/wizard/wizard",["components/module"],function(e){"use strict";function t(){function e(e,t){return t.templateUrl?t.templateUrl:e.hasClass("ti-agile")?"/tiny-components/src/components/wizard/wizard-agile.html":"/tiny-components/src/components/wizard/wizard-cloud.html"}function t(e){n(e),r(e)}function n(e){e.stepsArr=[],e.percent=0,angular.isArray(e.steps)&&(e.stepsArr=angular.copy(e.steps)),i(e)}function r(e){e.$watchCollection("steps",function(t){if(!angular.isArray(t))return;e.stepsArr=angular.copy(e.steps),i(e)}),e.$watch("currentStep",function(){i(e)})}function i(e){var t=o(e);s(t,e),u(t,e)}function s(e,t){var n,r=t.stepsArr.length;for(var i=0;i<r;i++)n=t.stepsArr[i],i===e?n.state="active":i<e?n.state="complete":n.state="incomplete"}function o(e){var t=_.findIndex(e.stepsArr,function(t){return t.id===e.currentStep});return t===-1&&(t=0),t}function u(e,t){if(t.stepsArr.length===0)return;t.percent=+(100*(e+1)/t.stepsArr.length).toFixed(2)}return{replace:!0,scope:{steps:"=?",currentStep:"=?"},templateUrl:e,link:t}}return e.directive("tiWizard",t),e.name}),define("components/ip/ip",["components/module"],function(e){"use strict";function n(){var e={restrict:"E",scope:{version:"=?",value:"=?",disable:"=?",focused:"=?",change:"&",blur:"&"},templateUrl:"/tiny-components/src/components/ip/ip.html",replace:!0,link:function(e,n,l){typeof e.version=="undefined"&&(e.version=4),e.$input=n,e.interChange=!1,e.isMouseDown=!1,e.hasFocus=!1;var c;f(e.version,e.value)?c=h(e.version,e.value):c=t.getGlbInfo(e.version).label,r(e,c),e.initFocus=!1,e.focused===!0&&(e.initFocus=!0,e.$input.focus()),e.$watch("value",function(n,i){if(n===i)return;if(e.interChange===!0){e.interChange=!1;return}if(f(e.version,n)){r(e,h(e.version,n));return}n===""?r(e,t.getGlbInfo(e.version).label):e.value=i}),e.$watch("focused",function(t,n){if(t===n)return;e.focused===!0?e.$input.focus():e.focused===!1&&e.$input.blur()}),e.keyDown=function(n){var r=!1,u=new o(e.version,n.target),a=t.getGlbInfo(e.version),f=n.keycode||n.which;switch(f){case 9:case 190:case 110:r=i(e,n);break;case 8:case 46:s(e,n,u),r=!0;break;case 13:case 27:e.$input.blur(),r=!0;break;default:r=!1}r===!0&&n.preventDefault()},e.keyPress=function(n){var r=[9,38,40,37,39,36,35],i=["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End"],l=new o(e.version,e.$input[0]),c=t.getGlbInfo(e.version),h=n.which||n.keyCode;if(window.tiny.utils.browser.firefox&&(n.ctrlKey&&(h===118||h===86)||n.ctrlKey&&(h===99||h===67)||$.inArray(h,r)>=0&&$.inArray(n.key,i)>=0))return;n.preventDefault();if(!String.fromCharCode(h).match(c.rgxcase))return;if(l.start>=c.label.length)return;if(l.start!==l.end){var d={keycode:8,target:e.$input[0]};s(e,d,l),l.buffer[l.start]=String.fromCharCode(h),f(e.version,p(e.version,l.buffer.join("")))&&(l.start=l.start+1,l.end=l.start,u(e,l,n),a(e.$input[0],l.start,l.end));return}if(l.buffer[l.start]===c.separator){l.start+=1,l.end+=1,a(e.$input[0],l.start,l.end);return}l.buffer[l.start]=String.fromCharCode(h);if(f(e.version,p(e.version,l.buffer.join(""))))u(e,l,n),l.buffer[l.start+1]===c.separator?(l.start=l.start+2,l.end=l.end+2):l.start<c.label.length&&(l.start=l.start+1,l.end=l.end+1),a(e.$input[0],l.start,l.end);else{if(e.version===6)return;if(l.start<2||l.buffer[l.start-1]===c.separator||l.buffer[l.start-2]===c.separator)return;l.buffer[l.start-2]="2",l.buffer[l.start-1]="5",l.buffer[l.start]="5",u(e,l,n),l.start+=1,l.end+=1,a(e.$input[0],l.start,l.end)}},e.paste=function(n){n.preventDefault();var r="";if(window.clipboardData&&window.clipboardData.getData)r=window.clipboardData.getData("Text");else try{r=n.originalEvent.clipboardData.getData("Text")}catch(i){}var s=new o(e.version,n.target),l=t.getGlbInfo(e.version);if(s.start===s.end){var c=p(s.version,r);if(f(s.version,c)){s.buffer=h(s.version,c).split(""),u(e,s,n);var d=s.buffer.length;while(s.buffer[d-1]!==l.separator&&s.buffer[d-1]===l.place)d-=1;s.start=d,s.end=d,a(e.$input[0],s.start,s.end)}}else{var v=e.$input.val(),m=v.substr(0,s.start)+r+v.substring(s.end,v.length),g=p(s.version,m);if(f(s.version,g)){s.buffer=h(s.version,g).split(""),u(e,s,n);var d=s.end-1;while(s.buffer[d]!==l.separator&&s.buffer[d]===l.place)d-=1;s.start=d+1,s.end=d+1,a(e.$input[0],s.start,s.end)}}},e.cut=function(e){e.preventDefault()},e.mouseDown=function(t){e.isMouseDown=!0},e.mouseUp=function(n){var r=new o(e.version,n.target);if(r.start!==r.end)return;var i=t.getGlbInfo(e.version);if(e.$input.val()===i.label){r.start=0,r.end=0,a(e.$input[0],r.start,r.end);return}var s=r.end;while(s>0&&r.buffer[s-1]===i.place)s-=1;r.start=s,r.end=s,a(e.$input[0],r.start,r.end)},e.focus=function(n){if(e.hasFocus===!0)return;e.hasFocus=!0,e.focused=!0;var r=new o(e.version,n.target),i=t.getGlbInfo(e.version);e.isMouseDown===!1?setTimeout(function(){r.start=0,e.initFocus===!0?(e.initFocus=!1,r.end=0):r.end=0+i.partplace.length,a(e.$input[0],r.start,r.end),n.preventDefault()},3):e.isMouseDown=!1,e.$input.trigger("tiFocus")},e.blurHandle=function(n){if(e.hasFocus===!1)return;e.hasFocus=!1,e.focused=!1;var r=new o(e.version,n.target),i=t.getGlbInfo(e.version),r=new o(e.version,n.target),s=e.$input.val();s!==i.label&&(s=p(r.version,s)),f(r.version,s)?r.buffer=h(r.version,s).split(""):r.buffer=i.label.split(""),u(e,r,n),_.isFunction(e.blur())&&e.blur()(e.value),e.$input.trigger("tiBlur")}}};return e}function r(e,t){e.$input.val(t),e.$input[0].tiValue=e.value}function i(e,n){var r=new o(e.version,n.target),i=t.getGlbInfo(e.version),s=i.secPos,u=s.length,f=n.shiftKey,l=0;if(!f){if(r.start>=s[u-1])return!1;for(l=0;l<u;l++)if(s[l]>r.start){r.start=s[l],r.end=s[l]+i.partplace.length;break}a(e.$input[0],r.start,r.end)}else{if(r.start===0)return!1;for(l=u;l>=0;l--)if(r.start>s[l]){r.start=s[l],r.end=s[l]+i.partplace.length;break}a(e.$input[0],r.start,r.end)}return!0}function s(e,n,r){var i=t.getGlbInfo(e.version),s=r.start,o=r.end,f=r.buffer;if(s===o){if(s===0&&n.keyCode===8)return;var l=0;n.keyCode===8?l=s-1:n.keyCode===46&&(l=s);if(f[l]!==i.separator){var c=l;while(f[c+1]!==i.separator&&c+1<f.length)f[c]=f[c+1],c+=1;f[c]=i.place,u(e,r,n)}r.start=l,r.end=l,a(e.$input[0],r.start,r.end);return}var c=s,h=-1;for(c=s;c<o;c++)f[c]!==i.separator?f[c]=i.place:h=c;var p=o,d=null;h===-1?d=s:d=h+1;while(p<f.length&&f[p]!==i.separator)f[d]=f[p],d+=1,p+=1;f[p-1]=i.place,r.start=r.start,r.end=r.start,u(e,r,n),a(e.$input[0],r.start,r.end)}function o(e,t){this.version=e,this.start=t.selectionStart,this.end=t.selectionEnd,this.buffer=$(t).val().split("")}function u(e,n,i){var s=t.getGlbInfo(e.version),o=n.buffer.join(""),u;o===s.label?u="":u=p(e.version,o),e.value!==u&&(e.value=u,e.interChange=!0),r(e,o),u!==e.value&&_.isFunction(e.change())&&e.change()(i,u),e.$input.trigger("contentChange")}function a(e,t,n){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,n);else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r.select()}}function f(e,t){return t==null||t===""?!1:e===4?l(t):c(t)}function l(e){var t=/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i;return t.test(e)}function c(e){var t=/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i;return t.test(e)}function h(e,n){var r=t.getGlbInfo(e),i=n.split(r.separator);for(var s=0;s<i.length;s++)while(r.partplace.length-i[s].length>0)i[s]+=r.place;return i.join(r.separator)}function p(e,n){var r=t.getGlbInfo(e),i=new RegExp(r.partplace,"g"),s=new RegExp(r.place,"g");return n.replace(i,"0").replace(s,"")}var t={ipv4:{rgxcase:new RegExp("[0-9]","g"),label:"   .   .   .   ",secPos:[0,4,8,12],place:" ",separator:".",partplace:"   "},ipv6:{rgxcase:new RegExp("[A-F0-9]","gi"),label:"    :    :    :    :    :    :    :    ",secPos:[0,5,10,15,20,25,30,35],place:" ",separator:":",partplace:"    "},getGlbInfo:function(e){return 4===e?this.ipv4:this.ipv6}};e.directive("tiIp",n)}),define("components/spinner/spinner",["components/module"],function(e){"use strict";function t(){var e=this.defaultValue={max:Math.pow(2,53),min:-Math.pow(2,53),step:1,value:""};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){var e={defaultValue:this.defaultValue};return e}}function n(e){function n(t,n){t.$element=n,t.hasFocus=!1,o(t)?t.precision="undefined":t.precision=parseInt(t.format.slice(1),10),t.step=parseFloat(t.step),isNaN(t.step)&&(t.step=e.defaultValue.step),t.max=parseFloat(t.max),isNaN(t.max)&&(t.max=e.defaultValue.max),t.min=parseFloat(t.min),isNaN(t.min)&&(t.min=e.defaultValue.min),t.max<t.min&&(t.max=e.defaultValue.max,t.min=e.defaultValue.min),r(t);if(t.focused===!0){var i=n.find(".ti-spinner-input");i.focus()}else t.focused=!1}function r(t){var n=parseFloat(t.value);isNaN(n)?t.value=e.defaultValue.value:n<t.min?(t.value=t.min,u(t)):n>t.max?(t.value=t.max,u(t)):(t.value=n,u(t)),t.inputValue=t.value,t.$element[0].tiValue=t.value}function i(e){e.$watch("max",function(t,n){if(t===n)return;e.max=parseFloat(t);if(isNaN(e.max)||e.min>e.max)e.max=n;r(e)}),e.$watch("min",function(t,n){if(t===n)return;e.min=parseFloat(t);if(isNaN(e.min)||e.min>e.max)e.min=n;r(e)}),e.$watch("disable",function(t,n){if(t===n)return;typeof e.disable!="boolean"&&(e.disable=n)}),e.$watch("focused",function(t,n){if(t===n)return;var r=e.$element.find(".ti-spinner-input");e.focused===!0?r.focus():e.focused===!1&&r.blur()}),e.$watch("value",function(t,n){if(t===n||e.value===e.inputValue)return;var r=parseFloat(t);t===""?e.inputValue=t:isNaN(r)||r<e.min||r>e.max?e.value=e.inputValue:(e.value=r,u(e),e.inputValue=e.value),e.$element[0].tiValue=e.value})}function s(e){e.keyDown=function(t){if(!f(t)){t.preventDefault();return}t.keyCode===38?e.stepNumber(t,"add"):t.keyCode===40&&e.stepNumber(t,"sub")},e.focus=function(t){if(e.hasFocus===!0)return;e.hasFocus=!0,e.focused=!0,e.$element.trigger("tiFocus",[t,e.value])},e.blur=function(t){if(e.hasFocus===!1)return;e.hasFocus=!1,e.focused=!1,r(e),e.$element.trigger("tiBlur",[t,e.value])},e.inputChange=function(t){e.value=e.inputValue,e.$element[0].tiValue=e.inputValue,e.$element.trigger("contentChange"),_.isFunction(e.change())&&e.change()(t,e.value)},e.stepNumber=function(t,n){if(e.disable===!0)return;if(t.type==="mousedown"){var i=e.$element.find(".ti-spinner-input");i.focus(),t.preventDefault()}var s=e.value;if(l(s))return;e.value=a(s,e.step,n),r(e),s!==e.value&&(e.$element.trigger("contentChange"),_.isFunction(e.change())&&e.change()(t,e.value))}}function o(e){return typeof e.format!="string"||e.format.charAt(0).toUpperCase()!=="N"||isNaN(parseInt(e.format.slice(1),10))?!0:!1}function u(e){if(e.precision==="undefined")return;e.value=Number(e.value).toFixed(e.precision)}function a(e,t,n){var r,i,s,o,u,a;try{r=e.toString().split(".")[1].length}catch(f){r=0}try{i=t.toString().split(".")[1].length}catch(f){i=0}o=Math.abs(r-i),s=Math.pow(10,Math.max(r,i));if(o>0){var l=Math.pow(10,o);r>i?(u=Number(e.toString().replace(".","")),a=Number(t.toString().replace(".",""))*l):(u=Number(e.toString().replace(".",""))*l,a=Number(t.toString().replace(".","")))}else u=Number(e.toString().replace(".","")),a=Number(t.toString().replace(".",""));return n==="add"?(u+a)/s:n==="sub"?(u-a)/s:undefined}function f(e){var t=[8,9,13,27,35,36,37,39,46,38,40,48,96,49,97,50,98,51,99,52,100,53,101,54,102,55,103,56,104,57,105,110,190,189],n=e.keyCode;return!e.ctrlKey||n!==67&&n!==86&&n!==65&&n!==88?_.contains(t,n)?!0:!1:!0}function l(e){return isNaN(e)||e===""||e==="-"?!0:!1}var t={restrict:"E",priority:999,scope:{format:"=?",step:"=?",max:"=?",min:"=?",disable:"=?",value:"=?",focused:"=?",change:"&"},templateUrl:"/tiny-components/src/components/spinner/spinner.html",replace:!0,link:function(e,t,r){n(e,t,r),i(e),s(e)}};return t}e.provider("tiSpinnerService",t),e.directive("tiSpinner",n),n.$inject=["tiSpinnerService"]}),define("components/actionMenu/actionMenu",["components/module","components/menu/menu"],function(e){"use strict";function t(){var e=this.defaultValue={maxWidth:250,space:10,panelMaxWidth:130};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return{defaultValue:this.defaultValue}}}function n(e){function n(t,n){var i=t.items||[],s=i.length;if(s<1)return;var o=parseInt(t.space,10),a=isNaN(o)?e.defaultValue.space:o,f=parseInt(t.maxVisibleNum,10),l=s;isNaN(f)||(l=Math.min(f,s));var c=parseInt(t.maxWidth,10),h=e.defaultValue.maxWidth,p=isNaN(c)?h:c,d=tiny.language,v=t.moreText||d.more_title,m=r(i,v,a,p,l);m.itemsDomArray.length===0&&(v=t.menuText||d.actionmenu_operate_title),u(n,i,v,m,t)}function r(e,t,n,r,o){var u=i(e,n,r,o);return u.maxVisibleNum===e.length?{moreItemsArray:[],itemsDomArray:u.itemsDomArray}:s(e,t,r,n,u)}function i(e,t,n,r){var i='<span class = "ti-action-menu-item" style = "margin-right : '+t+'px;"></span>',s=[],u=[];if(e.length===1){var a=$(i).html(e[0].title);return a.attr({disabled:e[0].disable,actionMenuIndex:0}),{maxVisibleNum:1,itemsDomArray:[a]}}var f=0,l=0,c,h,p,d=r;for(var v=0;v<r;v++){h=e[v];if(h.childrens){d=v;break}c=$(i).html(h.title),c.attr({disabled:h.disable,actionMenuIndex:v}),l=o(c),p=v===0?0:t;if(f+p+l>n){d=v;break}f+=p+l,s.push(c),u.push(l)}return{maxVisibleNum:d,itemsDomArray:s,itemsDomWidthArray:u,acculateWidth:f}}function s(e,t,n,r,i){var s=$('<span class="ti-menu-toggle-menu">'+t+"</span>"),u=o(s),a=i.maxVisibleNum,f=e.slice(a),l=i.itemsDomArray,c=i.acculateWidth;c+=r+u;if(c>n&&a!==0){var h=i.itemsDomWidthArray,p;for(var d=1;d<=a;d++){p=a-d,c=c-h[p]-r,f.unshift(e[p]),l.pop();if(c<=n)break}}return f.length===1&&(f.unshift(e[l.length-1]),l.pop()),{moreItemsArray:f,itemsDomArray:l}}function o(e){$("body").append(e);var t=e.width();return e.remove(),t}function u(e,t,n,r,i){var s=r.itemsDomArray;e.prepend(s),e.on("click",".ti-action-menu-item",function(){f(t,$(this))});if(r.moreItemsArray.length===0){s[s.length-1].css("margin-right",0),i.hasMenu=!1;return}i.hasMenu=!0,a(r.moreItemsArray,n,i)}function a(t,n,r){r.menu={toogleName:n,items:t,panelAlign:"right",panelMaxWidth:r.panelMaxWidth||e.defaultValue.panelMaxWidth}}function f(e,t){var n=parseInt(t.attr("actionMenuIndex"),0),r=e[n];typeof r.click=="function"&&!r.disable&&r.click(r)}var t={restrict:"E",templateUrl:"/tiny-components/src/components/actionMenu/actionMenu.html",replace:!0,scope:{maxWidth:"=",space:"=",maxVisibleNum:"=",items:"=",moreText:"=",menuText:"=",panelMaxWidth:"="},link:n};return t}return e.provider("actionMenuService",t),e.directive("tiActionMenu",n),n.$inject=["actionMenuService"],e.name}),define("components/leftmenu/leftmenu",["components/module"],function(e){"use strict";function t(e){function t(e){this.scope=e}function i(t){t.isCollapsed=_.isUndefined(t.isCollapsed)?!0:!!t.isCollapsed,t.enableToggle=_.isUndefined(t.enableToggle)?!0:!!t.enableToggle,t.enableUiRouter=n(t),t.enableUiRouter&&e.go(t.activeId+""),t.toggleClickFn=function(){t.isCollapsed=!t.isCollapsed,_.isFunction(t.toggleClick())&&t.toggleClick()(t.isCollapsed)},t.$watch("activeId",function(n,r){if(n===r)return;t.enableUiRouter&&e.go(t.activeId+"")}),t.enableUiRouter&&t.$on("$stateChangeSuccess",function(e,n){t.activeId=n.name})}t.$inject=["$scope"];var r={restrict:"E",scope:{activeId:"=?",toggleClick:"&",isCollapsed:"=?",enableToggle:"=?",enableUiRouter:"=?"},templateUrl:"/tiny-components/src/components/leftmenu/leftmenu.html",replace:!0,controller:t,transclude:!0,link:i};return r}function n(e){return _.isUndefined(e.enableUiRouter)?!0:!!e.enableUiRouter}function r(){var e={restrict:"E",templateUrl:"/tiny-components/src/components/leftmenu/leftmenuHead.html",replace:!0,transclude:!0};return e}function i(e){function r(t,r,i,s){function o(){f(),l();var e=$("ti-leftmenu-item",r),t=$("<div class='ti-leftmenu-level1-label'></div>");t.append(e.children()),e.append(t),$(".ti-leftmenu-level1-item",r).append(e)}function u(){t.clickFn=function(){c()?(t.showChildren=!t.showChildren,l()):s.scope.activeId=t.item.id},n(s.scope)&&t.$on("$stateChangeSuccess",function(){l()})}function a(){s.scope.$watch("activeId",function(e,t){if(e===t)return;l()})}function f(){t.showChildren=!1;if(!c())return;h()&&(t.showChildren=!0)}function l(){c()&&h()&&!t.showChildren||p()?t.isActived=!0:t.isActived=!1}function c(){return t.item.children&&t.item.children.length}function h(){if(!n(s.scope)){var r=_.findIndex(t.item.children,{id:s.scope.activeId});return r!==-1}var i=!1,o=t.item.children;for(var u=0;u<o.length;u++)i=i||e.includes(o[u].id);return i}function p(){return n(s.scope)?e.includes(t.item.id):t.item.id===s.scope.activeId}o(),u(),a()}var t={restrict:"E",scope:{item:"=?"},require:"^^tiLeftmenu",templateUrl:"/tiny-components/src/components/leftmenu/leftmenuLevel1.html",replace:!0,transclude:!0,link:r};return t}function s(e){var t={restrict:"E",scope:{item:"=?"},templateUrl:"/tiny-components/src/components/leftmenu/leftmenuLevel2.html",replace:!0,transclude:!0,require:"^^tiLeftmenu",link:function(t,r,i,s){var o=s.scope;t.clickFn=function(){o.activeId=t.item.id},o.$watch("activeId",function(){if(n(o)){t.isActived=e.includes(t.item.id);return}t.isActived=o.activeId===t.item.id}),n(o)&&t.$on("$stateChangeSuccess",function(){t.isActived=e.includes(t.item.id)})}};return t}e.directive("tiLeftmenu",t),t.$inject=["$state"],e.directive("tiLeftmenuHead",r),e.directive("tiLeftmenuLevel1",i),i.$inject=["$state"],e.directive("tiLeftmenuLevel2",s),s.$inject=["$state"]}),define("components/charts/charts",["components/module"],function(e){"use strict";function n(e,t){function n(n,r){function f(e,t){var n=angular.copy(t),r=angular.copy(e);return l("xAxis",r,n),l("yAxis",r,n),n}function l(e,t,n){var r=n[e];if(!angular.isObject(r))return;if(angular.isArray(r)){for(var i=0;i<r.length;i++)r[i]=angular.extend({},t[e],r[i]);return}r=angular.extend({},r,r)}function c(e,t){var n=e,r=t;return angular.isObject(n)?angular.extend({},r,n):angular.isString(n)?n:r}var i=window.echarts;if(!i||!n.options)return;var s=n.options.theme,o=i.init(r[0],c(s,e.theme));t.tiCharts||(t.tiCharts={});var u=n.options.id;u&&(t.tiCharts[u]=o);var a=function(){o.resize()};$(window).on("resize",a),r.on("$destroy",function(){t.tiCharts&&t.tiCharts[u]&&(o.dispose(),t.tiCharts[u]=null),$(window).off("resize",a)}),n.$watch("options",function(t){var n=f(e.options,t);o.setOption(n,!0)},!0),n.$watch("loading",function(e){if(!e)return;String(e.show)==="true"?o.showLoading(e):o.hideLoading()},!0),n.$watch("events",function(e){function t(e,t){e.state==="off"?o.un(t,e.fn):o.on(t,e.fn)}if(!e)return;angular.isObject(e)&&angular.forEach(e,function(e,n){angular.isArray(e)?angular.forEach(e,function(e){t(e,n)}):t(e,n)})},!0)}return{restrict:"EA",template:"<div></div>",replace:!0,scope:{options:"=",loading:"=",events:"="},link:n}}var t={imagesPath:"../../../resources/widget/themes/default/images"};e.provider("tiCharts",function(){this.setDefaults=function(e){angular.extend(t,e)},this.$get=function(){}}),e.factory("agileUiTheme",[function(){return{theme:{imagesPath:t.imagesPath,color:["#5ecc49","#42ccef","#9592f0","#ffa235","#a7e52d","#fc5043","#777777","#468bf3","#efe034","#f87fa7"],title:{itemGap:8,textStyle:{fontWeight:"normal",color:"#666666"}},axis:{splitLine:{show:!1}},dataRange:{color:["#1178ad","#72bbd0"]},toolbox:{show:!1,color:["#42ccef","#42ccef","#42ccef","#42ccef"]},legend:{itemWidth:20,itemHeight:20,x:"right",y:"top",padding:[5,40,5,5]},tooltip:{backgroundColor:"#ffffff",borderWidth:1,borderRadius:4,borderColor:"#dfdfdf",padding:5,textStyle:{color:"#666",fontSize:11,fontFamily:"Helvetica, 微软雅黑, Arial, Verdana, sans-serif"},axisPointer:{type:"line",lineStyle:{color:"#d5d5d5",width:1,type:"solid"}}},dataZoom:{showDetail:!1,axis:{axisLine:{show:!1},axisLabel:{textStyle:{fontSize:10,color:"#999"}},axisTick:{length:8,lineStyle:{color:"#999",width:1}}},handleSize:5,dataBackgroundColor:"#5ecc49",fillerColor:"rgba(255,255,255,0)",handleColor:"#008acd"},noDataLoadingOption:{effect:"noEffect"},grid:{borderWidth:0,x:40,y:40,x2:40,y2:40},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"},loadingText:window.tiny.language.loadingText},options:{xAxis:{splitLine:{show:!1},axisLine:{lineStyle:{color:"#cfcfcf",width:1,type:"solid"}},axisTick:{show:!0,length:5,lineStyle:{color:"#cfcfcf",width:1}},axisLabel:{textStyle:{fontSize:11,fontFamily:"Helvetica, 微软雅黑, Arial, Verdana, sans-serif",fontWeight:"normal",color:"#666"}}},yAxis:{splitLine:{show:!0,lineStyle:{color:["#cfcfcf"],width:1,type:"dotted"}},axisLine:{lineStyle:{color:"#cfcfcf",width:1,type:"solid"}},axisTick:{show:!0,length:5,lineStyle:{color:"#cfcfcf",width:1}},axisLabel:{textStyle:{fontSize:11,fontFamily:"Helvetica, 微软雅黑, Arial, Verdana, sans-serif",fontWeight:"normal",color:"#666"}}}}}}]),e.directive("tiCharts",n),n.$inject=["agileUiTheme","$rootScope"]}),define("components/fileupload/fileupload",["components/module"],function(e){function n(){function e(e,t,r){t.on("change",function(){var t=e.$eval(r.tiFileSelect);if(!t)return;n(this,t)})}function n(e,n){var i=t?e.files:$(e),s=n.addToQueue(i);if(t)$(e).val("");else{var o=s.length===0;r($(e),n,o)}n.options.isAutoUpload!==!1&&s.length!==0&&n.uploadItems(s)}function r(e,t,r){e.off("change");var i=e.clone();r?e.replaceWith(i):(e.hide(),e.after(i)),i.on("change",function(){n(this,t)})}return{restrict:"A",link:e}}function r(){function e(e,t,n){e.$watch(n.tiFileDetail,function(t){e.uploadInst=t}),e.info={waitInfo:tiny.language.upload_wait_info,errorInfo:tiny.language.upload_error_info,successInfo:tiny.language.upload_success_info}}return{restrict:"A",templateUrl:"/tiny-components/src/components/fileupload/tiFileDetail.html",replace:!0,link:e}}function i(e){function t(t,n){var r=t.uploadInst=e.createUploader(t.uploader),i=t.styleOptions||{};t.title=tiny.utils.browser.chrome?" ":"",t.text=i.btnText||tiny.language.upload_add_file_btn;var s=i.showDetail;t.showDetail=_.isUndefined(s)?!0:s;var o=r.options.filters,u=_.findIndex(o,{name:"fileType"});u!==-1&&(t.accept=o[u].params[0]),r.isSingleFile||n.find(".ti-file-input").attr("multiple",!0)}return{restrict:"E",templateUrl:"/tiny-components/src/components/fileupload/tiFileUpload.html",replace:!0,scope:{uploader:"=?",styleOptions:"=?"},link:t}}function s(e){function n(){e.$evalAsync()}function r(e){return e&&e.uploader?_.findIndex(e.uploader.queue,{index:e.index}):-1}function i(e){return r(e)!==-1}function s(e){if(!i(e)||e.isUploading)return;c(e);if(e.isCancel)return;e.isUploading=!0,t?a(e):f(e),n()}function o(e){if(!i(e))return;e.isUploading&&(t?e._xhr.abort():e._form.abort())}function u(e){if(!i(e))return;e.isUploading&&o(e),e.uploader.queue.splice(r(e),1),e.destroy(),g(e)}function a(e){var t=new FormData;t.append(e.alias,e._file,e.file.name),_.forEach(e.formData,function(e,n){t.append(n,e)});var n=e._xhr=new XMLHttpRequest;n.upload.onprogress=function(t){var n=t.lengthComputable,r=t.loaded,i=t.total,s=Math.round(n?r*100/i:0);h(e,s)},n.onload=function(){var t=n.response,r=n.status;l(r)?p(e,t,r):d(e,t,r),v(e,t,r)},n.onerror=function(){var t=n.response,r=n.status;d(e,t,r),v(e,t,r)},n.onabort=function(){var t=n.response,r=n.status;m(e,t,r),v(e,t,r)},n.open(e.method||"post",e.url,!0),n.send(t),e.isUploading=!0}function f(e){var t=$(e._input);e._form&&e._form.replaceWith(t);var n=$('<form style="display: none;"></form>');e._form=n,t.attr("name",e.alias),t.after(n),n.append(t);var r;_.forEach(e.formData,function(e,t){r=$('<input type="hidden" name="'+t+'" />'),r.val(e),n.append(r)});var i=$('<iframe name="tiFileIframe'+$.guid++ +'"></iframe>');n.attr({action:e.url,method:e.method||"POST",target:i.attr("name"),enctype:"multipart/form-data"}),n.append(i),n[0].submit();var s=0,o=setInterval(function(){s!==100&&h(e,s+2)},10);i.on("load",function(){var t="",n=200;clearInterval(o);try{t=i[0].contentDocument.body.innerHTML,p(e,t,n)}catch(r){t=r,n=520,d(e,t,n)}v(e,t,n)}),n.abort=function(){clearInterval(o),i.off("load"),n.replaceWith(t);var r=0,s;m(e,s,r),v(e,s,r)}}function l(e){return e>=200&&e<300||e===304}function c(e){e.isReady=!0,e.isUploading=!1,e.isUploaded=!1,e.isSuccess=!1,e.isError=!1,e.isCancel=!1,e.progress=0;var t=e.uploader.onBeforeSendItem;_.isFunction(t)&&t(e);var n=e.onBeforeSend;_.isFunction(n)&&n()}function h(e,t){var r=e.uploader.onProgressItem;_.isFunction(r)&&r(e,t);var i=e.onProgress;_.isFunction(i)&&i(t),e.progress=t,n()}function p(e,t,n){e.isReady=!1,e.isUploading=!1,e.isUploaded=!0,e.isSuccess=!0,e.isError=!1,e.isCancel=!1,e.progress=100;var r=e.uploader.onSuccessItem;_.isFunction(r)&&r(e,t,n);var i=e.onSuccess;_.isFunction(i)&&i(t,n)}function d(e,t,n){e.isReady=!1,e.isUploading=!1,e.isUploaded=!0,e.isSuccess=!1,e.isError=!0,e.isCancel=!1,e.progress=0;var r=e.uploader.onErrorItem;_.isFunction(r)&&r(e,t,n);var i=e.onError;_.isFunction(i)&&i(t,n)}function v(e,t,r){e.isUploading=!1;var i=e.uploader.getReadyItems();if(i&&i.length!==0)s(i[0]);else{var o=e.uploader.onCompleteAll;_.isFunction(o)&&o(e,t,r)}var u=e.uploader.onCompleteItem;_.isFunction(u)&&u(e,t,r);var a=e.onComplete;_.isFunction(a)&&a(t,r),n()}function m(e,t,n){e.isReady=!1,e.isUploading=!1,e.isUploaded=!1,e.isSuccess=!1,e.isError=!1,e.isCancel=!0,e.progress=0;var r=e.uploader.onCancelItem;_.isFunction(r)&&r(e,t,n);var i=e.onCancel;_.isFunction(i)&&i(t,n)}function g(e){var t=e.uploader.onRemoveItem;_.isFunction(t)&&t(e);var n=e.onRemove;_.isFunction(n)&&e.onRemoveFn()}return{uploadItem:s,cancelItem:o,removeItem:u}}function o(e){function t(t,n,r,i){function s(){e.uploadItem(this)}function o(){e.cancelItem(this)}function u(){e.removeItem(this)}function a(){this._input&&this._input.remove(),this._form&&this._form.remove(),this._input=null,this._form=null}var f=null,l=null;return angular.isElement(n)?l=$(n):f=n,{url:r.url||"/",file:t,alias:r.alias||"tiFile",_file:f,_input:l,formData:r.formData||{},uploader:i,upload:s,cancel:o,remove:u,destroy:a,isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isError:!1}}function n(e){var t={};if(!angular.isElement(e)){var n=e.name;t={lastModifiedDate:e.lastModifiedDate,size:e.size,sizeWithUnit:r(e.size),name:e.name,type:n.slice(n.lastIndexOf(".")+1).toLowerCase()}}else{var i=e.value,s=_.isUndefined(e.size)?null:e.size;t={lastModifiedDate:null,size:s,sizeWithUnit:_.isNaN(s)?"":r(s/1024),name:i.slice(i.lastIndexOf("/")+i.lastIndexOf("\\")+2),type:i.slice(i.lastIndexOf(".")+1).toLowerCase()}}return t}function r(e){var t,n=e/1024;return n<1?t=e.toFixed(2)+"B":n<1024?t=n.toFixed(2)+"KB":t=(n/1024).toFixed(2)+"MB",t}return{createFileItem:t,createFileObject:n}}function u(e,t,n){function i(i){function l(e){return f?_.reject(e,function(e){return e.name==="maxCount"}):e}function c(e){var t=_.findIndex(e,{name:"maxCount"});return t===-1?!1:e[t].params[0]===1}function h(n){var r=[],l,c,h,d=!1,v;for(var m=0,g=n.length;m<g;m++)l=n[m],c=t.createFileObject(l),h=p(c,a),d=!h.length,f&&h.length===0&&(o[0]&&o[0].remove(),d=!0),d?(v=t.createFileItem(c,l,i,s),r.push(v),o.push(v),v.index=++u,_.isFunction(i.onAddItemSuccess)&&i.onAddItemSuccess(v)):_.isFunction(i.onAddItemFailed)&&i.onAddItemFailed(c,h);return e.$evalAsync(),r}function p(e,t){var n=t.length;if(n===0)return[];var i=[],s,u,a;for(var f=0;f<n;f++)s=t[f],u=s.name,_.has(r,u)?a=r[u]:a=s.fn,_.isFunction(a)&&!a.call(o,e,s.params)&&i.push(u);return i}function d(){return o.filter(function(e){return!e.isUploaded})}function v(){return o.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})}function m(){var e=d().filter(function(e){return!e.isUploading});g(e)}function g(e){var t=e.length;if(t===0)return;for(var r=0;r<t;r++)e[r].isReady=!0;n.uploadItem(e[0])}function y(e){for(var t=0,r=e.length;t<r;t++)n.cancelItem(e[t])}function b(e){for(var t=0,r=e.length;t<r;t++)n.removeItem(e[t])}var s={},o=[],u=0,a=i.filters||[],f=c(a);return a=l(a),s={queue:o,isSingleFile:f,options:i,addToQueue:h,getNotUploadedItems:d,getReadyItems:v,uploadAll:m,uploadItems:g,removeItems:b,cancelItems:y,onBeforeSendItem:i.onBeforeSendItem,onProgressItem:i.onProgressItem,onSuccessItem:i.onSuccessItem,onErrorItem:i.onErrorItem,onCancelItem:i.onCancelItem,onRemoveItem:i.onRemoveItem,onCompleteItem:i.onCompleteItem,onCompleteAll:i.onCompleteAll},s}var r={maxSize:function(e,t){var n=e.size;return _.isNumber(n)?!(n>t[0]):!0},minSize:function(e,t){var n=e.size;return _.isNumber(n)?!(n<t[0]):!0},fileType:function(e,t){var n=t[0].split(","),r=e.name,i=!1;for(var s=0,o=n.length;s<o;s++)if(r.match(new RegExp(".("+n[s]+")$","i"))!==null){i=!0;break}return i},maxCount:function(e,t){return!(this.length>=t[0])}};return{createUploader:i}}var t=!!window.File&&!!window.FormData;e.directive("tiFileSelect",n),e.directive("tiFileDetail",r),e.directive("tiFileUpload",["tiFileUploader",i]),e.factory("$tiUpload",["$rootScope",s]),e.factory("$tiFileItem",["$tiUpload",o]),e.factory("tiFileUploader",["$rootScope","$tiFileItem","$tiUpload",u])}),define("components/buttonGroup/btnGroupCommon",["components/module"],function(e){function t(e){var t={restrict:"A",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,s){function o(r,i){0===r.length||r.length===1&&r.text().trim()===""?(n(e,function(e){t.append(e)}),i.$destroy()):t.append(r)}s(o)}}};return t}function n(){var e={require:["?^tiBtnRadioGroup","?^tiBtnCheckboxGroup"],restrict:"E",transclude:!0,scope:{item:"=?"},templateUrl:"/tiny-components/src/components/buttonGroup/btnItem.html",replace:!0,link:r};return e}function r(e,t,n,r){r=null===r[0]?r[1]:r[0];var i=e.item.id;r.addItem(i,e),t.on("click",function(){if(e.item.disable)return;r.selectItem(i,e)}),t.on("$destroy",function(){r.removeItem(i,e)})}e.directive("tiTransclude",["$compile",t]),e.directive("tiButtonItem",n)}),define("components/buttonGroup/btnCheckboxGroup",["components/module","components/buttonGroup/btnGroupCommon"],function(e,t){"use strict";function n(){var e={restrict:"E",replace:!0,scope:{items:"=?",selectedId:"=?",activeClass:"=?",change:"&"},controller:["$scope",i],transclude:!0,templateUrl:"/tiny-components/src/components/buttonGroup/btnGroup.html",link:r};return e}function r(e,t,n,r){e.$watch("selectedId",function(t,n){if(!e.isExternalSet){e.isExternalSet=!0;return}if(!_.isArray(t)){e.selectedId=[],e.isExternalSet=!1;return}if(t===n)return;r.setSelect(t,n)},!0)}function i(e){var t={},n=e.activeClass||"ti-active";e.isExternalSet=!0,this.addItem=function(r,i){_.contains(e.selectedId,r)?i.activeClass=n:i.activeClass="",t[r]=i},this.removeItem=function(n,r){delete t[n],_.contains(e.selectedId,n)&&(e.selectedId=_.without(e.selectedId,n),e.isExternalSet=!1)},this.selectItem=function(t,r){e.isExternalSet=!1,_.contains(e.selectedId,t)?(r.activeClass="",e.selectedId=_.without(e.selectedId,t)):(r.activeClass=n,e.selectedId.push(t)),e.$evalAsync(),setTimeout(function(){_.isFunction(e.change())&&e.change()(r.item)},0)},this.setSelect=function(e,r){_.each(r,function(e){t[e]&&(t[e].activeClass="")}),_.each(e,function(e){t[e]&&(t[e].activeClass=n)})}}return e.directive("tiBtnCheckboxGroup",n),e.name}),define("components/suggestion/suggestionItem",["components/module"],function(e){"use strict";function t(){function e(e,n){t(e,n)}function t(e){e.mousedownFn=function(t){e.$emit("item.select",t.id)}}return{restrict:"E",replace:!0,scope:{suggestion:"=?"},templateUrl:"/tiny-components/src/components/suggestion/suggestionItem.html",transclude:!0,link:e}}return e.directive("tiSuggestionItem",t),e.name}),define("components/suggestion/suggestion",["components/module","components/suggestion/suggestionItem"],function(e){"use strict";function t(e,t){function n(e,t){if(_.isUndefined(e.dominator)||$(e.dominator).length<1)return;r(e,t),s(e,t),v(e,t)}function r(t,n){t.$dominator=$(t.dominator),n.appendTo($("body")),t.panelMaxHeight=i(t.panelMaxHeight,e.panelMaxHeight),t.highlight=i(t.highlight,e.highlight),t.suggestions=i(t.suggestions,e.suggestions),t.fields=i(t.fields,e.fields),t.major=i(t.major,e.major),t.originalData=angular.copy(t.suggestions),t.innerChange=!1,t.hasShow=!1}function i(e,t){return _.isUndefined(e)?t:e}function s(e,n){e.$dominator.on("input.autoComplete",function(n){e.$dominator.trigger("valueChange",[n])});var r=window.tiny.utils;r.browser.ie&&r.browser.version<10&&(n.on("cut.autoComplete",function(t){setTimeout(function(){e.$dominator.trigger("valueChange",[t])},0)}),n.on("keyup.autoComplete",function(t){(t.keyCode===8||t.keyCode===46)&&e.$dominator.trigger("valueChange",[t])})),e.$dominator.on("valueChange",function(){function u(){var t=h(e,i);e.suggestions=d(angular.copy(t),i,e),e.$apply(),g(e,n)}var i=e.$dominator.val();if(i===""){m(e,n);return}if(!_.isFunction(e.beforeOpen())){var s=h(e,i);e.suggestions=d(angular.copy(s),i,e),e.$apply(),g(e,n);return}var o;e.$apply(function(){o=e.beforeOpen()(i)}),!_.isUndefined(o)&&_.isFunction(o.then)?o.then(function(){t(function(){u()},0)}):_.isUndefined(o)&&u()}),e.$dominator.on("blur.autoComplete",function(){m(e,n)});var i=function(t,n){var r=l(e,n),i=e.$dominator.val();e.$dominator.val(r),r!==i&&(e.$dominator[0].tiValue=r,e.$dominator.trigger("tiBlur"))};e.$on("item.select",i),e.$on("item.select.broadcast",i),n.on("mousewheel DOMMouseScroll",function(e){e.stopPropagation(),e.preventDefault(),window.tiny.utils.browser.firefox?n[0].scrollTop+=e.originalEvent.detail>0?120:-120:n[0].scrollTop+=e.originalEvent.wheelDelta>0?-120:120}),e.keydownFn=function(t){if(e.hasShow===!1)return;var r=t.keyCode;switch(r){case 38:o(e,n,t);break;case 40:u(e,n,t);break;case 27:a(e,n,t);break;case 13:case 108:f(e,n,t);break;default:}},$(document).on("keydown.autoComplete",e.keydownFn),e.hidePanel=function(){m(e,n)},$(window).on("resize.autoComplete",e.hiddenPanel),$(document).on("mousewheel.autoComplete DOMMouseScroll.autoComplete",e.hiddenPanel),e.$dominator.on("$destroy",function(){n.remove(),e.$destroy(),$(document).off("keydown",e.keydown),$(document).off("mousewheel DOMMouseScroll",e.hiddenPanel)})}function o(e,t,n){n.preventDefault();var r=t.find(".ti-dropdown-option");if(r.length<1)return;var i=r.filter(".ti-dropdown-option-selected"),s,o;i.length>0&&(o=c(i,r)),o>0?s=$(r[o-1]):s=r.last(),i.removeClass("ti-dropdown-option-selected"),s.addClass("ti-dropdown-option-selected"),t.scrollTop(s[0].offsetTop)}function u(e,t,n){n.preventDefault();var r=t.find(".ti-dropdown-option");if(r.length<1)return;var i=r.filter(".ti-dropdown-option-selected"),s,o;i.length>0&&(o=c(i,r)),o<r.length-1?s=$(r[o+1]):s=r.first(),i.removeClass("ti-dropdown-option-selected"),s.addClass("ti-dropdown-option-selected"),t.scrollTop(s[0].offsetTop)}function a(e,t,n){n.preventDefault(),m(e,t)}function f(e,t,n){n.preventDefault();var r=t.find(".ti-dropdown-option-selected");if(r.length<1)return;var i=r.scope().suggestion,s=l(e,i.id),o=e.$dominator.val();e.$dominator.val(s),m(e,t),s!==o&&(e.$dominator[0].tiValue=s,e.$dominator.trigger("contentChange"))}function l(e,t){var n=-1;return n=_.findIndex(e.originalData,function(e){return e.id===t}),n!==-1?e.originalData[n][e.major]:""}function c(e,t){if(e.length<1||t.length<1)return-1;for(var n=0;n<t.length;n++)if(e[0]===t[n])return n;return-1}function h(e,t){var n=[];return t===""?(n=e.originalData,n):(n=_.filter(e.originalData,function(e){return p(e,t)}),n)}function p(e,t){var n=_.find(e,function(e){return e.toLowerCase().indexOf(t.toLowerCase())>=0});return!_.isUndefined(n)}function d(e,t,n){n.innerChange=!0;if(e.length<1)return[];for(var r=0;r<e.length;r++){var i=n.fields,s;for(var o=0;o<i.length;o++){s=e[r][i[o]];var u=$("<span>");u.addClass(n.highlight).html(t);var a=new RegExp(t);e[r][i[o]]=s.replace(a,u[0].outerHTML)}}return e}function v(e){e.$watch("suggestions",function(t,n){if(t===n)return;if(e.innerChange===!0){e.innerChange=!1;return}e.suggestions=t,e.originalData=angular.copy(e.suggestions)},!0)}function m(e,t){t.find(".ti-dropdown-option").removeClass("ti-dropdown-option-selected"),t.hide(),e.hasShow=!1}function g(e,t){if(e.suggestions.length<1){m(e,t);return}y(e,t),b(e,t),E(t),e.hasShow=!0}function y(e,t){var n=e.$dominator,r=n.outerHeight();t.css({"line-height":r+"px","min-width":n.outerWidth()-2+"px"})}function b(e,t){var n=e.$dominator,r=n.outerHeight(),i=n.offset(),s=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,o=s+$(document).scrollTop()-i.top-r,u=i.top-$(document).scrollTop(),a=S(t);a<=o?(t.css({bottom:"",display:"block",top:i.top+r+"px",left:i.left+"px","max-height":parseInt(w(e.panelMaxHeight,o),10)+"px"}),e.showStyle="down"):a<=u?(t.css({top:"",display:"block",bottom:s-i.top+"px",left:i.left+"px","max-height":parseInt(w(e.panelMaxHeight,u),10)+"px"}),e.showStyle="up"):u>o?(t.css({top:"",display:"block",bottom:s-i.top-1+"px",left:i.left+"px","max-height":parseInt(w(e.panelMaxHeight,u),10)+"px"}),e.showStyle="up"):(t.css({bottom:"",display:"block",top:i.top+r-1+"px",left:i.left+"px","max-height":parseInt(w(e.panelMaxHeight,o),10)+"px"}),e.showStyle="down")}function w(e,t){return e<t?e:t}function E(e){e.find(".ti-dropdown-option").first().addClass("ti-dropdown-option-selected")}function S(e){var t=e.clone();t.css({display:"block",visibility:"hidden",left:"-9999px",position:"absolute"}).appendTo($("body"));var n=t.outerHeight();return t.remove(),n}return{restrict:"E",replace:!0,scope:{dominator:"=?",suggestions:"=?",panelMaxHeight:"=?",highlight:"=?",major:"=?",fields:"=?",beforeOpen:"&"},templateUrl:"/tiny-components/src/components/suggestion/suggestion.html",transclude:!0,link:n}}return e.constant("suggestionConfig",{panelMaxHeight:"9999px",highlight:"ti-suggestion-highlight",suggestions:[],major:"label",fields:["label"]}),e.directive("tiSuggestion",t),t.$inject=["suggestionConfig","$timeout"],e.name}),define("components/autoComplete/autoComplete",["components/module","components/suggestion/suggestion"],function(e){"use strict";function t(e,t){function n(e,t){r(e,t),i(e)}function r(e,t){e.configs.dominator=t,s(e)}function i(e){e.$on("item.select",function(t,n){e.$broadcast("item.select.broadcast",n)})}function s(n){var r='<ti-suggestion dominator="configs.dominator"suggestions="configs.suggestions"highlight="configs.highlight"panel-max-height="configs.panelMaxHeight"major="configs.major"fields="configs.fields"before-open="configs.beforeOpen"></ti-suggestion>',i=e(r),s=n.$new(),o=i(s);t(function(){var t='<ti-suggestion-item ng-repeat="suggestion in configs.suggestions" suggestion="suggestion"></ti-suggestion-item>',r=n.$new();r.configs=n.configs;var i=e(t)(r);o.find("ul").append(i)},0)}return{restrict:"A",replace:!0,scope:{configs:"=?tiAutoComplete"},link:n}}return e.directive("tiAutoComplete",t),t.$inject=["$compile","$timeout"],e.name}),define("components/buttonGroup/btnRadioGroup",["components/module","components/buttonGroup/btnGroupCommon"],function(e,t){"use strict";function n(){var e={restrict:"E",replace:!0,scope:{items:"=?",selectedId:"=?",activeClass:"=?",change:"&"},controller:["$scope",i],transclude:!0,templateUrl:"/tiny-components/src/components/buttonGroup/btnGroup.html",link:r};return e}function r(e,t,n,r){e.$watch("selectedId",function(t,n){if(!e.isExternalSet){e.isExternalSet=!0;return}if(_.isUndefined(t)){e.selectedId="",e.isExternalSet=!1;return}if(t===n)return;r.setSelect(t,n)})}function i(e){var t=e.activeClass||"ti-active",n={};e.isExternalSet=!0,this.addItem=function(r,i){r===e.selectedId?i.activeClass=t:i.activeClass="",n[r]=i},this.removeItem=function(t,r){delete n[t],e.selectedId===t&&(e.selectedId="",e.isExternalSet=!1)},this.selectItem=function(r,i){r!==e.selectedId&&(""!==e.selectedId&&(n[e.selectedId].activeClass=""),i.activeClass=t,e.$evalAsync(),e.selectedId=r,e.isExternalSet=!1,setTimeout(function(){_.isFunction(e.change())&&e.change()(i.item)},0))},this.setSelect=function(e,r){_.has(n,r)&&(n[r].activeClass=""),_.has(n,e)&&(n[e].activeClass=t)}}return e.directive("tiBtnRadioGroup",n),e.name}),define("components/alert/alert",["components/module"],function(e){"use strict";function t(e){function t(t){function n(){i(),t.typeIcon=_.isUndefined(t.typeIcon)?!0:t.typeIcon,t.closeIcon=_.isUndefined(t.closeIcon)?!0:t.closeIcon,t.show=_.isUndefined(t.show)?!0:t.show,t.show&&s(),o()}function r(){t.$watch("type",function(e,t){if(e===t)return;i()}),t.$watch("show",function(e,n){if(e===n)return;t.show&&s()})}function i(){if(t.type==="prompt"||t.type==="error"||t.type==="warn"||t.type==="success")return;t.type="success"}function s(){var n=parseInt(t.dismissOnTimeout,10);if(_.isNaN(n))return;t.timeoutPromise=e(function(){t.show=!1},n)}function o(){if(!t.closeIcon)return;t.closeFn=function(){t.show=!1,_.isUndefined(t.timeoutPromise)||(e.cancel(t.timeoutPromise),t.timeoutPromise=undefined)}}n(),r()}return{restrict:"E",scope:{type:"=?",typeIcon:"=?",closeIcon:"=?",show:"=?",dismissOnTimeout:"=?"},templateUrl:"/tiny-components/src/components/alert/alert.html",replace:!0,transclude:!0,link:t}}return e.directive("tiAlert",t),t.$inject=["$timeout"],e.name}),define("dist/tiny.tpls",["components/module"],function(e){return e.run(["$templateCache",function(e){"use strict";e.put("/tiny-components/src/components/accordion/accordion-item.html","<div class=ti-accordion-panel><div class=ti-accordion-panel-heading ng-class=\"{'disabled': disable, 'headClass': true}\" ng-click=toggleOpen()><div class=ti-accordion-panel-title><span ti-accordion-transclude=head><span ti-accordion-header ng-class=\"{'ti-text-muted': disable}\">{{head}}</span></span></div></div><div class=ti-accordion-panel-collapse ti-collapse=!open><div class=ti-accordion-panel-body ng-class=bodyClass ng-transclude></div></div></div>"),e.put("/tiny-components/src/components/accordion/accordion.html","<div role=tablist class=ti-accordion-group ng-transclude></div>"),e.put("/tiny-components/src/components/actionMenu/actionMenu.html","<span><ti-menu ng-if=hasMenu panel-align=menu.panelAlign panel-max-width=menu.panelMaxWidth items=menu.items><span class=ti-menu-toggle-menu ng-bind=menu.toogleName></span></ti-menu></span>"),e.put("/tiny-components/src/components/alert/alert.html","<div class=ti-alert-container ng-show=show ng-class=\"{'ti-alert-prompt-container': type === 'prompt',\r\n             'ti-alert-error-container': type === 'error',\r\n             'ti-alert-warn-container': type === 'warn',\r\n             'ti-alert-success-container': type === 'success'}\"><span class=\"ti-alert-type-icon ti-icon\" ng-if=typeIcon ng-class=\"{'ti-icon-info-circle': type === 'prompt',\r\n                     'ti-icon-exclamation-circle': type === 'error',\r\n                     'ti-icon-warn': type === 'warn',\r\n                     'ti-icon-check-circle': type === 'success'}\"></span><div class=ti-alert-label ng-transclude ng-class=\"{'ti-alert-label-with-closeIcon': closeIcon && !typeIcon,\r\n                    'ti-alert-label-with-typeIcon': !closeIcon && typeIcon,\r\n                    'ti-alert-only-label': !closeIcon && !typeIcon}\"></div><span class=\"ti-alert-close-icon ti-icon ti-icon-close\" ng-if=closeIcon ng-click=closeFn()></span></div>"),e.put("/tiny-components/src/components/buttonGroup/btnGroup.html",'<div class=ti-btn-group ti-transclude><ti-button-item item=item ng-repeat="item in items"></ti-button-item></div>'),e.put("/tiny-components/src/components/buttonGroup/btnItem.html","<div ti-transclude class=ti-btn-item-container ng-class=activeClass><button class=ti-btn-item ng-bind=item.text ng-disabled=item.disable></button></div>"),e.put("/tiny-components/src/components/combobox/Datemodel","<div ng-class=\"{'ti-combobox-container-up': isOpen && (showStyle === 'up'),\r\n                'ti-combobox-container-down': isOpen && (showStyle === 'down'),\r\n                'ti-combobox-container-disable': disable,\r\n                'ti-combobox-container-focused': isFocused}\" class=ti-combobox-container><input class=ti-combobox-text ng-focus=focusFn($event) ng-keydown=keydownFn($event) ng-blur=blurFn($event) ng-model=content spellcheck=false ng-model-options=\"{updateOn: 'default blur', debounce: { 'default': 200, 'blur': 0 }}\" ng-disabled=disable ng-change=changeFn(content)><div class=ti-combobox-dropdown-btn ng-mousedown=menuMousedownFn($event)></div><ti-dropdown options=suggestions show=isOpen selected-id=selectedId show-style=showStyle select=selectFn max-height=panelMaxHeight panel-width=panelWidth dominator=dominator no-data-text=noMatched></ti-dropdown></div>"),e.put("/tiny-components/src/components/date/date.html",'<div class=ti-date-container><div tabindex={{!disable?0:-1}} class=ti-date-input-container ng-class="{\'ti-date-input-container-disable\' : disable}" ng-keydown=keydownFn($event) ng-click=showClickFn()><span class=ti-date-show ng-bind=formatValue></span><div class="ti-date-icon-container ti-icon ti-icon-calendar" ng-class="{\'ti-date-icon-container-disable\' : disable}"></div></div><div ng-if=isOpenPicker tabindex=-1 ng-click=pickerClickFn($event) class=ti-date-picker><ti-date-panel value=datePanel.value min-value=datePanel.minValue max-value=datePanel.maxValue type=datePanel.type is-open-year-month-picker=datePanel.isOpenYearMonthPicker day-click=datePanel.dayClick></ti-date-panel><div class=ti-date-picker-footer ng-if="todayBtn || clearBtn || okBtn"><button class=ti-date-picker-footer-btn type=button ng-if=todayBtn ng-click=todayClickFn() ng-bind=btnLanguage.today ti-button></button><div class=ti-date-picker-footer-right><button class=ti-date-picker-footer-btn type=button ng-if=clearBtn ng-click=clearClickFn() ng-bind=btnLanguage.clear ti-button></button> <button class=ti-date-picker-footer-btn type=button ng-if=okBtn ng-bind=btnLanguage.ok ng-click=okClickFn() ti-button></button></div></div></div></div>'),e.put("/tiny-components/src/components/datePanel/datePanel.html",'<div><div class=ti-date-picker-header><span class="ti-date-picker-prev ti-icon ti-icon-angle-left" ng-class="{\'ti-date-state-disabled\' : isMinMonth}" ng-click=preClickFn(isMinMonth) title={{prevText}}></span> <span class="ti-date-picker-next ti-icon ti-icon-angle-right" ng-class="{\'ti-date-state-disabled\' : isMaxMonth}" ng-click=nextClickFn(isMaxMonth) title={{nextText}}></span><div class=ti-header-year-month-picker ng-class="{\'ti-header-year-month-picker-expand\' : isOpenYearMonthPicker}"><div class=ti-date-picker-year-month ng-click=monthYearClickFn() ng-class="{\'ti-date-picker-year-month-expand\' : isOpenYearMonthPicker}"><span ng-bind=picker.year></span> <span ng-bind=picker.month></span> <span ng-class="{\'ti-date-picker-down-btn\' : !isOpenYearMonthPicker,\r\n                                     \'ti-date-picker-up-btn\' : isOpenYearMonthPicker}"></span></div><div ng-show=isOpenYearMonthPicker class=ti-date-picker-years-list><ul class=ti-date-picker-year-li><li ng-repeat="year in yearArr" class=ti-header-year-default-state ng-click="yearClickFn(year, $index)" ng-class="{\'ti-date-picker-selected-year-month\' : yearSelectedIndex === $index}">{{year}}</li></ul><div class=ti-date-picker-year-month-line></div></div><ul ng-show=isOpenYearMonthPicker class=ti-date-picker-months-list><li ng-repeat="month in monthArr" class=ti-header-month-default-state ng-click="monthClickFn(month, $index)" ng-class="{\'ti-date-picker-selected-year-month\' : monthSelectedIndex === $index}">{{month}}</li></ul></div></div><table class=ti-date-picker-table><thead><tr><th ng-repeat="week in weekArr" class=ti-date-week title={{weekTitleArr[$index]}}>{{week}}</th></tr></thead><tbody><tr ng-repeat="week in dayArr" ng-init="weekIndex = $index" class=ti-date-day-tr><td ng-repeat="day in week" ng-init="dayIndex = $index"><span ng-class="{\r\n                        \'ti-date-current-day\' : day.state === \'current\',\r\n                        \'ti-dateRange-select-day\' : day.state === \'select\',\r\n                        \'ti-date-default-day\' : day.state === \'default\',\r\n                        \'ti-date-disable-day\' : day.state === \'disable\'}" ng-click=dayClickFn(day)>{{day.value}}</span></td></tr></tbody></table></div>'),e.put("/tiny-components/src/components/dateRange/dateRange.html",'<div class=ti-date-range-container><div tabindex={{!disable?0:-1}} class=ti-date-input-container ng-class="{\'ti-date-input-container-disable\' : disable}" ng-keydown=keydownFn($event) ng-click=showClickFn()><div class="ti-date-icon-container ti-icon ti-icon-calendar" ng-class="{\'ti-date-icon-container-disable\' : disable}"></div><span class=ti-date-show ng-bind=showValue></span></div><div ng-if=isOpenPicker tabindex=-1 ng-click=pickerClickFn($event) class=ti-date-range-picker><div class=ti-date-range-begin-container><div class=ti-date-range-begin-end-text ng-bind=beginText></div><ti-date-panel value=begin.value min-value=begin.minValue max-value=begin.maxValue is-open-year-month-picker=begin.isOpenYearMonthPicker type=begin.type></ti-date-panel></div><div class=ti-date-range-vertical-line></div><div class=ti-date-range-end-container><div class=ti-date-range-begin-end-text ng-bind=endText></div><ti-date-panel value=end.value min-value=end.minValue is-open-year-month-picker=end.isOpenYearMonthPicker max-value=end.maxValue type=end.type></ti-date-panel></div><div class=ti-date-range-horizontal-line></div><div class=ti-date-range-picker-footer><button class=ti-date-picker-footer-btn type=button ng-click=cancelClickFn() ng-bind=btnLanguage.cancel ti-button></button><div class=ti-date-picker-footer-right><button class=ti-date-picker-footer-btn type=button ng-click=clearClickFn() ng-bind=btnLanguage.clear ti-button></button> <button class=ti-date-picker-footer-btn type=button ng-bind=btnLanguage.ok ng-click=okClickFn() ti-button></button></div></div></div></div>'),e.put("/tiny-components/src/components/datetime/datetime.html",'<div class=ti-datetime-container><div tabindex={{!disable?0:-1}} class=ti-date-input-container ng-class="{\'ti-date-input-container-disable\' : disable}" ng-keydown=keydownFn($event) ng-click=showClickFn()><div class="ti-date-icon-container ti-icon ti-icon-calendar" ng-class="{\'ti-date-icon-container-disable\' : disable}"></div><span class=ti-date-show ng-bind=showValue></span></div><div ng-if=isOpenPicker tabindex=-1 ng-click=pickerClickFn($event) class=ti-date-picker><ti-date-panel value=datePanel.value min-value=datePanel.minValue max-value=datePanel.maxValue is-open-year-month-picker=datePanel.isOpenYearMonthPicker type=datePanel.type day-click=datePanel.dayClick></ti-date-panel><div class=ti-date-picker-footer><ti-time class=ti-date-picker-footer-btn ng-keydown=timeKeydownFn($event) format=format.time value=timeOptions.value min-value=timeOptions.minValue max-value=timeOptions.maxValue change=timeOptions.change blur=timeOptions.blur></ti-time><div class=ti-date-picker-footer-right><button class=ti-date-picker-footer-btn type=button ng-if=clearBtn ng-click=clearClickFn() ng-bind=btnLanguage.clear ti-button></button> <button class=ti-date-picker-footer-btn type=button ng-if=okBtn ng-click=okClickFn() ng-bind=btnLanguage.ok ti-button></button></div></div></div></div>'),e.put("/tiny-components/src/components/datetimeRange/datetimeRange.html",'<div class=ti-datetime-range-container><div tabindex={{!disable?0:-1}} class=ti-date-input-container ng-class="{\'ti-date-input-container-disable\' : disable}" ng-keydown=keydownFn($event) ng-click=showClickFn()><span class=ti-date-show ng-bind=showValue></span><div class="ti-date-icon-container ti-icon ti-icon-calendar" ng-class="{\'ti-date-icon-container-disable\' : disable}"></div></div><div ng-if=isOpenPicker ng-click=pickerClickFn($event) class=ti-date-range-picker><div class=ti-date-range-begin-container><div class=ti-date-range-begin-end-text ng-bind=beginText></div><ti-date-panel value=beginDate.value min-value=beginDate.minValue max-value=beginDate.maxValue is-open-year-month-picker=beginDate.isOpenYearMonthPicker type=beginDate.type></ti-date-panel><span ng-bind=timeText></span><ti-time class=ti-datetime-range-time ng-keydown=timeKeydownFn($event) format=format.time value=beginTime.value min-value=beginTime.minValue blur=beginTime.blur max-value=beginTime.maxValue></ti-time></div><div class=ti-datetime-range-vertical-line></div><div class=ti-date-range-end-container><div class=ti-date-range-begin-end-text ng-bind=endText></div><ti-date-panel value=endDate.value min-value=endDate.minValue max-value=endDate.maxValue is-open-year-month-picker=endDate.isOpenYearMonthPicker type=endDate.type></ti-date-panel><span ng-bind=timeText></span><ti-time class=ti-datetime-range-time ng-keydown=timeKeydownFn($event) format=format.time value=endTime.value blur=endTime.blur min-value=endTime.minValue max-value=endTime.maxValue></ti-time></div><div class=ti-date-range-horizontal-line></div><div class=ti-date-range-picker-footer><button class=ti-date-picker-footer-btn type=button ng-click=cancelClickFn() ng-bind=btnLanguage.cancel ti-button></button><div class=ti-date-picker-footer-right><button class=ti-date-picker-footer-btn type=button ng-click=clearClickFn() ng-bind=btnLanguage.clear ti-button></button> <button class=ti-date-picker-footer-btn type=button ng-bind=btnLanguage.ok ng-click=okClickFn() ng-disabled=isOkDisabled ti-button></button></div></div></div></div>'),e.put("/tiny-components/src/components/dropdown/dropdownMulti.html",'<div class=ti-dropdown-container ng-class="{\'ti-dropdown-container-up\': showStyle === \'up\',\r\n                \'ti-dropdown-container-down\': showStyle === \'down\'}" ng-mousedown=panelMousedown($event)><ul ng-if="options.length > 0 && options[0].hasOwnProperty(\'children\')" class=ti-dropdown-group><li ng-repeat-start="group in options track by group.id" ng-bind-html=group.label ng-mousedown=groupMousedown($event) class=ti-dropdown-group-list></li><li ng-repeat-end ng-repeat="option in group.children track by option.id" class=ti-dropdown-option ng-class="{\'ti-dropdown-option-selected\': selectedArray.indexOf(option.id) >= 0}" ng-mousedown="mousedown($event, option)"><label class=ti-multi-select-checkbox ng-class="{\' ti-icon ti-icon-checkmark\': selectedArray.indexOf(option.id) >= 0}"></label><span ng-bind-html=option.label></span></li></ul><ul ng-if="options.length > 0 && !options[0].hasOwnProperty(\'children\')"><li ng-repeat-end ng-repeat="option in options track by option.id" class=ti-dropdown-option ng-class="{\'ti-dropdown-option-selected\': selectedArray.indexOf(option.id) >= 0}" ng-mouseenter=mouseenter($event) ng-mousedown="mousedown($event, option)"><label class=ti-multi-select-checkbox ng-class="{\' ti-icon ti-icon-checkmark\': selectedArray.indexOf(option.id) >= 0}"></label><span ng-bind-html=option.label></span></li></ul><div class=ti-dropdown-no-data ng-if="options.length === 0" ng-bind-html=noDataText></div></div>'),e.put("/tiny-components/src/components/dropdown/dropdownSingle.html",'<div class=ti-dropdown-container ng-class="{\'ti-dropdown-container-up\': showStyle === \'up\',\r\n                \'ti-dropdown-container-down\': showStyle === \'down\'}" ng-mousedown=panelMousedown($event)><ul ng-if="options.length > 0 && options[0].hasOwnProperty(\'children\')" class=ti-dropdown-group><li ng-repeat-start="group in options track by group.id" ng-bind-html=group.label ng-mousedown=groupMousedown($event) class=ti-dropdown-group-list></li><li ng-repeat-end ng-repeat="option in group.children track by option.id" class=ti-dropdown-option ng-class="{\'ti-dropdown-option-selected\': option.id === selectedId}" ng-mousedown="mousedown($event, option)"><span ng-bind-html=option.label></span></li></ul><ul ng-if="options.length > 0 && !options[0].hasOwnProperty(\'children\')"><li ng-repeat-end ng-repeat="option in options track by option.id" class=ti-dropdown-option ng-class="{\'ti-dropdown-option-selected\': option.id === selectedId}" ng-mouseenter=mouseenter($event) ng-mousedown="mousedown($event, option)"><span ng-bind-html=option.label></span></li></ul><div class=ti-dropdown-no-data ng-if="options.length === 0" ng-bind-html=noDataText></div></div>'),e.put("/tiny-components/src/components/fileupload/tiFileDetail.html",'<div class=ti-file-detail-container><div ng-repeat="item in uploadInst.queue" class=ti-file-detail-item><span ng-bind=item.file.name class=ti-file-item-name title={{item.file.name}}></span> <span ng-bind=item.file.sizeWithUnit class=ti-file-item-size title={{item.file.sizeWithUnit}}></span><div class=ti-file-item-info><span ng-if="!item.isUploading && !item.isUploaded" ng-bind=info.wait></span> <span ng-if=item.isUploading ng-bind="item.progress+\'%\'"></span> <span ng-if=item.isSuccess ng-bind=info.successInfo></span> <span ng-if=item.isError ng-bind="item.errorInfo || info.errorInfo" class=ti-file-item-error title={{(item.errorInfo||info.errorInfo)}}></span></div><div class=ti-file-detail-operate><span ng-if=item.isError ng-click=item.upload() class="ti-icon ti-icon-refresh ti-file-detail-operate-icon"></span> <span ng-click=item.remove() class="ti-icon ti-icon-x-thin ti-file-detail-operate-icon"></span></div><ti-progressbar value=item.progress class=ti-file-progress></ti-progressbar></div></div>'),e.put("/tiny-components/src/components/fileupload/tiFileUpload.html",'<div class=ti-file-upload-container><div class="ti-btn ti-btn-default ti-file-btn" ng-disabled=styleOptions.disable><input class=ti-file-input type=file ti-file-select=uploadInst title={{title}} accept={{accept}} ng-disabled=styleOptions.disable> <span class=ti-file-text ng-bind=text></span></div><div ti-file-detail=uploadInst ng-if=showDetail></div></div>'),e.put("/tiny-components/src/components/formfield/formfield.html",'<table style="max-width: 100%" class=ti-form ng-style=verticalAlign><tbody><tr ng-repeat="items in groupedItems track by $index"><td ng-repeat-start="item in items track by $index" class=ti-form-require ng-style=item.verticalAlign><span ng-show=item.required>*</span></td><td ng-if=item.hasLabel item-label-transclude=item class=ti-form-label ng-style=item.verticalAlign></td><td item-content-transclude=item colspan={{item.cntColspan}} class=ti-form-content ng-style=item.verticalAlign></td><td ng-repeat-end ng-style=item.colsGap[$index] ng-style=item.verticalAlign></td></tr><tr ng-repeat="item in btnItems track by $index"><td ng-if="item.horizontalAlign !== item.alignOpts.required" ng-style=item.verticalAlign></td><td ng-if="item.horizontalAlign === item.alignOpts.content" ng-style=item.verticalAlign></td><td field-btn-transclude=item colspan={{item.btnColspan}} ng-style=item.verticalAlign></td></tr><tr id={{::fieldId}} ng-transclude></tr></tbody></table>'),e.put("/tiny-components/src/components/ip/ip.html","<input class=ti_input_ip_octet spellcheck=false ng-class=\"{'ti_input_ipv4_octet':version !==6, 'ti_input_ipv6_octet':version ===6, 'ti_input_ip_focus': focused, 'ti_input_ip_disable':disable}\" ng-keydown=keyDown($event) ng-keypress=keyPress($event) ng-paste=paste($event) ng-cut=cut($event) ng-blur=blurHandle($event) ng-focus=focus($event) ng-mousedown=mouseDown($event) ng-mouseup=mouseUp($event) ng-disabled=disable>"),e.put("/tiny-components/src/components/leftmenu/leftmenu.html","<div class=ti-leftmenu-container ng-class=\"{'ti-leftmenu-hide' : !isCollapsed}\"><div class=ti-leftmenu-panel-container><ul ng-transclude class=ti-leftmenu-panel></ul></div><div class=\"ti-leftmenu-toggle ti-icon\" ng-if=enableToggle ng-class=\"{'ti-icon-angle-left ti-leftmenu-toggle-show' : isCollapsed,\r\n                    'ti-icon-angle-right ti-leftmenu-toggle-hide' : !isCollapsed }\" ng-click=toggleClickFn()></div></div>"),e.put("/tiny-components/src/components/leftmenu/leftmenuHead.html","<li class=ti-leftmenu-head ng-transclude></li>"),e.put("/tiny-components/src/components/leftmenu/leftmenuLevel1.html",'<li class=ti-leftmenu-level1><div ng-class="{\'ti-leftmenu-level1-active-item\' : isActived}" class=ti-leftmenu-level1-item ng-click=clickFn()><span class="ti-leftmenu-level1-state-icon ti-icon" ng-class="{\'ti-icon-angle-circle-o-down\' : showChildren,\r\n                   \'ti-icon-angle-circle-o-right\' : !showChildren}" ng-if="item.children && item.children.length"></span></div><ul ng-transclude ng-show=showChildren></ul></li>'),e.put("/tiny-components/src/components/leftmenu/leftmenuLevel2.html","<li class=ti-leftmenu-level2 ng-click=clickFn() ng-class=\"{'ti-leftmenu-level2-active' : isActived}\" ng-transclude></li>"),e.put("/tiny-components/src/components/menu/menu.html","<div class=ti-menu-container><div class=ti-menu-toggle ng-click=toggleClickFn() ng-transclude></div><ti-menu-panel show=show toggle-element=toggleElement panel-align=panelAlign panel-max-width=panelMaxWidth items=panelItems></ti-menu-panel></div>"),e.put("/tiny-components/src/components/menu/menuPanel.html",'<ul class=ti-menu-panel-container ng-show=show><li class=ti-menu-panel-list ng-class="{\'ti-menu-panel-list-disable\' : item.disable}" ng-click="clickFn(item, $event)" ng-mouseenter="mouseenterFn(item, $event)" ng-mouseleave="mouseleaveFn(item, $event)" ng-repeat="item in items"><span ng-if=hasChildren(item.childrens) ng-class="{\'ti-menu-list-left-icon\' : panelAlign === \'right\', \'ti-menu-list-right-icon\' : panelAlign === \'left\'}"></span> <span ng-bind-html=item.title></span><div ng-mouseenter="mouseenterFn1(item, $event)" ng-mouseleave="mouseleaveFn1(item, $event)" ti-tooltip=tooltipConfig class=ti-menu-panel-list-tooltip></div><ul ng-show=item.showChildrens class=ti-menu-panel-container><li class=ti-menu-panel-list ng-class="{\'ti-menu-panel-list-disable\' : firstChildren.disable}" ng-click="clickFn(firstChildren, $event)" ng-mouseenter="mouseenterFn(firstChildren, $event)" ng-mouseleave=mouseleaveFn(firstChildren) ng-repeat="firstChildren in item.childrens"><span ng-if=hasChildren(firstChildren.childrens) ng-class="{\'ti-menu-list-left-icon\' : panelAlign === \'right\', \'ti-menu-list-right-icon\' : panelAlign === \'left\'}"></span> <span ng-bind-html=firstChildren.title></span><div ng-mouseenter="mouseenterFn1(item, $event)" ng-mouseleave="mouseleaveFn1(item, $event)" ti-tooltip=tooltipConfig class=ti-menu-panel-list-tooltip></div><ul ng-show=firstChildren.showChildrens class=ti-menu-panel-container><li class=ti-menu-panel-list ng-class="{\'ti-menu-panel-list-disable\' : secondChildren.disable}" ng-click="clickFn(secondChildren, $event)" ng-mouseenter="mouseenterFn(secondChildren, $event)" ng-mouseleave=mouseleaveFn(secondChildren) ng-repeat="secondChildren in firstChildren.childrens"><span ng-bind-html=secondChildren.title></span><div ng-mouseenter="mouseenterFn1(item, $event)" ng-mouseleave="mouseleaveFn1(item, $event)" ti-tooltip=tooltipConfig class=ti-menu-panel-list-tooltip></div></li></ul></li></ul></li></ul>'),e.put("/tiny-components/src/components/message/message.html","<div class=ti-modal-header><span>{{tiMsgModel.title}}</span> <span class=ti-close ng-click=tiMsgModel.dismiss()></span></div><div class=ti-msg-body><div class=\"ti-msg-icon ti-icon\" ng-class=\"{ 'ti-icon-check-circle': tiMsgModel.type === 'prompt',\r\n                    'ti-icon-exclamation-circle': tiMsgModel.type === 'error',\r\n                    'ti-icon-warn': tiMsgModel.type === 'warn',\r\n                    'ti-icon-info-circle': tiMsgModel.type === 'confirm'}\"></div><div class=ti-msg-content-wrapper ti-msg-transclude></div></div><div class=ti-modal-footer><button type=button ti-button autofocus ng-if=tiMsgModel.okBtn.show ng-disabled=tiMsgModel.okBtn.disable ng-click=tiMsgModel.okBtn.click()>{{tiMsgModel.okBtn.text}}</button> <button type=button ti-button ng-if=tiMsgModel.cancelBtn.show ng-disabled=tiMsgModel.cancelBtn.disable ng-click=tiMsgModel.cancelBtn.click()>{{tiMsgModel.cancelBtn.text}}</button></div>"),e.put("/tiny-components/src/components/modal/backdrop.html","<div class=ti-modal-backdrop ti-modal-animation-class=ti-fade modal-in-class=ti-in ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"></div>"),e.put("/tiny-components/src/components/modal/window.html","<div modal-render={{$isRendered}} tabindex=-1 role=dialog class=ti-modal ti-modal-animation-class=ti-fade modal-in-class=ti-in ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\"><div class=ti-modal-dialog><div class=ti-modal-content ti-modal-transclude></div></div></div>"),e.put("/tiny-components/src/components/multiSelect/multiSelect.html","<div ng-class=\"{'ti-select-container-up': isOpen && (showStyle === 'up'),\r\n                'ti-select-container-down': isOpen && (showStyle === 'down'),\r\n                'ti-select-disable': disable,\r\n                'ti-select-container-focused': isFocused}\" ng-mousedown=selectMousedownFn($event) ng-focus=focusFn($event) ng-blur=blurFn($event) tabindex={{!disable?0:-1}} class=ti-select-container><div class=ti-select-text ng-class=\"{'ti-select-text-disable': disable}\" ng-bind-html=content ng-mousedown=menuMousedownFn($event)></div><div class=ti-select-dropdown-btn ng-mousedown=menuMousedownFn($event)></div><ti-dropdown options=suggestions show=isOpen selected-array=selectedId show-style=showStyle change=changeFn max-height=panelMaxHeight panel-width=panelWidth dominator=dominator no-data-text=noDataText multi></ti-dropdown></div>"),e.put("/tiny-components/src/components/pagination/pagination.html",'<div class=ti-pag-container unselectable=on ng-show="showPage !== false"><ti-select options=itemsPerPage.options selected-id=itemsPerPage.selectedId change=itemsPerPage.change ng-style=itemsPerPage.style ng-if="itemsPerPage.hide !== true" class=ti-page-size-option></ti-select><label class=ti-pag-total-items ng-if="hideTotalItems !== true">{{tinyLanguage.page_total_label + totalItems}}</label><div class=ti-pag-pages><a class=ti-pag-prev ng-class="{disabled: noPrevious()}" ng-click="!noPrevious() && selectPage(currentPage - 1, $event)" ng-attr-title={{tinyLanguage.page_prev_title}}><i class="ti-icon ti-icon-angle-left"></i> </a><a ng-repeat="page in pages track by $index" class=ti-pag-page ng-class="{active: page.active, ellipse: isEllipse(page)}" ng-click="!isEllipse(page) && selectPage(page.key, $event)">{{page.key}} </a><a class=ti-pag-next ng-class="{disabled: noNext()}" ng-click="!noNext() && selectPage(currentPage + 1, $event)" ng-attr-title={{tinyLanguage.page_next_title}}><i class="ti-icon ti-icon-angle-right"></i></a></div><div class=ti-pag-goto ng-if="hideGotoLink !== true"><span class=ti-pag-goto-text>{{tinyLanguage.page_goto_label}}</span> <input class=ti-pag-goto-input ti-text ng-model=gotoPage.page ng-blur=gotoPageHandler($event) ng-keydown=enterPageHandler($event)> <a class=ti-pag-goto-icon-container ng-click=gotoPageHandler($event)><div class=ti-pag-goto-icon></div></a></div></div>'),e.put("/tiny-components/src/components/progressbar/progressbar.html","<div class=ti-progress><div class=ti-progress-bar ng-style=\"{width: percent + '%'}\" ng-class=progressClass></div><div class=ti-progress-label ng-transclude></div></div>"),e.put("/tiny-components/src/components/searchbox/searchbox.html","<div class=ti-searchbox-container ng-class=\"{'ti-searchbox-container-focused': isFocused,\r\n                'ti-searchbox-container-up': isOpen && (showStyle === 'up'),\r\n                'ti-searchbox-container-down': isOpen && (showStyle === 'down'),\r\n                'ti-searchbox-container-disable': disable}\"><input class=ti-searchbox-input ng-class=\"{'ti-searchbox-input-clear-shown': isShowClear}\" ng-disabled=disable ng-focus=focusFn($event) spellcheck=false ng-keydown=inputKeydown($event) ng-blur=blurFn() ng-model=value ng-model-options=\"{updateOn: 'default blur', debounce: { 'default': 100, 'blur': 0 }}\" ng-change=changeFn(value)><div class=\"ti-searchbox-clear ti-icon ti-icon-clear\" ng-show=isShowClear ng-click=clear($event)></div><div class=\"ti-searchbox-search ti-icon ti-icon-search\" ng-mousedown=searchFn(value)></div><ti-dropdown options=dropList show=isOpen selected-id=selectedId show-style=showStyle select=select dominator=dominator></ti-dropdown></div>"),e.put("/tiny-components/src/components/select/select.html","<div ng-class=\"{'ti-select-container-up': isOpen && (showStyle === 'up'),\r\n                'ti-select-container-down': isOpen && (showStyle === 'down'),\r\n                'ti-select-disable': disable,\r\n                'ti-select-container-focused': isFocused}\" ng-mousedown=selectMousedownFn($event) ng-focus=focusFn($event) ng-blur=blurFn($event) tabindex={{!disable?0:-1}} class=ti-select-container><div class=ti-select-text ng-class=\"{'ti-select-text-disable': disable}\" ng-bind-html=selectedOption.label ng-mousedown=menuMousedownFn($event)></div><div class=ti-select-dropdown-btn ng-mousedown=menuMousedownFn($event)></div><ti-dropdown options=suggestions show=isOpen selected-id=selectedId show-style=showStyle change=changeFn max-height=panelMaxHeight panel-width=panelWidth dominator=dominator no-data-text=noDataText></ti-dropdown></div>"),e.put("/tiny-components/src/components/spinner/spinner.html","<div class=ti-spinner-container ng-class=\"{'ti-spinner-container-focus': focused, 'ti-spinner-container-disabled':disable}\"><input class=ti-spinner-input ng-keydown=keyDown($event) ng-focus=focus($event) ng-blur=blur($event) ng-disabled=disable ng-class=\"{'ti-spinner-input-disabled':disable}\" ng-model=inputValue ng-change=inputChange($event)><div class=ti-spinner-btn><div class=ti-spinner-upbtn ng-mousedown=\"stepNumber($event, 'add')\"><div class=ti-spinner-up-arrow></div></div><div class=ti-spinner-downbtn ng-mousedown=\"stepNumber($event, 'sub')\"><div class=ti-spinner-down-arrow></div></div></div></div>"),e.put("/tiny-components/src/components/suggestion/suggestion.html","<div class=\"ti-dropdown-container ti-suggestion-container\" ng-class=\"{'ti-dropdown-container-up': showStyle === 'up',\r\n                'ti-dropdown-container-down': showStyle === 'down'}\"><ul ng-transclude></ul></div>"),e.put("/tiny-components/src/components/suggestion/suggestionItem.html","<li ng-bind-html=suggestion.label ng-mousedown=mousedownFn(suggestion) class=ti-dropdown-option></li>"),e.put("/tiny-components/src/components/switch/switch.html","<div role=radio class=ti-switch unselectable=on ng-click=toggleSwitch() ng-class=\"{'disabled': disable ,'ti-switch-off': !state, 'ti-switch-on': state}\"><div class=ti-switch-content><span class=ti-switch-left ng-bind=offLabel></span> <span class=ti-switch-knob>&nbsp</span> <span class=ti-switch-right ng-bind=onLabel></span></div></div>"),e.put("/tiny-components/src/components/tab/tab.html",'<li ng-class="{active: active, disabled: disable}"><a href ng-click=select() ti-tab-head-html>{{heading}}</a></li>'),e.put("/tiny-components/src/components/tab/tabset.html",'<div><ul class=ti-tabs ng-transclude></ul><div class=ti-tab-content><div class=ti-tab-pane ng-repeat="tab in tabs" ng-class="{active: tab.active}" ti-tab-body-html=tab></div></div></div>'),e.put("/tiny-components/src/components/table/cols-toggle.html",'<span class=ti-toggle-cols-container><span class="ti-icon ti-icon-config ti-toggle-cols-menu" ng-click=togglePanel($event)></span><ul class=ti-toggle-cols-dropdown ng-show=showPanel><li ng-repeat="column in hiddenColumns" class=ti-toggle-cols-li ng-if="column.show !== undefined"><label class=ti-toggle-cols-li-content><input type=checkbox ng-model=column.show ti-checkbox=column.title></label></li></ul></span>'),e.put("/tiny-components/src/components/table/details-icon.html","<span class=ti-toggle-details><i class=ti-icon ng-class=\"{'ti-icon-arrow-right-thin':!row.showDetails, 'ti-icon-arrow-down-thin': row.showDetails}\"></i></span>"),e.put("/tiny-components/src/components/time/time.html","<div class=ti-time-container ng-class=\"{'ti-time-container-disable' : disable}\"><div class=ti-time-editor><input class=ti-time-input ng-disabled=disable maxlength=2 ng-focus=hourFocus($event) ng-blur=hourBlur() ng-keyup=hourKeyup($event) ng-change=hourChange() ng-model=showValue.hour><span class=ti-time-colon ng-if=show.minute>:</span><input class=ti-time-input ng-disabled=disable maxlength=2 ng-if=show.minute ng-focus=minuteFocus($event) ng-blur=minuteBlur() ng-keyup=minuteKeyup($event) ng-change=minuteChange() ng-model=showValue.minute><span class=ti-time-colon ng-if=show.second>:</span><input class=ti-time-input ng-disabled=disable maxlength=2 ng-if=show.second ng-focus=secondFocus($event) ng-blur=secondBlur() ng-keyup=secondKeyup($event) ng-change=secondChange() ng-model=showValue.second><input class=ti-time-input ng-disabled=disable maxlength=2 ng-if=show.ampm ng-focus=ampmFocus($event) ng-blur=ampmBlur() ng-keyup=ampmKeyup($event) ng-change=ampmChange() ng-model=showValue.ampm></div><div class=ti_time_btn><div id=time_button_up ng-mousedown=btnUpMousedown() class=ti-time-upbtn><div class=ti-time-up-arrow></div></div><div id=time_button_down ng-mousedown=btnDownMousedown() class=ti-time-downbtn><div class=ti-time-down-arrow></div></div></div></div>"),e.put("/tiny-components/src/components/wizard/wizard-agile.html",'<div class=ti-agile-wizard><ul class=ti-wizard-label><li ng-repeat="step in stepsArr" class={{step.state}}><span>{{step.label}}</span></li></ul><div class=ti-wizard-bar><div class=ti-wizard-indicator ng-style="{width: percent + \'%\'}"></div></div></div>'),e.put("/tiny-components/src/components/wizard/wizard-cloud.html",'<ul class=ti-cloud-wizard><li ng-repeat="step in stepsArr" class={{step.state}}><span class=ti-wizard-label>{{step.label}}</span><div class=ti-wizard-icon></div></li></ul>')}]),e}),require(["components/accordion/accordion","components/button/button","components/checkbox/checkbox","components/collapse/collapse","components/formfield/formfield","components/radio/radio","components/select/select","components/multiSelect/multiSelect","components/combobox/combobox","components/searchbox/searchbox","components/dropdown/dropdown","components/tab/tab","components/text/text","components/textarea/textarea","components/time/time","components/tip/tip","components/modal/modal","components/message/message","components/pagination/pagination","components/datePanel/datePanel","components/date/date","components/datetime/datetime","components/dateRange/dateRange","components/datetimeRange/datetimeRange","components/menu/menu","components/checkboxGroup/checkGroup","components/checkboxGroup/checkItem","components/table/colspan","components/table/colsResizable","components/table/colsToggle","components/table/filter","components/table/sort","components/table/details","components/table/table","components/table/tableConfig","components/unifyValid/unifyValid","components/switch/switch","components/progressbar/progressbar","components/wizard/wizard","components/ip/ip","components/spinner/spinner","components/actionMenu/actionMenu","components/leftmenu/leftmenu","components/charts/charts","components/fileupload/fileupload","components/buttonGroup/btnCheckboxGroup","components/autoComplete/autoComplete","components/buttonGroup/btnRadioGroup","components/alert/alert","dist/tiny.tpls"],function(){}),define("tiny.min.build",function(){});